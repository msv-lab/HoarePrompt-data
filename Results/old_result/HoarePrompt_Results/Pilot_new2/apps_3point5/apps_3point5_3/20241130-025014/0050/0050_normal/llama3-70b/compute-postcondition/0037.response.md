Output State: `n`, `m`, `r`, `s`, `b`, `shares` are integers where `m` is between 1 and 29, `r` is updated based on the formula `r += shares * b[i]`, and `shares` is reset to 0.