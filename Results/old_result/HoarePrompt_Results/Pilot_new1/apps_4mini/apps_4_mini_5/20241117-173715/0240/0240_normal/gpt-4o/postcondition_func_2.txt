The function accepts a string `chars` consisting of digits and a non-empty substring `sub`. It generates all possible permutations of `chars` and yields those permutations that are valid numbers according to the `is_valid_number` function with respect to `sub`. If `chars` is empty, no candidates are yielded. The function does not return a list; instead, it yields valid candidates one by one, making it a generator. If no valid permutations exist, the function yields nothing.