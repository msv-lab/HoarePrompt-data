Correctness: **False**

The code does not follow the problem description for every potential case. The issue lies in the fact that the code only considers the digits present in the cubes and forms the maximum number from those digits. However, it does not take into account the fact that Masha cannot make digit 6 from digit 9 and vice-versa using cube rotations.

For example, in the second test case provided in the problem description:
```
3
0 1 3 5 6 8
1 2 4 5 7 8
2 3 4 6 7 9
```
The code would output 98 as the maximum number that can be formed. However, this is incorrect because Masha cannot make digit 8 from the cubes provided. The correct output should be 97.

Therefore, the code is incorrect as it does not handle the restriction of not being able to make digit 6 from digit 9 and vice-versa.