Correctness: **False**.

The provided program has a logical issue when recording operations. The problem states that the pile was non-empty before each operation of taking one stone from the pile. This means the program must ensure that at least as many stones are present in the pile at the start as there are "-" operations in the input. 

The problem with the program is that it uses `max(0, stones - 1)` for "-" operations, which can misleadingly allow the count of stones to go to zero when it should have actually started with a higher value if there are more "-" operations than "+". 

For example, if the input is:
```
5
-----
```
This would imply that the program starts at `0` stones and tries to remove 5 stones, which is invalid based on the requirement that the pile must be non-empty before each "-" operation.

Thus, there are cases where the program does not adhere to the criteria defined by the problem statement.