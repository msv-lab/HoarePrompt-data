The function takes a node, a graph represented as an adjacency list, a set of visited nodes, and a set for the current recursion stack. The graph is a dictionary where each key is a vertex, and its value is a list of vertices that the key vertex points to. The visited and rec_stack sets are used to keep track of visited nodes and nodes currently in the recursion stack, respectively.