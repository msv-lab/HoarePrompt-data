d is an integer (1 ≤ d ≤ 10^5), n and m are integers (1 ≤ n, m ≤ 10^5), sofa is a list of tuples each containing four integers (x_1, y_1, x_2, y_2) representing the coordinates of the sofas, and cnt_l, cnt_r, cnt_t, cnt_b are non-negative integers (0 ≤ cnt_l, cnt_r, cnt_t, cnt_b ≤ d - 1).