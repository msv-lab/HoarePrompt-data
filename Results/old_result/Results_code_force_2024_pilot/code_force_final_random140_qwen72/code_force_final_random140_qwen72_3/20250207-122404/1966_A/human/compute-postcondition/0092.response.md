Functionality: ** The function `func` reads multiple test cases from the standard input. Each test case consists of two integers `n` and `k`, followed by a list of `n` integers. For each test case, the function counts the frequency of each integer in the list. If any integer appears `k` or more times, the function prints `k - 1`; otherwise, it prints `n`. After processing all test cases, the function terminates. **