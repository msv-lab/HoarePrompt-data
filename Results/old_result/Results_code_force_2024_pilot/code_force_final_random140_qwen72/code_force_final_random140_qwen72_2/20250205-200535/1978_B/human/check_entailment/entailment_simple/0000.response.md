Reasoning:

1. **Input Handling**: The function reads the number of test cases `t` and then iterates over each test case. For each test case, it reads three integers `n`, `a`, and `b`.

2. **Initial Profit Calculation**: The initial profit is calculated as `n * a`, which is the profit if all buns are sold at the usual price `a`.

3. **Condition Check**: The function checks if `a` is greater than or equal to `b`. If true, it prints the initial profit because selling at the usual price is more profitable. This is correct because if the usual price is already higher or equal to the promotional price, there's no benefit in using the promotion.

4. **Promotion Calculation**: If `a` is less than `b`, the function calculates the optimal `k` as `min(n - 1, b - a)`. This ensures that `k` does not exceed the number of buns or the difference between `b` and `a`.

5. **Profit Adjustment**: The profit is adjusted by adding the additional profit from the promotional prices. The formula used is:
   \[
   \text{profit} = \text{profit} + (b - a) \times (k + 1) - \frac{k \times (k + 1)}{2}
   \]
   This formula correctly accounts for the sum of the first `k` terms of an arithmetic series starting from `b - a` and decreasing by 1 each time.

6. **Output**: The final profit is printed for each test case.

The logic and calculations in the program are consistent with the problem statement and handle all edge cases correctly. Therefore, the program is correct.

Correctness: **True**