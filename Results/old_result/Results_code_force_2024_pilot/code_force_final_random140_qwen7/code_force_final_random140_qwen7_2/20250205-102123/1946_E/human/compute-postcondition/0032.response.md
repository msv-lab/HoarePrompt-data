Postcondition: `cur` is an integer, `M1` is greater than 1, `nums_left` is `L[-1] - 3`, `i` is greater than 1. If `i` equals `L[cur]`, then `cur` is decremented by 1. Otherwise, `ans` is updated to `ans * (L[-1] - 3) % MOD`.