Reasoning:
1. The program correctly reads the number of test cases `t` and processes each test case individually.
2. For each test case, it reads the number of containers `n` and the initial amounts of water in each container.
3. It calculates the target amount of water per container, which is the total amount of water divided by `n`.
4. It then iterates through each container and checks if the cumulative difference between the current container's water and the target amount results in a negative balance at any point.
5. If a negative balance is detected, it means it's impossible to redistribute the water to make all containers have the same amount without violating the rule that water can only be poured from a container with more water to a container with less water.
6. The program correctly prints "YES" if it's possible to make all containers have the same amount of water and "NO" otherwise.

Given the logic and the steps described, the program appears to correctly implement the solution to the problem.

Correctness: **True**