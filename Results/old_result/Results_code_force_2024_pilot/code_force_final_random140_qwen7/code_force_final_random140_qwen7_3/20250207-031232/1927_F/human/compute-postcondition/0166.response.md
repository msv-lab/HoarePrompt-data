Output State: `que` is a deque containing the shortest path from `start` to `end`, `prev` is a dictionary mapping each node in this path (except `start`) to its immediate predecessor, `path` is a list containing the complete shortest path from `start` to `end`, and `curr` is `-1`.

Explanation: The loop continues to execute as long as `curr` is not equal to `-1`. Since `curr` is set to the immediate predecessor of the current `curr` within the loop, and the process continues until `curr` becomes `-1`, it means that all nodes in the shortest path from `start` to `end` have been appended to the `path` list. Once `curr` equals `-1`, the loop terminates. At this point, `path` contains the full shortest path from `start` to `end`, and `curr` is set to `-1` as per the loop condition.