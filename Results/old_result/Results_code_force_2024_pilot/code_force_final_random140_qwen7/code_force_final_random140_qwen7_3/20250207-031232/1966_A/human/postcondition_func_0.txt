The function processes multiple test cases. For each test case, it reads two integers \( n \) and \( k \), and a list of \( n \) integers representing card values. It then counts the occurrences of each card value. If any card value appears \( k \) or more times, it decreases the initial count \( n \) by \( k-1 \). Finally, it prints the adjusted count \( n \) for each test case.