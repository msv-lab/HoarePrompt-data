Reasoning:

1. **Input Parsing**: The program correctly parses the input values for \( t \), \( n \), \( k \), and \( q \) for each test case. It also correctly constructs the lists \( a \) and \( b \) and computes the differences \( ad \) and \( bd \).

2. **Speed Calculation**: The program correctly calculates the speeds \( v \) between the points using the formula \( v[i] = \frac{ad[i]}{bd[i]} \).

3. **Query Handling**: For each query, the program uses binary search (`bisect_left`) to find the appropriate segment of the list \( a \) that the query point \( ql \) falls into. If the query point exactly matches a known point, it directly outputs the corresponding time. Otherwise, it calculates the time taken to travel the segment using the formula \( m += b[s - 1] + bd[s] * (ql // ad[s]) \).

4. **Edge Cases**: The program handles edge cases where the query point exactly matches a known point and ensures that the query point is within the bounds of the segments defined by \( a \).

5. **Output**: The program outputs the results for each query as required, rounding down to the nearest integer.

Given the problem description and the annotated program, the logic implemented in the function appears to be correct and aligns with the requirements specified. Therefore, the program should produce the correct output for the given inputs.

Correctness: **True**