Let's analyze the given program step by step to determine if it correctly solves the problem.

### Step-by-Step Analysis:

1. **Reading Input:**
   - The program reads the number of test cases `t`.
   - For each test case, it reads the length of the array `n` and the array elements `ar`.

2. **Sorting the Array:**
   - The array `ar` is sorted in non-decreasing order using `list(sorted(list(map(int, input().split()))))`.

3. **Calculating Beauty:**
   - The beauty of the array is calculated as the sum of differences between consecutive elements.
   - Specifically, the program computes `sum([ar[i] - ar[i - 1] for i in range(1, n)])`.

### Reasoning:

1. **Sorting the Array:**
   - Sorting the array ensures that the smallest elements are at the beginning and the largest elements are at the end.
   - This maximizes the difference between consecutive elements because the difference between two close numbers is smaller than the difference between two distant numbers.

2. **Summing Differences:**
   - By sorting, the expression `ar[i] - ar[i - 1]` for `i` from 1 to `n-1` will yield the maximum possible values for these differences.
   - This is because the smallest element will be paired with the next smallest element, the second smallest with the third smallest, and so on.

3. **Edge Cases:**
   - The program handles arrays of different lengths and values within the specified constraints.
   - It correctly calculates the maximum beauty by ensuring the array is sorted before computing the differences.

### Conclusion:

The program correctly sorts the array and then calculates the beauty by summing the differences between consecutive elements. This approach ensures that the beauty is maximized for any given array.

### Final Answer:

Correctness: **True**