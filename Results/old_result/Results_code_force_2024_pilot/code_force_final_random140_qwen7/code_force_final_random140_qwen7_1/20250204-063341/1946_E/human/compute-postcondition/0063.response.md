Postcondition: `cur` is an integer, `i` is increased by 1, `ans` is updated to `ans * (N - R[0] - 2) % MOD`, `nums_left` is `N - R[0] - 3`, and `i + 1 < N`. If `i` equals `R[cur]` and `cur` becomes 4, then `ans` is further updated to `ans * (N - R[0] - 3) % MOD`. Otherwise, `ans` remains as `ans * (N - R[0] - 2) % MOD * (N - R[0] - 3) % MOD`.