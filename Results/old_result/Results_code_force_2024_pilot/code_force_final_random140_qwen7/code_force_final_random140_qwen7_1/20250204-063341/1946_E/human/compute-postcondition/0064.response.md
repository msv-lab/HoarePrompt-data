Postcondition: `cur` is an integer, `i` is increased by 1, `ans` is updated to either `ans * (N - R[0] - 2) % MOD` (if `i != R[cur]`) or `ans * (N - R[0] - 2) % MOD * (N - R[0] - 3) % MOD` (if `i == R[cur]`), `nums_left` is `N - R[0] - 3`, and `i + 1 < N`.