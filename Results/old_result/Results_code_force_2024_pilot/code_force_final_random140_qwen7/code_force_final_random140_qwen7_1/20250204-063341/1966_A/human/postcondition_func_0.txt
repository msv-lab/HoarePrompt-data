The function processes multiple test cases, where for each test case, it takes two integers \( n \) and \( k \), and a list of \( n \) integers \( c \). It then counts the frequency of each integer in the list. If any integer appears at least \( k \) times, it sets the result to \( k - 1 \); otherwise, it sets the result to \( n - 1 \). Finally, it prints the result for each test case.