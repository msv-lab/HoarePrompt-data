Postcondition: `i` is 1, `n` must be greater than 0, and either `ans` is 1 and we break out of the most internal loop or if statement, or `ans` is 2 and `once` is True.