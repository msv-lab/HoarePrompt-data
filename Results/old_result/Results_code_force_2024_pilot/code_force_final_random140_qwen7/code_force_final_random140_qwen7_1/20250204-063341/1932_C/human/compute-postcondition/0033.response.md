Postcondition: `s` is a non-empty string, `p` is updated based on the value of `strr`. If `strr` is 'R', then `r` is increased by 1 and `p` is updated to the value of `p * arr[r] % m`. If `strr` is not 'R', then `p` is updated to the value of `p * arr[l] % m` and `l` is decreased by 1.