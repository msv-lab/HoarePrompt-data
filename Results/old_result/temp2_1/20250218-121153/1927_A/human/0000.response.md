```python
import io
import sys

def capture_output(func, input_data):
    sys.stdin = io.StringIO(input_data)
    captured_output = io.StringIO()
    sys.stdout = captured_output
    func()
    sys.stdout = sys.__stdout__
    return captured_output.getvalue().strip()

# Import the function to be tested
from program import func

# Test cases based on the problem description
def test_func():
    # Test case 1: Multiple black cells spread out
    input_data = "8\n6\nWBBWBW\n1\nB\n2\nWB\n3\nBBW\n4\nBWWB\n6\nBWBWWB\n6\nWWBBWB\n9\nWBWBWWWBW"
    expected_output = "4\n1\n1\n2\n4\n6\n4\n7"
    assert capture_output(func, input_data) == expected_output

    # Test case 2: All cells are white
    input_data = "1\n5\nWWWWW"
    expected_output = "0"
    assert capture_output(func, input_data) == expected_output

    # Test case 3: Single black cell
    input_data = "1\n1\nB"
    expected_output = "1"
    assert capture_output(func, input_data) == expected_output

    # Test case 4: Only one black cell at the beginning
    input_data = "1\n4\nBWWW"
    expected_output = "1"
    assert capture_output(func, input_data) == expected_output

    # Test case 5: Only one black cell at the end
    input_data = "1\n4\nWWWB"
    expected_output = "1"
    assert capture_output(func, input_data) == expected_output

    # Test case 6: All cells are black
    input_data = "1\n4\nBBBB"
    expected_output = "4"
    assert capture_output(func, input_data) == expected_output

    # Test case 7: Black cells at both ends
    input_data = "1\n5\nBWWBW"
    expected_output = "5"
    assert capture_output(func, input_data) == expected_output

    # Test case 8: Edge case with maximum number of test cases
    input_data = "10000\n1\nB\n1\nB\n1\nB\n1\nB\n1\nB\n" * 2000
    expected_output = "\n".join(["1"] * 10000)
    assert capture_output(func, input_data) == expected_output

# Run the test cases
test_func()
```

This script includes a variety of test cases to ensure the function `func` works correctly according to the problem description. The `capture_output` function is used to simulate the input and capture the output of the function being tested. Each test case asserts that the output matches the expected result.