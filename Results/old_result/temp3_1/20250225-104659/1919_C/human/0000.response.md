Certainly! Given the problem description and the provided program, we need to write a test script that uses assertions to verify the correctness of the program. Since the provided program is a script that reads from standard input and writes to standard output, we'll use the `run_program_with_captured_io` function to capture the output and compare it with the expected results.

Here's the complete Python script with assertions for testing the provided program:

```python
import io
import sys

def run_program_with_captured_io(input_data):
    original_stdin = sys.stdin
    original_stdout = sys.stdout

    try:
        sys.stdin = io.StringIO(input_data)
        captured_output = io.StringIO()
        sys.stdout = captured_output

        with open("program.py", "r", encoding="utf-8") as f:
            code = f.read()
            exec(code, {})

        return captured_output.getvalue().strip()
    
    finally:
        sys.stdin = original_stdin
        sys.stdout = original_stdout


# Test cases
test_cases = [
    (
        "5\n5\n1 2 3 4 5\n8\n8 2 3 1 1 7 4 3\n5\n3 3 3 3 3\n1\n1\n2\n2 1",
        "3\n1\n0\n0\n0"
    ),
    (
        "1\n3\n1 3 2",
        "1"
    ),
    (
        "1\n4\n4 3 2 1",
        "0"
    ),
    (
        "1\n6\n1 2 3 4 5 6",
        "5"
    ),
    (
        "1\n2\n2 1",
        "0"
    ),
    (
        "1\n1\n1",
        "0"
    ),
    (
        "1\n10\n1 2 3 4 5 6 7 8 9 10",
        "9"
    ),
    (
        "1\n10\n10 9 8 7 6 5 4 3 2 1",
        "0"
    ),
    (
        "1\n10\n1 10 2 9 3 8 4 7 5 6",
        "4"
    ),
]

# Run the test cases
for i, (input_data, expected_output) in enumerate(test_cases):
    assert run_program_with_captured_io(input_data) == expected_output, f"Test case {i+1} failed"

print("All test cases passed!")
```

### Explanation:
- **`run_program_with_captured_io` Function**: This function captures the standard output of the program when it is executed with a given input.
- **Test Cases**: We define several test cases with different inputs and their corresponding expected outputs.
- **Assertions**: For each test case, we use an assertion to check if the output of the program matches the expected output. If any assertion fails, it will raise an error indicating which test case failed.
- **Edge Cases**: The test cases cover various scenarios, including increasing sequences, decreasing sequences, and mixed sequences, to ensure the program handles all possible inputs correctly.

This script will help verify the correctness of the provided program by running it against multiple test cases.