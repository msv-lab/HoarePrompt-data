```python
# Import the necessary function from the provided program
from program import func

# Helper function to capture the output of the program when executed with specific input
import io
import sys

def run_program_with_captured_io(input_data):
    original_stdin = sys.stdin
    original_stdout = sys.stdout

    try:
        sys.stdin = io.StringIO(input_data)
        captured_output = io.StringIO()
        sys.stdout = captured_output

        func()  # Call the main function from the program

        return captured_output.getvalue().strip()
    
    finally:
        sys.stdin = original_stdin
        sys.stdout = original_stdout

# Test cases
test_cases = [
    (
        "9\n4 6\n6 1 2 4\n3 5 1 7 2 3\n3 4\n1 1 1\n1 1 1 1\n5 5\n1 2 3 4 5\n1 2 3 4 5\n2 6\n5 8\n8 7 5 8 2 10\n2 2\n4 1\n9 6\n4 6\n8 10 6 4\n3 10 6 1 8 9\n3 5\n6 5 2\n1 7 9 7 2\n5 5\n9 10 6 3 7\n5 9 2 3 9\n1 6\n3\n2 7 10 1 1 5",
        "16\n0\n12\n11\n10\n23\n15\n25\n7"
    ),
    (
        "1\n3 3\n1 2 3\n4 5 6",
        "9"
    ),
    (
        "1\n3 3\n3 2 1\n1 2 3",
        "9"
    ),
    (
        "1\n1 1\n1\n2",
        "1"
    ),
    (
        "1\n2 2\n1 1\n2 2",
        "2"
    ),
    (
        "1\n2 2\n1 1\n1 1",
        "0"
    ),
    (
        "1\n1 5\n1\n1 2 3 4 5",
        "4"
    ),
    (
        "1\n5 5\n1 2 3 4 5\n5 4 3 2 1",
        "20"
    ),
    (
        "1\n3 5\n1 5 9\n2 4 6 8 10",
        "12"
    )
]

# Run each test case and assert the output
for i, (input_data, expected_output) in enumerate(test_cases):
    assert run_program_with_captured_io(input_data) == expected_output, f"Test case {i+1} failed"

print("All test cases passed!")
```

This script includes a helper function `run_program_with_captured_io` to capture the output of the program when given specific input. It then defines several test cases based on the problem description and the example provided. Each test case is run, and the output is asserted against the expected result. If all assertions pass, it prints a success message.