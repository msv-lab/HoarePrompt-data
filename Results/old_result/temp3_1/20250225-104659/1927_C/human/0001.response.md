```python
import io
import sys
from program import func

def run_program_with_captured_io(input_data):
    original_stdin = sys.stdin
    original_stdout = sys.stdout

    try:
        sys.stdin = io.StringIO(input_data)
        captured_output = io.StringIO()
        sys.stdout = captured_output

        func()

        return captured_output.getvalue().strip()
    
    finally:
        sys.stdin = original_stdin
        sys.stdout = original_stdout

# Test cases
input_data_1 = """6
6 5 6
2 3 8 5 6 5
1 3 4 10 5
6 5 6
2 3 4 5 6 5
1 3 8 10 3
3 3 4
1 3 5
2 4 6
2 5 4
1 4
7 3 4 4 2
1 4 2
2
6 4 4 2
1 5 2
3
2 2 1 4 3"""
expected_output_1 = "YES\nNO\nYES\nYES\nNO\nNO"

assert run_program_with_captured_io(input_data_1) == expected_output_1

input_data_2 = """1
4 4 4
1 2 3 4
1 2 3 4"""
expected_output_2 = "YES"

assert run_program_with_captured_io(input_data_2) == expected_output_2

input_data_3 = """1
4 4 4
1 2 3 4
5 6 7 8"""
expected_output_3 = "NO"

assert run_program_with_captured_io(input_data_3) == expected_output_3

input_data_4 = """1
5 5 6
1 2 3 4 5
1 2 3 4 5"""
expected_output_4 = "YES"

assert run_program_with_captured_io(input_data_4) == expected_output_4

input_data_5 = """1
5 5 6
1 2 3 4 5
6 7 8 9 10"""
expected_output_5 = "NO"

assert run_program_with_captured_io(input_data_5) == expected_output_5

input_data_6 = """1
5 5 6
1 2 3 4 5
1 2 3 4 6"""
expected_output_6 = "NO"

assert run_program_with_captured_io(input_data_6) == expected_output_6

input_data_7 = """1
5 5 6
1 2 3 4 5
1 2 3 4 4"""
expected_output_7 = "NO"

assert run_program_with_captured_io(input_data_7) == expected_output_7

input_data_8 = """1
5 5 6
1 2 3 4 5
1 2 3 4 5"""
expected_output_8 = "YES"

assert run_program_with_captured_io(input_data_8) == expected_output_8

# End of script
```

This script includes several test cases to verify the correctness of the provided program. Each test case checks different scenarios, including cases where it is possible to select the required elements and cases where it is not possible. The `run_program_with_captured_io` function is used to simulate the program's execution and capture its output for comparison with the expected results.