Precondition: **The function `func` is incomplete and does not match the problem description. The correct function definition should be `def min_penalty(a, n):` where `a` is a list of integers such that 1 <= len(a) <= 2 * 10^5 and 1 <= a_i <= len(a), and `n` is the length of the list `a` and is a positive integer.**