Precondition: **The function `func` is incomplete and does not match the problem description. The correct function definition should be `def func(t, test_cases):` where `t` is an integer representing the number of test cases (1 ≤ t ≤ 5000), and `test_cases` is a list of tuples, each containing an integer `n` (2 ≤ n ≤ 50) and a list of integers `p` (1 ≤ p_i ≤ n, p_i ≠ i, and all p_i are distinct) representing the best friends for each friend.**