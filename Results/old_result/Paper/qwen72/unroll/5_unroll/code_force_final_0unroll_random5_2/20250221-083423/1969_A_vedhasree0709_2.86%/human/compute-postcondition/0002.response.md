The function `func` accepts two parameters: `t` and `test_cases`. `t` is an integer representing the number of test cases, with the constraint 1 ≤ t ≤ 5000. `test_cases` is a list of tuples, where each tuple contains an integer `n` (2 ≤ n ≤ 50) and a list of integers `p` (1 ≤ p_i ≤ n, p_i ≠ i, and all p_i are distinct), representing the best friends for each friend.

The function returns a list of results, where each result corresponds to a test case. For each test case, the function determines if it is possible to pair each friend with their best friend such that every friend is paired with exactly one other friend, and no friend is paired with themselves. If such a pairing is possible, the function returns "Yes" for that test case; otherwise, it returns "No".

Functionality: **The function accepts an integer `t` and a list of tuples `test_cases`. For each test case, it determines if it is possible to pair each friend with their best friend such that every friend is paired with exactly one other friend, and no friend is paired with themselves. It returns a list of results, where each result is "Yes" if the pairing is possible, or "No" if it is not.**