The function `func` accepts multiple test cases. Each test case includes three integers: `n`, `m`, and `k`. Here, `n` represents the number of children (2 ≤ n ≤ 10^5), `m` represents the number of pairs of friends (0 ≤ m ≤ min(10^5, n(n-1)/2)), and `k` represents the number of excursions (1 ≤ k ≤ 2 × 10^5). Additionally, for each test case, `m` lines follow, each containing three integers `a_i`, `b_i`, and `f_i`, which represent the indices of the pair of children who are friends (1 ≤ a_i, b_i ≤ n, a_i ≠ b_i) and their initial friendship value (1 ≤ f_i ≤ 10^9). The function should return an integer for each test case, which is the answer to the problem modulo (10^9 + 7).

Functionality: **The function accepts multiple test cases, each with three integers `n`, `m`, and `k`, and `m` lines of friendship data. It returns an integer for each test case, representing the answer to the problem modulo (10^9 + 7).**