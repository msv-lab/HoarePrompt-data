Output State: **The function should take three parameters: `n` (the number of children), `m` (the number of pairs of friends), and `k` (the number of excursions). Each of these parameters is an integer, with constraints 2 ≤ n ≤ 10^5, 0 ≤ m ≤ min(10^5, n(n-1)/2), and 1 ≤ k ≤ 2 × 10^5. Additionally, the function should take a list of `m` tuples, each containing three integers `a_i`, `b_i`, and `f_i`, representing the indices of the pair of children who are friends and their initial friendship value, with constraints 1 ≤ a_i, b_i ≤ n, a_i ≠ b_i, and 1 ≤ f_i ≤ 10^9. The sum of `n` and `m` over all test cases does not exceed 10^5, and the sum of `k` over all test cases does not exceed 2 × 10^5. `t` is an input integer. `M` is now 1000000007.**