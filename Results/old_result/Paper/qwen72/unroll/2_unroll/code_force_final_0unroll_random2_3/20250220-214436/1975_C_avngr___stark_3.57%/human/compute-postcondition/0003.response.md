Functionality: **The function accepts multiple test cases, each containing an integer n (2 ≤ n ≤ 10^5) representing the length of an array a, and n integers a_1, a_2, ..., a_n (1 ≤ a_i ≤ 10^9) representing the elements of the array a. The total number of test cases t is an integer (1 ≤ t ≤ 500), and the sum of n over all test cases does not exceed 10^5. The function returns the result of processing each test case.**