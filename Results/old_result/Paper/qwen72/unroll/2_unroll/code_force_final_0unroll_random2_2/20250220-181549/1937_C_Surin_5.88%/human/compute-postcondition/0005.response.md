Functionality: ** The function `func` processes a sequence of test cases, each with an integer `n` (2 ≤ n ≤ 10^4). For each test case, it interacts with an external system by making at most 3n queries to find two indices `prev` and `v1` such that the bitwise XOR of the elements at these indices in the permutation is maximized. After finding these indices, it prints them in the format `! {prev} {v1}`. The function does not explicitly accept any parameters and does not return any values. After processing all test cases, the variables `kp`, `n`, `g`, `v1`, and `prev` will hold their final values corresponding to the last test case processed. **