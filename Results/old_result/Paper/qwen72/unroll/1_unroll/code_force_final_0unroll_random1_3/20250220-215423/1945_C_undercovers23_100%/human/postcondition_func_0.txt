The function `func` processes multiple test cases, each containing an integer `n` (3 ≤ n ≤ 3·10^5) and a string `a` of length `n` consisting only of '0' and '1'. For each test case, it finds the smallest index (1-based) where the percentage of '0's up to that index and the percentage of '1's after that index are both at least 50%. If no such index exists, it prints 0 if the overall percentage of '1's is at least 50%, otherwise it prints `n`. The function does not return any value; it prints the result for each test case directly.