The function `func` processes a series of test cases. It accepts an integer `t` representing the number of test cases, and for each test case, it accepts two integers `n` and `k` such that 1 ≤ k ≤ n ≤ 10^9. For each test case, the function calculates and prints a single integer result. If `k` is greater than `(n + 1) // 2`, the function performs a series of calculations and prints a value derived from these calculations. Otherwise, it prints `2 * k - 1`. After processing all test cases, the function has no side effects on the input variables `n` and `k`, and all local variables are reset for the next test case.