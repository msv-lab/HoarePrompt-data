Precondition: **The function should take parameters `t`, `n`, `q`, `a`, and `queries` where `t` is an integer (1 ≤ t ≤ 10^4) representing the number of test cases, `n` and `q` are integers (2 ≤ n ≤ 2 · 10^5, 1 ≤ q ≤ 2 · 10^5) representing the number of elements in the array and the number of queries, respectively, `a` is a list of integers (0 ≤ a_i < 2^30) representing the elements of the array, and `queries` is a list of tuples (l, r) where each l and r are integers (1 ≤ l < r ≤ n) representing the query ranges. The sum of `n` over all test cases does not exceed 2 · 10^5, and the sum of `q` over all test cases does not exceed 2 · 10^5.**