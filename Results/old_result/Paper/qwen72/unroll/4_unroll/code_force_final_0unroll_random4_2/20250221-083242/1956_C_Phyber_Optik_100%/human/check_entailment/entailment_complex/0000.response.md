Reasoning:

1. **Sum Calculation**:
   - The function calculates the sum using the formula \( \sum_{i=2}^{n} (i^2 - (i-1)^2) \cdot i \).
   - Simplifying the formula: \( (i^2 - (i-1)^2) = (i^2 - (i^2 - 2i + 1)) = 2i - 1 \).
   - Therefore, the sum becomes \( \sum_{i=2}^{n} (2i - 1) \cdot i = \sum_{i=2}^{n} (2i^2 - i) \).
   - This can be further simplified to \( \sum_{i=2}^{n} 2i^2 - \sum_{i=2}^{n} i \).
   - The sum of squares of the first \( n \) integers is \( \frac{n(n+1)(2n+1)}{6} \), and the sum of the first \( n \) integers is \( \frac{n(n+1)}{2} \).
   - Therefore, the sum is \( 2 \left( \frac{n(n+1)(2n+1)}{6} - 1 \right) - \left( \frac{n(n+1)}{2} - 1 \right) \).
   - Simplifying this, we get \( \frac{2n(n+1)(2n+1)}{6} - 2 - \frac{n(n+1)}{2} + 1 \).
   - This simplifies to \( \frac{n(n+1)(2n+1)}{3} - \frac{n(n+1)}{2} - 1 \).
   - However, the function starts the sum from 1, so the correct sum should be \( \sum_{i=1}^{n} i^2 \), which is \( \frac{n(n+1)(2n+1)}{6} \).

2. **Operation Count**:
   - The function prints \( 2n \) operations for each test case, which is within the allowed limit of \( 2n \) operations.

3. **Operation Execution**:
   - The function prints two types of operations for each row \( j \) from 1 to \( n \):
     - Type 1 operation: `1, n - j + 1, *range(1, n + 1)`.
     - Type 2 operation: `2, n - j + 1, *range(1, n + 1)`.
   - These operations ensure that each row and each column is filled with the permutation \( [1, 2, \ldots, n] \).

4. **Matrix Sum**:
   - The sum of the matrix after performing these operations is \( n \times \sum_{i=1}^{n} i = n \times \frac{n(n+1)}{2} \).
   - This is the maximum possible sum for an \( n \times n \) matrix filled with the numbers 1 to \( n \).

5. **Output Format**:
   - The function correctly prints the sum and the number of operations.
   - The operations are printed in the correct format as required by the problem statement.

Given the reasoning above, the function correctly calculates the maximum sum and performs the operations within the allowed limit. Therefore, the program is correct.

Correctness: **True**