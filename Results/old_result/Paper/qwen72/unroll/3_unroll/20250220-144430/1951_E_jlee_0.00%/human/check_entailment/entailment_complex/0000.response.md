### Reasoning:

1. **Input Handling:**
   - The function correctly reads the number of test cases `t` and processes each test case by reading a string `string`.
   - The input constraints are respected, and the function handles the input as described in the problem statement.

2. **Single Character String:**
   - If the string has only one character (`n == 1`), the function correctly prints 'NO' because a single character string is always a palindrome and cannot be partitioned into non-palindromic substrings.

3. **First and Last Character Check:**
   - If the first and last characters of the string are different (`x != s[-1]`), the function correctly prints 'YES' and the entire string as a single non-palindromic substring. This is valid because a string with different first and last characters cannot be a palindrome.

4. **All Characters the Same:**
   - If all characters in the string are the same (`s.count(x) == n`), the function correctly prints 'NO' because any substring of a string with all identical characters is a palindrome.

5. **Almost All Characters the Same:**
   - If all but one character in the string are the same (`s.count(x) == n - 1`), the function checks if the string can be partitioned into non-palindromic substrings:
     - If the string has an odd length and the middle character is different from `x`, it prints 'NO' because the middle character will always form a palindrome.
     - Otherwise, it prints 'YES' and the entire string as a single non-palindromic substring. This is valid because the string can be split into two parts where at least one part is not a palindrome.

6. **General Case:**
   - The function iterates through the first half of the string to find a non-palindromic partition:
     - If it finds a pair of characters that are different (`s[j] != s[n - 1 - j]`), it prints 'YES' and the entire string as a single non-palindromic substring.
     - If it finds a character different from `x` and another character different from `x` later, it prints 'YES' and the string split into two parts.
     - If it finds a character different from `x` and another character different from `x` at the same position, it prints 'YES' and the string split into two parts, ensuring the split is valid.
     - If it does not find a valid partition, it prints 'NO'.

7. **Output Format:**
   - The function correctly prints 'YES' or 'NO' for each test case.
   - If 'YES' is printed, it also prints the number of substrings and the substrings themselves, which is consistent with the problem statement.

### Correctness:
**True**

The function correctly handles all the edge cases and general cases as described in the problem statement. It ensures that the output is valid for each test case and follows the specified format.