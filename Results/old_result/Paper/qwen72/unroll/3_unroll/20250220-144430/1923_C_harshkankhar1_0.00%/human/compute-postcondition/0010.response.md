Functionality: **The function accepts parameters `t`, `n`, `q`, `c`, and `queries`. `t` represents the number of test cases (1 ≤ t ≤ 10^4). `n` and `q` represent the length of the array `c` and the number of queries (1 ≤ n, q ≤ 3 · 10^5), respectively. `c` is a list of positive integers (1 ≤ c_i ≤ 10^9). `queries` is a list of `q` pairs of integers (l_i, r_i) representing the borders of the subarray (1 ≤ l_i ≤ r_i ≤ n). The function returns the results of the queries based on the subarrays defined by `l_i` and `r_i` for each test case. The sum of `n` over all test cases does not exceed 3 · 10^5, and the sum of `q` over all test cases does not exceed 3 · 10^5.**