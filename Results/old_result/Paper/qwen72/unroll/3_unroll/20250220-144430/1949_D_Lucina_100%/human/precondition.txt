n is an integer such that 2 <= n <= 24. The input is a 2D list of characters of size n x n, where each character is either 'F', 'S', '?', or '.'. The character at position (i, j) is the same as the character at position (j, i) for all i and j, and the character at position (i, i) is always '.'. At most \lfloor \frac{n}{2} \rfloor transition videos are already decided, meaning there are at most 2\lfloor \frac{n}{2} \rfloor characters in the input that are 'F' or 'S'.