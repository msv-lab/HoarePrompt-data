Output State: **The recursion limit for the program is set to 1,000,000. The function `func` is expected to handle multiple test cases. Each test case consists of an undirected weighted graph defined by a number of vertices `n` and edges `m`, where 3 ≤ n ≤ m ≤ min(n·(n - 1)/2, 2·10^5). The edges are represented by a list of tuples, each containing three integers (u, v, w) where 1 ≤ u, v ≤ n, u ≠ v, and 1 ≤ w ≤ 10^6, indicating an edge between vertices u and v with weight w. The graph does not contain loops or multiple edges between the same pair of vertices, and it is guaranteed that there is at least one simple cycle in the graph. The number of test cases `t` is an integer where 1 ≤ t ≤ 10^4, and the sum of the values of m for all test cases does not exceed 2·10^5.**