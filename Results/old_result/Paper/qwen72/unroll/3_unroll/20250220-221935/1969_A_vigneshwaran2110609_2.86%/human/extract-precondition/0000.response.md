Precondition: **The function `func` is intended to solve a problem with multiple test cases, where each test case includes an integer `n` representing the number of friends (2 ≤ n ≤ 50) and a list of integers `p` of length `n` (1 ≤ p_i ≤ n, p_i ≠ i, all p_i are distinct). The function should calculate and return the minimum number of invitations required to ensure at least 2 friends attend the party.**