Output State: **The function `func` is expected to handle multiple test cases. Each test case includes an integer `n` (2 ≤ n ≤ 50) representing the number of cells in the ribbon, and a list of integers `a` of length `n` where each element is either 0 (free cell) or 1 (cell with a chip). The list `a` must contain at least one chip (1). The variable `t` is now an input integer representing the number of test cases to be processed.**

The initial state remains valid, and the variable `t` has been assigned the value of an input integer, which represents the number of test cases to be processed.