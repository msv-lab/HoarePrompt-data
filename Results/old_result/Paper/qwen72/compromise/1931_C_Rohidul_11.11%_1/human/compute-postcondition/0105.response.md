Output State: **`t` is an integer such that 1 <= t <= 10^4, `n` is an input integer greater than 1 for each test case, `a` is a list of integers provided by the user input for each test case, `l` and `r` are indices such that `l` is the smallest index where `a[l]` is not equal to `a[l + 1]` and `r` is the largest index where `a[r]` is not equal to `a[r - 1]`, `st` is the number of consecutive elements from the beginning of the list `a` that are equal to `a[0]`, `end` is the number of consecutive elements from the end of the list `a` that are equal to `a[-1]`. For each test case, if `a[0]` is equal to `a[-1]`, then `ans` is `r - l - 1`. Otherwise, if `st` is 0 and `end` is 0, then `ans` is `len(a) - 1`. If either `st` is not 0 or `end` is not 0, then `ans` is `r - l`.**

In natural language, this means that after all iterations of the loop have completed, the variable `t` remains an integer within the specified range, representing the total number of test cases. For each test case, the variable `n` is the size of the array `a`, and `a` is the list of integers provided by the user. The indices `l` and `r` are adjusted such that `l` is the smallest index where the elements are not consecutive duplicates from the start, and `r` is the largest index where the elements are not consecutive duplicates from the end. The variables `st` and `end` count the number of consecutive duplicates at the start and end of the array, respectively. The variable `ans` is calculated based on the conditions provided in the loop, and the result is printed for each test case.