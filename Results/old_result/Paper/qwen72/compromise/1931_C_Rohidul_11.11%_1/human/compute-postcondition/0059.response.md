Output State: **`t` is an integer such that 1 <= t <= 10^4, `n` is an input integer greater than 1, `a` is a list of integers provided by the user input where the first `st` elements are all equal and the last `end` elements are equal, `l` is `st`, `r` is `l`, `st` must be less than `n - end`, `end` is the number of consecutive equal elements from the end of the list, `ans` is calculated based on the conditions provided.**

Natural Language Explanation:
- The initial state conditions for `t`, `n`, and `a` remain unchanged.
- The loop continues to decrement `r` and increment `end` as long as `r` is greater than `l` and the current element `a[r]` is equal to the previous element `a[r - 1]`.
- After the loop finishes, `r` will be equal to `l`, which is `st`.
- The variable `end` will hold the number of consecutive equal elements from the end of the list.
- The condition `st` must be less than `n - end` ensures that there are enough elements in the list for the loop to have executed.