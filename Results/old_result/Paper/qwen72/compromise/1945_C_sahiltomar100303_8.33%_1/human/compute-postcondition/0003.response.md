The function `func` is designed to process multiple test cases. Each test case contains an integer `n` (3 ≤ n ≤ 3·10^5) and a string `a` of length `n` consisting only of '0' and '1'. The number of test cases `t` is an integer (1 ≤ t ≤ 2·10^4), and the sum of `n` over all test cases does not exceed 3·10^5. The function returns the result for each test case based on the input parameters.

Functionality: **The function processes multiple test cases, each with an integer `n` and a string `a` of length `n` containing only '0' and '1'. It returns the result for each test case based on the given inputs.**