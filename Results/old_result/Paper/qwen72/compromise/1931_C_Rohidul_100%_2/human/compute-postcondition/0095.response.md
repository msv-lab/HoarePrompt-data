Functionality: ** The function `func` processes multiple test cases, each consisting of an integer `n` representing the size of an array and a list `a` of `n` integers. For each test case, it calculates the number of elements in the array that need to be removed to make the array either empty or have all elements equal to the first or last element, depending on the specific conditions. The function prints the result for each test case. After the function concludes, `t` is an integer such that 1 <= t <= 10^4, `n` is an input integer greater than 1, `a` is a list of integers provided by the new input for each test case, `le` is the length of the list `a`, `l` is the index of the first element in `a` that is not equal to `a[0]` or `n - 1` if all elements are equal, `r` is the index of the last element in `a` that is not equal to `a[-1]` or `0` if all elements are equal, `st` is the number of consecutive elements from the start of the list `a` that are equal to `a[0]`, `end` is the number of consecutive elements from the end of the list `a` that are equal to `a[-1]`, and `ans` is `le - max(st, end)` if `a[0] != a[-1]` or `max(0, le - (st + end))` if `a[0] == a[-1]`. **