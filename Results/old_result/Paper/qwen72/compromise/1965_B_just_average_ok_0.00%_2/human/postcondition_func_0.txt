The function `func` processes a series of test cases. It accepts an integer `t` representing the number of test cases. For each test case, it reads two integers `n` and `k` from the input, where `2 <= n <= 10^6` and `1 <= k <= n`. The function modifies a list `nums` that initially contains powers of 2 from \(2^0\) to \(2^{23}\). After processing each test case, the list `nums` is updated by removing the element \(2^{\text{idx}}\) (where \(\text{idx}\) is the largest integer such that \(2^{\text{idx}} \leq k\)) and appending three new elements: \(k - 2^{\text{idx}}\), \(k + 1\), and \(k + 2^{\text{idx}} + 1\). The function then prints the length of the modified `nums` list followed by the elements of the list. The value of `t` remains unchanged, and the values of `n` and `k` are re-assigned for each test case.