Output State: **`mx` is the maximum of the previous `mx` value (which was 0) and `cur + k * a[s]`, where `cur` is `a[s[0]] + a[s[1]] + a[s]`, `s` is a list of two integers representing the new starting positions of Bodya and Sasha, `s[0] = p[s[0]]`, and `s[1] = p[s[1]]`. `vis[s[0]]`, `vis[s[1]]`, and `vis[s]` are 1. `a` and `p` are lists of integers of the same length `n`, where `1 <= n <= 2 * 10^5`, `1 <= a[i] <= 10^9`, and `p` is a permutation of integers from `1` to `n`. `k` is a positive integer such that `0 <= k <= 10^9 - 2`. `n` is the length of the list `p`. `vis` is a list of length `n` where each element is 0, except `vis[s[0]]`, `vis[s[1]]`, and `vis[s]` which are 1.**