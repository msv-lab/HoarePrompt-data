Correctness: **True**

The provided solution appears to correctly solve the problem as described. It iterates through each test case, calculating the necessary remainders and using a frequency dictionary to count the number of beautiful pairs efficiently. The logic for checking the conditions for a beautiful pair (both the sum and difference being divisible by the respective numbers) is implemented correctly. The solution also handles the input and output formats as specified in the problem statement.