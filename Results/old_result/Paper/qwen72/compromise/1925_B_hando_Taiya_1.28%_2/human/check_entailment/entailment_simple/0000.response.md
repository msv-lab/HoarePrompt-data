### Reasoning:

1. **Input Handling**:
   - The program correctly reads the number of test cases `tc` and iterates over each test case.
   - For each test case, it reads two integers `x` and `n` from the input.

2. **Function `func_1`**:
   - The function `func_1` is called for each test case.
   - Inside `func_1`, the variables `x` and `n` are correctly parsed from the input.

3. **Finding the Maximum Balance**:
   - The program aims to find the maximum balance, which is defined as the greatest common divisor (GCD) of the difficulties of all sub-problems.
   - The approach taken is to find the largest divisor of `x` that is less than or equal to `n` or `x // n`, whichever is applicable.
   - The loop iterates over all possible divisors of `x` up to the square root of `x` (using `isqrt` to optimize the loop).
   - For each divisor `i` of `x`, it checks if `n` is less than or equal to `x // i` or `i` itself.
   - It updates `ans` to the maximum value of `i` or `x // i` that satisfies the conditions.

4. **Output**:
   - The program prints the value of `ans` for each test case, which is the maximum balance.

### Analysis of the Logic:
- The logic of finding the largest divisor of `x` that is less than or equal to `n` or `x // n` is correct because:
  - If `n` is less than or equal to `x // i`, then `i` can be a valid difficulty for all sub-problems.
  - If `n` is less than or equal to `i`, then `x // i` can be a valid difficulty for all sub-problems.
- The use of the square root optimization (`isqrt(x)`) is appropriate to reduce the number of iterations, as it ensures that all divisors are checked without unnecessary computation.

### Edge Cases:
- For `x = 1` and any `n`, the only possible balance is 1, which the program correctly handles.
- For `n = 1`, the only possible balance is `x` itself, which the program also correctly handles.
- For `n = x`, the only possible balance is 1, which the program correctly handles.

### Conclusion:
The program correctly implements the logic to find the maximum balance of the problemset. The edge cases are handled appropriately, and the optimization using the square root is valid.

### Correctness:
Correctness: **True**