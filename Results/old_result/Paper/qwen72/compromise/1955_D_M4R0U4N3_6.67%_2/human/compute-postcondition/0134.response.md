Postcondition: ***`r` is `m + 2`, `m` is `m`, `n` is `n`, `n` must be greater than `m + 2`, `old` is `a[r - m]`, `done`, `todo`, and `extra` remain unchanged if `old` is not in `done`. If `old` is in `done`, `done` no longer contains `old`, `todo` now contains `old` and `a[1]` (if `a[1]` was in `done`), `extra` no longer contains `a[1]` (if `a[1]` was in `extra`), `a[r]` is removed from `todo` and `done` contains `a[r]` (if `a[r]` was in `todo`), otherwise `extra` now contains `a[m + 1]`, and `ans` is `ans + 1` if `len(done) >= k`.***