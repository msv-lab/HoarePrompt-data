Precondition: **The function should take two integers n and m (1 ≤ n, m ≤ 500) and a list of n strings, each of length m, consisting of characters 'W' and 'B' representing the colors of the grid. The function should also handle multiple test cases, indicated by an integer t (1 ≤ t ≤ 10^4) at the beginning of the input. The sum of n * m over all test cases does not exceed 3 * 10^5.**