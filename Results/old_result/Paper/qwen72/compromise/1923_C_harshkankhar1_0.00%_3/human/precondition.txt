The function `solve` is designed to handle multiple test cases. Each test case includes an array `c` of length `n` where each element is a positive integer, and `q` queries. For each query, two integers `l_i` and `r_i` are provided, where `1 <= l_i <= r_i <= n`. The total number of test cases `t` is an integer such that `1 <= t <= 10^4`, and the sum of `n` and `q` over all test cases does not exceed `3 * 10^5`.