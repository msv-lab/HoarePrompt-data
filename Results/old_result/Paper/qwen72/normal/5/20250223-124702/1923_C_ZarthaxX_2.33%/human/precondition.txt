The function `solve` is expected to handle multiple test cases. Each test case includes an integer array `c` of length `n` where each element is greater than 0, and `q` queries. For each query, two integers `l_i` and `r_i` are provided such that 1 ≤ l_i ≤ r_i ≤ n. The total number of test cases `t` is in the range 1 ≤ t ≤ 10^4, and the sum of `n` and `q` over all test cases does not exceed 3 · 10^5.