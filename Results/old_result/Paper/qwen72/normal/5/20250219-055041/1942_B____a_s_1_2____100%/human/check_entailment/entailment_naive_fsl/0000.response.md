Correctness: **False**.

Explanation: The provided program does not correctly handle the construction of the permutation `p` for all potential cases. Specifically, the logic for updating the `mex` value and constructing the permutation `p` is flawed.

Consider the following test case:
```
Input:
1
5
1 1 1 1 1
```
The expected output is:
```
0 1 2 3 4
```
However, the program will produce:
```
4 3 2 1 0
```
This is incorrect because the `mex` value is being updated in a way that does not reflect the correct minimum excluded value for the prefix of the permutation. The program should ensure that the `mex` value is correctly updated based on the elements of the permutation constructed so far. The current logic does not guarantee that the `mex` value is the smallest non-negative integer not present in the prefix of `p`.

To correctly solve the problem, the program should maintain a set of used elements and correctly compute the `mex` value for each prefix of the permutation. The current implementation fails to do this, leading to incorrect results for certain inputs.