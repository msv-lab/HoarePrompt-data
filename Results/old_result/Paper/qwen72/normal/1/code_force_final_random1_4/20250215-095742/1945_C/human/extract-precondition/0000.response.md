Precondition: **The function `func` is expected to process multiple test cases. Each test case includes an integer `n` (3 ≤ n ≤ 3·10^5) representing the number of houses, and a string `a` of length `n` consisting only of '0' and '1', where '0' indicates a resident who wants to live on the left side of the street and '1' indicates a resident who wants to live on the right side. The function should determine the optimal position `i` to lay the road such that at least half of the residents on each side of the street are satisfied with their side, and the road is as close to the middle of the village as possible. The function should return the position `i` for each test case.**