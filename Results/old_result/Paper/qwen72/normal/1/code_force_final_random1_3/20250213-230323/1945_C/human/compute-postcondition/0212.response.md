The function `func` is designed to handle multiple test cases. Each test case includes a string `a` of length `n` (where 3 ≤ n ≤ 3·10^5), consisting only of '0' and '1'. The function determines the optimal position `i` to place a road such that at least half of the residents on each side of the road are satisfied with their side, and `i` should be as close to the middle of the village as possible. The function is expected to handle up to `t` test cases (1 ≤ t ≤ 2·10^4), with the sum of all `n` values not exceeding 3·10^5.

For each test case, the function returns the optimal position `i`.

Functionality: **The function accepts multiple test cases, each containing a string `a` of length `n` (3 ≤ n ≤ 3·10^5) consisting of '0' and '1'. It returns the optimal position `i` for placing a road such that at least half of the residents on each side of the road are satisfied, and `i` is as close to the middle of the village as possible.**