Correctness: **True**.

Explanation: The provided program correctly implements the logic described in the problem statement. It handles the game mechanics by calculating the scores for Bodya and Sasha, taking into account the possibility of cycles in the permutation. The `calculate_score` function efficiently computes the score for a player by detecting cycles and calculating the score for the remaining steps after the cycle is detected. The `func_2` function reads the input correctly and processes each test case as expected, outputting the correct result for each. The program adheres to the constraints and requirements specified in the problem description, and no edge cases or missing logic have been identified that would cause the program to fail.