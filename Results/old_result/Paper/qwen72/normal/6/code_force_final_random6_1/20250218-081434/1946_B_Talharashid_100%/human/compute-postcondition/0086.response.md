Functionality: ** The function `func` processes a series of test cases. For each test case, it reads the length of an array `n` and the number of operations `k`, followed by the array `a` of `n` integers. It calculates the maximum sum of contiguous non-negative elements in the array `a` before any negative element resets the sum to 0. The function then computes and prints the result of the expression `(2 ** k * maxi - maxi + sum(a)) % 1000000007` for each test case, where `maxi` is the maximum sum calculated. The function does not return any value; it only prints the results. After the function concludes, all test cases have been processed, and the results have been printed. **