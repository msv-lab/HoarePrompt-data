The function `func` is designed to handle multiple test cases. Each test case includes an integer `n` representing the length of an array `a`, and the array `a` itself, which consists of `n` integers. The function is expected to process these test cases and return a result for each one. The total number of test cases `t` is provided, and each `n` is within the range 1 to 10^5, with each element `a_i` in the array `a` being within the range 1 to 10^9. The sum of all `n` values across all test cases does not exceed 2 · 10^5.

Functionality: **The function accepts multiple test cases, each containing an integer `n` and an array `a` of `n` integers. It processes each test case and returns a result for each one. If `n` is less than 1 or greater than 10^5, or if any element `a_i` in the array `a` is less than 1 or greater than 10^9, the function should handle these invalid cases appropriately. The total number of test cases `t` is provided, and the sum of all `n` values across all test cases does not exceed 2 · 10^5.**