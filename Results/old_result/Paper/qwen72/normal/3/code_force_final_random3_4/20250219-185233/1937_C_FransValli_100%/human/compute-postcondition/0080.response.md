Let's break down the initial state and the print statement step by step:

1. **Initial State:**
   - `n` is greater than 3.
   - `i` is 3.
   - `arr` is a list containing all integers `i` for which `res` was '=' or the last integer `i` for which `res` was '<'.
   - If `res` is '<', `maxi` is 2 and `mini` is the last element of `arr` that was compared and resulted in `res` being '>', or the first element of `arr` if no such element exists.
   - Otherwise, `maxi` remains 0 and `mini` is the last element of `arr` that was compared and resulted in `res` being '>', or the first element of `arr` if no such element exists.
   - `res` is an input string.

2. **Print Statement:**
   ```
   print('?', maxi, maxi, i, i, flush=True)
   ```

3. **Determine the Values:**
   - `i` is explicitly given as 3.
   - `maxi` depends on the value of `res`:
     - If `res` is '<', `maxi` is 2.
     - If `res` is not '<', `maxi` remains 0.

4. **Construct the Output:**
   - The print statement will always start with the string `'?'`.
   - The next two values are `maxi`, which will be either 2 or 0 depending on `res`.
   - The last two values are `i`, which is 3.

5. **Final Output:**
   - If `res` is '<', the output will be: `? 2 2 3 3`.
   - If `res` is not '<', the output will be: `? 0 0 3 3`.

Since `res` is an input string and its value is not explicitly provided, we need to consider both cases.

Output: **? 2 2 3 3 (if res is '<') or ? 0 0 3 3 (if res is not '<')**