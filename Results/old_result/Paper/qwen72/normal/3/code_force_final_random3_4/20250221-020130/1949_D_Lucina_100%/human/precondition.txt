n is an integer such that 2 <= n <= 24. The input is a list of n strings, each of length n, where each string represents a row in the transition video plan. The characters in these strings are either 'F' (funny), 'S' (scary), '?' (undecided), or '.' (diagonal, no transition). The matrix is symmetric, and the number of 'F' or 'S' characters does not exceed 2 * floor(n / 2).