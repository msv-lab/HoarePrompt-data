Functionality: ** The function reads an integer `n` (2 <= n <= 24) and a list of `n` strings, each of length `n`, forming a symmetric matrix where the diagonal characters are always '.' and each character is either 'F', 'S', '?', or '.'. It then processes the matrix to identify indices where 'F' or 'S' are present and categorizes them into two lists, `sa` and `sb`. Depending on the lengths of `sa` and `sb`, it constructs a new matrix by replacing '?' characters with 'F' or 'S' based on the conditions: if `len(sa) >= len(sb)`, '?' is replaced with 'F' for the first `n // 4 - 1` elements of `sa` and with 'S' otherwise; if `len(sa) < len(sb)`, '?' is replaced with 'S' for the first `n // 4 - 1` elements of `sb` and with 'F' otherwise. The function prints the new matrix row by row. **