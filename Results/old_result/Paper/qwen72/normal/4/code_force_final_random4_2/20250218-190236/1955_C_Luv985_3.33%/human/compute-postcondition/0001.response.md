Output State: **`T` is an input integer, and it represents the number of test cases. The function should still take three parameters: `t`, a list of pairs `(n, k)`, and a list of lists `a`. The initial state conditions for `t`, `a`, and `n` remain unchanged.**