Correctness: **False**.

**Explanation:**

The provided program does not correctly handle the problem description for every potential case. Specifically, it fails to accurately simulate the movement of the pinball and the inversion of the characters in the grid.

Here is a test case where the program fails:

**Input:**
```
1
3
>><
```

**Expected Output:**
```
3 2 1
```

**Actual Output:**
The program does not produce the correct output for this input.

**Reason:**
The program uses precomputed arrays and complex logic to determine the number of seconds it takes for the pinball to leave the grid. However, it does not correctly simulate the movement and inversion of the characters in the grid as described in the problem. For example, when a pinball is placed on the second cell of the grid `>><`, it should move to the right, invert the character, and then move to the left, eventually leaving the grid in 2 seconds. The program's logic does not accurately capture this behavior.

Therefore, the program is incorrect.