Postcondition: **`i` is `n - 1`, `k` is `k - n` (or `k` is `-1` if `k - n` is less than or equal to 0), `b` is `p[p[...[p[b - 1]... - 1] - 1] - 1` (where `p` is applied `n` times), `s` is `p[p[...[p[s - 1]... - 1] - 1] - 1` (where `p` is applied `n` times), `bm` is the cumulative result of `bm += max(bm, a[b] * k + bp)` over `n` iterations, `sm` is the cumulative result of `sm += max(sm, a[s] * k + sp)` over `n` iterations, `sp` is `sp + sum(a[p[s] - 1] for _ in range(n))`, `bp` is `bp + sum(a[p[b] - 1] for _ in range(n))`, and `bm` is less than or equal to `sm`.**