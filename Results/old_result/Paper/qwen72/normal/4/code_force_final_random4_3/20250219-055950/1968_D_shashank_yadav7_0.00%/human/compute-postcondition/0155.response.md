The function `func` accepts multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`. Here, `t` is an integer representing the number of test cases, with the constraint 1 ≤ t ≤ 10^4. For each test case:
- `n` is an integer representing the length of the permutation `p` and the array `a`, with the constraint 1 ≤ n ≤ 2 × 10^5.
- `k` is an integer with the constraint 1 ≤ k ≤ 10^9.
- `P_B` and `P_S` are integers with the constraint 1 ≤ P_B, P_S ≤ n.
- `p` is a permutation of length `n`.
- `a` is an array of `n` integers, each with the constraint 1 ≤ a_i ≤ 10^9.

The sum of values of `n` over all test cases does not exceed 2 × 10^5.

The function returns a result for each test case based on the input parameters, but the specific return value is not provided in the output description. Therefore, the functionality of the function `func` is to accept multiple test cases, each with the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`, and return a result for each test case.

Functionality: **The function accepts multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`. It returns a result for each test case.**