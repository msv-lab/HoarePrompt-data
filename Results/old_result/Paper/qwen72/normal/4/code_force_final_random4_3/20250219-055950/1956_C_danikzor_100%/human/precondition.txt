The function `solve` is part of a program that processes multiple test cases. Each test case contains a single integer n (1 ≤ n ≤ 500) representing the size of an n×n matrix initially filled with zeroes. The function should handle up to 500 test cases, and the sum of n^2 over all test cases does not exceed 5 \cdot 10^5.