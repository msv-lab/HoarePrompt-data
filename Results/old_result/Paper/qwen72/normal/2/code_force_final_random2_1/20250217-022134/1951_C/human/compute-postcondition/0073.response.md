The function `func` accepts parameters `t`, `n`, `m`, `k`, and `a`. Here, `t` is an integer representing the number of test cases, with 1 ≤ t ≤ 10^4. For each test case, `n`, `m`, and `k` are integers where 1 ≤ n ≤ 3 · 10^5, 1 ≤ m ≤ 10^9, and 1 ≤ k ≤ min(nm, 10^9), representing the number of sale days, the maximum amount of tickets purchasable each day, and the number of tickets to be bought, respectively. `a` is a list of `n` integers where 1 ≤ a_i ≤ 10^9, representing the price per ticket for each of the upcoming `n` days. The sum of `n` over all test cases does not exceed 3 · 10^5.

The function returns the minimum total cost required to buy exactly `k` tickets across the given `n` days, considering the constraint that no more than `m` tickets can be bought on any single day.

Functionality: **The function accepts parameters `t`, `n`, `m`, `k`, and `a`, and returns the minimum total cost required to buy exactly `k` tickets across the given `n` days, ensuring no more than `m` tickets are bought on any single day.**