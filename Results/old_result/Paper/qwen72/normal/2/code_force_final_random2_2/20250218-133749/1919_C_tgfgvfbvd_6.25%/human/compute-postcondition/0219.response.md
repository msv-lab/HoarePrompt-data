The function `func` is designed to handle multiple test cases. It accepts the following parameters:

- An integer `t` (1 ≤ t ≤ 10^4), which represents the number of test cases.
- For each test case, it accepts:
  - An integer `n` (1 ≤ n ≤ 2·10^5), which represents the size of the array `a`.
  - An array `a` of `n` integers (1 ≤ a_i ≤ n).

The function processes each test case and returns the results for all test cases. The sum of `n` over all test cases does not exceed 2·10^5.

Functionality: **The function accepts multiple test cases, each consisting of an integer `n` and an array `a` of `n` integers. It processes each test case and returns the results for all test cases.**