Functionality: ** The function `func` processes multiple test cases, each defined by an integer `n` (3 ≤ n ≤ 3·10^5) and a string `s` of length `n` consisting of '0' and '1'. For each test case, it calculates the optimal position to split the string such that the percentage of '0's and '1's in both halves is at least 50%, or it determines the closest position to the middle of the string that meets this condition. If no such position exists, it checks the overall percentage of '1's in the string and outputs 0 if the percentage is 50% or more, otherwise it outputs the length of the string `n`. The function prints the result for each test case. **