The function `func` operates in an interactive environment to solve a problem involving a hidden permutation `p` of integers from 0 to n-1. It processes multiple test cases, each defined by an integer `n` (2 ≤ n ≤ 10^4), with the total sum of `n` across all test cases not exceeding 10^4. For each test case, the function finds two indices `i` and `j` such that the XOR of `p[i]` and `p[j]` is maximized, using at most 3n queries. The function outputs the results of these queries and the final answer in a specific format, printing the indices `i` and `j` in the form `! i j`. After processing all test cases, the function terminates without returning any value.