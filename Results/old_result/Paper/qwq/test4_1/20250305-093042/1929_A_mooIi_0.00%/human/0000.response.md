Alright, I have this problem to solve. Let's see what it's asking for. So, Sasha has an array of numbers, and he wants to rearrange them in a way that maximizes something called "beauty." The beauty is defined as the sum of (a_i - a_{i-1}) for all i from 2 to n. So, basically, for each pair of consecutive elements in the array, I subtract the previous one from the current one and add all those differences up.

First, I need to understand what this sum represents. Let's take an example from the input:

In the first test case, n=3 and the array is [2, 1, 3]. If I rearrange it to [1, 2, 3], then the beauty is (2-1) + (3-2) = 1 + 1 = 2.

In the second test case, n=3 and the array is [69, 69, 69]. No matter how I arrange them, the differences will always be zero, so the beauty is 0.

In the third test case, n=5 and the array is [100, 54, 80, 43, 90]. After rearranging, the beauty is 57.

I need to find the maximum possible beauty for any given array by rearranging its elements.

Let me try to generalize this.

Given an array a_1, a_2, ..., a_n, I can rearrange it in any order. I need to compute the sum of (a_i - a_{i-1}) for i from 2 to n, and maximize this sum.

Let me see what this sum actually is.

Sum from i=2 to n of (a_i - a_{i-1}) = (a_2 - a_1) + (a_3 - a_2) + ... + (a_n - a_{n-1})

If I look closely, this is a telescoping sum, where most terms cancel out.

Let's write it out:

(a_2 - a_1) + (a_3 - a_2) + ... + (a_n - a_{n-1})

= -a_1 + (a_2 - a_2) + (a_3 - a_3) + ... + (a_{n-1} - a_{n-1}) + a_n

= -a_1 + a_n

So, the sum simplifies to a_n - a_1.

Wait a minute, that's interesting. No matter how I arrange the array, the sum of differences is always equal to the last element minus the first element.

But that seems too simple. Let me check with the examples.

First test case: [1, 2, 3] -> 3 - 1 = 2, which matches the given output.

Second test case: [69, 69, 69] -> 69 - 69 = 0, matches the output.

Third test case: [43, 54, 80, 90, 100] -> 100 - 43 = 57, matches the output.

Fourth test case: [3, 3, 3, 4] -> 4 - 3 = 1, matches the output.

Fifth test case: [1, 2] -> 2 - 1 = 1, matches the output.

So, it seems that the beauty is always equal to a_n - a_1, regardless of the arrangement, because the sum telescopes to that.

But the problem says "rearrange its elements in any way to obtain the maximum beauty."

If the beauty is always a_n - a_1, then to maximize it, I need to maximize a_n and minimize a_1.

In other words, sort the array and take the last element minus the first element.

Wait, but in the first test case, they rearranged it to [1, 2, 3], which is sorted in ascending order, and the beauty is 2.

But if I rearrange it to [3, 2, 1], then a_n - a_1 = 1 - 3 = -2, which is worse.

But the problem says to take the sum of (a_i - a_{i-1}), which is a_n - a_1, and since it's beauty, it's likely to be non-negative, so maybe I should consider the absolute difference or something.

But according to the mathematical simplification, it's a_n - a_1.

However, in the first rearrangement, it's 2, which is positive, and in the second, -2, which is negative.

But the problem's example shows 2 as the output, which is the positive difference.

Wait, perhaps I need to take the sum of absolute differences, but the problem doesn't say that.

Let me check the problem statement again.

"beauty of the array as the sum of the values (a_i - a_{i - 1}) for all integers i from 2 to n."

It's a_i - a_{i-1}, without absolute values.

So, in the first test case, (2-1) + (3-2) = 1 + 1 = 2.

If I rearrange to [3,2,1], then (2-3) + (1-2) = -1 + (-1) = -2.

But the problem's example shows 2, which is the positive sum.

Wait, maybe I need to take the sum of absolute differences to always get a positive value.

But the problem explicitly says "the sum of the values (a_i - a_{i - 1})", which could be positive or negative depending on the arrangement.

However, in the examples, only positive sums are shown.

Wait, in the second test case, all elements are equal, so sum is zero.

In the fourth test case, [3,4,3,3], arranged in [3,3,3,4], sum is (3-3) + (3-3) + (4-3) = 0 + 0 + 1 = 1.

Arranged in [4,3,3,3], sum is (3-4) + (3-3) + (3-3) = -1 + 0 + 0 = -1.

So, the maximum beauty is 1.

Hence, it seems that the maximum beauty is achieved when a_n - a_1 is maximized.

To maximize a_n - a_1, I need to maximize a_n and minimize a_1.

In other words, sort the array in ascending order and take the last element minus the first element.

That would give me the maximum possible difference, hence the maximum beauty.

Let me verify this with all the test cases.

First test case: [1,2,3], a_n - a_1 = 3 - 1 = 2.

Second test case: [69,69,69], 69 - 69 = 0.

Third test case: [43,54,80,90,100], 100 - 43 = 57.

Fourth test case: [3,3,3,4], 4 - 3 = 1.

Fifth test case: [1,2], 2 - 1 = 1.

All of these match the expected outputs.

Therefore, the strategy is to sort the array in ascending order and compute a_n - a_1.

Now, looking at the given program:

def func():

for _ in range(int(input())):

n = int(input())

ar = map(str, sorted(list(map(int, input().split()))))

print(' '.join(ar))

This function reads t, the number of test cases, and for each test case, reads n and the array, sorts it in ascending order, and prints the sorted array.

But according to the problem, I need to print the maximum beauty, which is a_n - a_1.

So, this program is printing the sorted array, not the beauty value.

Hence, it's incorrect.

Wait, perhaps there's a mistake.

Let me check the problem statement again.

"output a single integer â€” the maximum beauty of the array a that can be obtained."

But in the given program, it's printing the sorted array.

That doesn't match.

So, the given program is incorrect.

I need to modify it to compute and print a_n - a_1 for each test case.

Let me think about how to do that.

I need to:

1. Read t, the number of test cases.

2. For each test case:

a. Read n, the length of the array.

b. Read the array elements.

c. Sort the array in ascending order.

d. Compute a_n - a_1, which is the last element minus the first element.

e. Print this value.

So, in code, it would look like:

for _ in range(t):

n = int(input())

a = list(map(int, input().split()))

a_sorted = sorted(a)

beauty = a_sorted[-1] - a_sorted[0]

print(beauty)

That should be it.

But in the given program, it's printing the sorted array instead of the beauty value.

Hence, the given program is incorrect.

Correctness: **False**

