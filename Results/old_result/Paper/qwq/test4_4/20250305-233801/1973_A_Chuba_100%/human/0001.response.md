Alright, I've got this problem here about three friends playing chess, and I need to figure out the maximum number of draws that could have happened based on their final scores. The scores are p1, p2, and p3, and they're sorted in non-decreasing order, so p1 ≤ p2 ≤ p3.

First, I need to understand how the scoring works. In each game, two players play against each other. If one player wins, they get 2 points, and the other gets 0. If it's a draw, both players get 1 point each. Also, the same pair can play multiple times, even zero times, and there might be no games at all.

So, the total points distributed in each game are either 2 (in case of a win and loss) or 2 (in case of a draw). Wait, that's interesting. Whether it's a win-lose or a draw, the total points per game are always 2. Because in a win-lose, one gets 2 and the other gets 0, totaling 2. In a draw, both get 1, totaling 2. So, per game, 2 points are distributed.

Given that, the total points across all three players should be equal to 2 times the number of games played. So, p1 + p2 + p3 should be equal to 2 * total_games.

Moreover, since p1 ≤ p2 ≤ p3, and p3 could be as high as 30, with p1 starting from 0.

Now, the task is to find the maximum number of draws that could have happened. A draw contributes 1 point to each player involved in that draw.

To maximize the number of draws, I need to maximize the number of games that end in a draw, given the final scores.

First, I need to check if the given scores are achievable with some set of games.

Let's think about the constraints:

1. The total points must be even, since each game contributes 2 points.

2. The maximum possible points for one player is if they win all their games. But since there are two others to play with, and multiple games can be played between the same pairs.

Wait, but p3 is the highest score, and it's possible that p3 played multiple games against p1 and p2, winning all of them.

Similarly, p1 could have lost all its games.

But we need to see if such a distribution is possible.

Also, since p1 ≤ p2 ≤ p3, and the scores are sorted, that might help in checking the validity.

Let me consider some examples from the provided test cases.

First test case:

0 0 0

This means no games were played, so no draws could have happened. The output is 0, which makes sense.

Second test case:

0 1 1

This could be one draw between player 2 and 3, each getting 1 point, and player 1 didn't play any games. So, one draw, output is 1.

Third test case:

1 1 1

The total points are 3, which is odd, but since each game contributes 2 points, the total should be even. So, this is impossible, output is -1.

Fourth test case:

1 1 2

Total points are 4, which is even.

Possible scenario:

- Game 1: Player 2 vs Player 3, draw, both get 1 point.

- Game 2: Player 1 vs Player 2, Player 2 wins, gets 2 points, Player 1 gets 0.

But wait, Player 1 already has 1 point from earlier, so now they have 1 + 0 = 1.

Player 2 has 1 + 2 = 3.

Player 3 has 1 + 0 = 1.

But p3 is supposed to have 2, not 1 in this case. So, this doesn't match.

Alternative scenario:

- Game 1: Player 1 vs Player 2, draw, both get 1.

- Game 2: Player 2 vs Player 3, Player 3 wins, gets 2, Player 2 gets 0.

Now, Player 1 has 1, Player 2 has 1 + 0 = 1, Player 3 has 2.

This matches p1=1, p2=1, p3=2.

In this case, there was one draw (Game 1), but is it possible to have more draws?

If I try to maximize draws, let's see:

- Game 1: Player 2 vs Player 3, draw, both get 1.

- Game 2: Player 1 vs Player 3, draw, both get 1.

Now, Player 1 has 1, Player 2 has 1, Player 3 has 1 + 1 = 2.

This also matches p1=1, p2=1, p3=2, and there are two draws.

So, the output is 2, which is higher than the previous scenario.

So, the maximum number of draws is 2.

Fifth test case:

3 3 3

Total points: 9, which is odd. Since total points must be even, this is impossible, output is -1.

Sixth test case:

3 4 5

Total points: 12, which is even.

Possible scenario:

- Player 1: 3 points

- Player 2: 4 points

- Player 3: 5 points

To maximize draws, I need to have as many games as possible end in draws.

Let me think about the total number of games.

Total points are 12, so total games are 12 / 2 = 6 games.

If all 6 games are draws, then each draw contributes 2 points (1 to each player), so total points would be 12.

But in this case, the points would be distributed equally among all players who played draws.

But we have p1=3, p2=4, p3=5, which are different.

So, not all games can be draws.

I need to find a combination where the points add up to 3, 4, and 5 respectively.

Let me think differently.

Let me consider the number of draws.

Each draw contributes 2 points to the total, and involves two players.

Each win/loss game also contributes 2 points to the total, but one player gets 2 and the other gets 0.

So, the number of draws can be calculated by considering the total points and the differences in individual scores.

Wait, perhaps I can think in terms of the sum and the maximum possible draws.

But in the previous test case, it was possible to have 2 draws for p1=1, p2=1, p3=2.

In this case, for p1=3, p2=4, p3=5, perhaps I can have more draws.

Let me try to maximize draws.

Assume that as many games as possible are draws, and the remaining are win/loss games.

Let me denote:

Let d be the number of draws.

Then, the total points from draws are 2*d (since each draw contributes 2 points).

The remaining games are win/loss games, each contributing 2 points.

Let w be the number of win/loss games.

Then, total points are 2*d + 2*w = 2*(d + w).

But we already know total points are 12, so d + w = 6.

Our goal is to maximize d, so we need to maximize the number of draws.

But we need to ensure that the individual scores can be achieved with this number of draws.

Each draw involves two players, and each player gets 1 point.

Each win/loss game involves two players, one gets 2 points, the other gets 0.

Given that, I need to distribute the points such that p1=3, p2=4, p3=5.

Let me consider that in the d draws, each draw contributes 1 point to each player involved.

For the win/loss games, one player gets 2 points, the other gets 0.

I need to model this.

Let me define:

Let’s say there are d draws, and w win/loss games, with d + w = 6.

I need to assign these games to specific player pairs in a way that the total points for each player match p1, p2, p3.

This seems complicated.

Is there a better way?

Perhaps I can consider the total points and the possible constraints.

Let me consider that the maximum possible draws would be if the sum of the points is equal to the sum of the minimum possible points each player could have.

Wait, maybe I need to look at the differences.

Alternatively, perhaps I can look at the minimal number of win/loss games needed to achieve the given scores, and the rest can be draws.

Wait, that might be a better approach.

Let me think about it.

To minimize the number of win/loss games, which are the games that create inequalities in points, and maximize the number of draws, which evenly distribute points.

So, if I can minimize the win/loss games, the remaining games can be draws.

But how do I minimize the win/loss games?

I need to see the differences in points and see how many win/loss games are necessary to create those differences.

Let me consider that.

Let’s assume that all games are draws first, and then see how many win/loss games are needed to adjust the points to match p1, p2, p3.

If all 6 games are draws, then each player would have, per draw, 1 point per draw they participated in.

But it's complicated to track which players are involved in which draws.

Maybe I need a different approach.

Let me look at the total points and the individual points.

Total points: p1 + p2 + p3 = 12.

Number of games: 6.

Now, in order to have p1=3, p2=4, p3=5.

Let me consider the number of points each player has.

If I consider that in draws, a player gets 1 point per draw they participate in, and in win/loss games, they get either 0 or 2 points.

I need to find a combination of draws and win/loss games that adds up to these points.

This seems tricky.

Let me look for a formula or a way to calculate the maximum number of draws possible.

I recall that in the provided code, there's a formula:

result = (v[0] + v[1] + v[2] - max(0, v[2] - v[0] - v[1])) // 2

Where v is the list of p1, p2, p3.

So, in this case, v = [3,4,5].

So, result = (3 + 4 + 5 - max(0, 5 - 3 - 4)) // 2 = (12 - max(0, -2)) // 2 = (12 - 0) // 2 = 6.

So, the code outputs 6, but according to the example, the output is 6, which is acceptable.

Wait, but in the earlier test case of 1,1,2, the code would compute:

result = (1 + 1 + 2 - max(0, 2 - 1 - 1)) // 2 = (4 - max(0,0)) // 2 = 4 // 2 = 2, which matches the example output of 2.

In the case of 3,3,3, which is invalid, total points are 9, which is odd, so it's invalid.

In the case of 1,1,1, total points are 3, which is odd, invalid.

In the case of 0,1,1, total points are 2, which is even, and the code would compute:

result = (0 + 1 + 1 - max(0,1 - 0 -1)) // 2 = (2 - max(0,0)) // 2 = 2 // 2 = 1, which matches the example output of 1.

In the case of 0,0,0, total points are 0, which is even, and result = (0 - max(0,0 -0 -0)) // 2 = 0 // 2 = 0, which matches the example.

In the case of 1,1,10, total points are 12, which is even.

result = (1 +1 +10 - max(0,10 -1 -1)) //2 = (12 - max(0,8)) //2 = (12 -8)//2 = 4//2 = 2, which matches the example output of 2.

So, the formula seems to be working for the examples.

But I need to understand why this formula works.

Let’s try to understand the formula:

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

First, p1 + p2 + p3 is the total points, which is equal to 2 * total_games.

So, total_games = (p1 + p2 + p3) // 2.

Now, the max(0, p3 - p1 - p2) part seems to be checking some condition related to the maximum possible points p3 could have without exceeding the total points of p1 and p2.

Wait, p3 is the highest score, but if p3 is greater than p1 + p2, that might indicate an inconsistency, but since p1 ≤ p2 ≤ p3, it's possible for p3 to be larger than p1 + p2.

But in the formula, it's subtracting max(0, p3 - p1 - p2).

So, if p3 ≤ p1 + p2, then max(0, p3 - p1 - p2) = 0, so result = (p1 + p2 + p3) // 2.

Which makes sense, because in this case, it's possible for all games to be draws, contributing to the total points.

But if p3 > p1 + p2, then max(0, p3 - p1 - p2) = p3 - p1 - p2, and result = (p1 + p2 + p3 - (p3 - p1 - p2)) // 2 = (p1 + p2 + p3 - p3 + p1 + p2) // 2 = (2*p1 + 2*p2) // 2 = p1 + p2.

But I'm not sure if that makes sense.

Wait, perhaps I need to think differently.

Let’s consider that in order to maximize draws, we need to minimize the number of win/loss games.

Each win/loss game creates a difference of 2 points between two players.

So, to achieve the required point differences, we need a certain number of win/loss games.

The maximum number of draws is total_games minus the number of win/loss games needed to account for the point differences.

So, perhaps the formula is calculating the minimal number of win/loss games needed, and then subtracting that from total_games to get the maximum number of draws.

But I need to verify this.

Let me consider the difference between the highest score and the sum of the other two scores.

If p3 > p1 + p2, then there must be some win/loss games where p3 won against p1 and p2.

The number of such win/loss games is at least p3 - p1 - p2, if p3 - p1 - p2 > 0.

Wait, but p3 cannot be greater than p1 + p2 because p1 ≤ p2 ≤ p3.

Wait, no, p3 can be greater than p1 + p2.

For example, in the test case 1,1,2, p3=2 and p1+p2=2, so p3 ≤ p1 + p2.

In the test case 3,4,5, p3=5 and p1+p2=7, so p3 < p1 + p2.

In the test case 1,1,10, p3=10 and p1+p2=2, so p3 > p1 + p2.

Wait, but in the test case 1,1,10, the total points are 12, which is even, and according to the formula, result = (1+1+10 - (10 -1 -1)) //2 = (12 - 8) //2 = 4//2 = 2.

But is that correct?

Let me think about it.

If p3 > p1 + p2, then it's impossible to achieve those scores because p3 cannot have more points than the combined points of p1 and p2 in draw games.

Wait, no, p3 can have more points if they win against p1 and p2 in win/loss games.

Wait, but in the test case 1,1,10, p1=1, p2=1, p3=10, total points=12.

Is this possible?

Let’s see.

Total games: 6.

Suppose p3 plays against p1 in some games and wins all of them, and plays against p2 and wins all of them.

Each win gives p3 2 points and the other player 0.

So, if p3 plays against p1 three times and wins all, p3 gets 6 points, p1 gets 0.

Similarly, p3 plays against p2 three times and wins all, p3 gets another 6 points, p2 gets 0.

So, p3 would have 12 points, p1 would have 0, p2 would have 0.

But in this case, p3 has 12, p1 and p2 have 0, which is not matching p1=1, p2=1, p3=10.

So, perhaps some draws are involved.

Alternative scenario:

- p3 plays against p1 in some games.

- p3 plays against p2 in some games.

- p1 and p2 play against each other.

To achieve p1=1, p2=1, p3=10.

Let’s say:

- p1 and p2 play one draw: both get 1 point each.

- p3 plays against p1 in four games, p3 wins all: p3 gets 8 points, p1 gets 0.

- p3 plays against p2 in four games, p3 wins all: p3 gets 8 points, p2 gets 0.

But p3 would have 16 points, which is more than 10.

Wait, that doesn't work.

Alternatively:

- p1 and p2 play one draw: p1=1, p2=1.

- p3 plays against p1 in four games: p3 wins three and draws one.

- p3 plays against p2 in four games: p3 wins three and draws one.

Wait, but that would give p3 more points than 10.

This is getting complicated.

Looking back at the formula, in this case, it outputs 2, which matches the example output.

But I need to understand why it's 2.

Perhaps the maximum number of draws is 2, which makes sense in this scenario.

So, maybe the formula is correct, but I need to understand why.

Let me consider the formula again:

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

In the case where p3 ≤ p1 + p2, max(0, p3 - p1 - p2) = 0, so result = (p1 + p2 + p3) // 2.

This makes sense because all games can be draws.

In the case where p3 > p1 + p2, max(0, p3 - p1 - p2) = p3 - p1 - p2, so result = (p1 + p2 + p3 - (p3 - p1 - p2)) // 2 = (2*p1 + 2*p2) // 2 = p1 + p2.

But in the test case 1,1,10, p1 + p2 = 2, and the formula gives 2, which matches the example output of 2.

So, perhaps the formula is correct.

But I still need to understand why subtracting max(0, p3 - p1 - p2) gives the maximum number of draws.

Let me think about it in terms of the minimal number of win/loss games needed.

If p3 > p1 + p2, then p3 must have won some games against p1 and p2 to get extra points beyond p1 + p2.

The number of such win/loss games is at least (p3 - p1 - p2).

Wait, but in the test case 1,1,10, p3 - p1 - p2 = 10 - 1 -1 = 8.

So, the minimal number of win/loss games needed is 8 / 2 = 4 games, because each win/loss game allows p3 to gain 2 points.

Wait, but total games are 6, so if there are 4 win/loss games where p3 wins, getting 8 points, and 2 draws where p3 plays against someone and gets 2 points (1 per draw), totaling 10 points.

And p1 and p2 would have their points from the draw.

Wait, in this case:

- 2 draws: p1 and p2 play one draw, each getting 1 point.

- p3 plays against p1 in two games: p3 wins both, getting 4 points, p1 gets 0.

- p3 plays against p2 in two games: p3 wins both, getting 4 points, p2 gets 0.

- Additionally, p3 plays two more games against either p1 or p2, but that would exceed p3's points.

Wait, p3 would have 8 points from winning four games, and 2 points from two draws, totaling 10 points.

p1 would have 1 from the draw and 0 from losing to p3, totaling 1.

p2 would have 1 from the draw and 0 from losing to p3, totaling 1.

This matches p1=1, p2=1, p3=10.

In this scenario, there are two draws, which matches the formula's output of 2.

So, the formula seems correct in this case.

In the case where p3 ≤ p1 + p2, like in the test case 1,1,2, p3=2 and p1+p2=2, so max(0,2-1-1)=0, so result=(1+1+2 -0)//2=4//2=2, which matches the earlier scenario where there are two draws.

Similarly, in the test case 3,4,5, p3=5 and p1+p2=7, so max(0,5-3-4)=max(0,-2)=0, so result=(3+4+5 -0)//2=12//2=6, which matches the example output of 6.

But in reality, p3=5, p1=3, p2=4, and total points are 12, which would require 6 games.

If all 6 games are draws, then each player would have points equal to the number of draws they participated in.

But in this case, p3=5, which is higher than the others, so some win/loss games must be involved.

Wait, but according to the formula, it's 6 draws, but in reality, to achieve p3=5, p1=3, p2=4, it's not possible to have all draws because draws would distribute points equally among the players involved.

So, perhaps the formula is not correctly reflecting the maximum number of draws in this case.

Wait, but in the earlier reasoning, with p3=5, p1=3, p2=4, and total points 12, which allows for 6 games.

If p3 plays against p1 and p2 in such a way to accumulate 5 points, and p1 and p2 have 3 and 4 respectively, it's possible with a combination of draws and win/loss games.

But according to the formula, it's 6, which would imply all games are draws, but that can't achieve p3=5, p1=3, p2=4, because in all draws, points would be distributed equally among the players involved in the draws.

So, perhaps the formula is incorrect in this case.

Wait, but the example output is 6, which matches the formula's output, but is it actually possible to achieve p1=3, p2=4, p3=5 with all 6 games being draws?

No, because in all draws, each draw would give 1 point to each player involved.

So, if there are 6 draws, and each draw involves two players, then the total points added are 2 per draw, totaling 12 points.

But the distribution would depend on which players are involved in which draws.

For example, if p1 and p2 draw three times, and p1 and p3 draw three times:

- p1 would have 3 draws with p2 and 3 draws with p3, totaling 6 points.

- p2 would have 3 draws with p1 and 3 draws with p3, totaling 6 points.

- p3 would have 3 draws with p1 and 3 draws with p2, totaling 6 points.

But we need p1=3, p2=4, p3=5, which is different.

So, all draws cannot achieve the required points.

Therefore, the formula must be wrong in this case.

But according to the example, the output is 6, which suggests that it's possible to have 6 draws, but as shown, that wouldn't achieve p1=3, p2=4, p3=5.

So, perhaps the formula is incorrect.

Wait, perhaps I need to look back at the formula.

Looking back, the formula is:

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

In this case, p3=5, p1=3, p2=4, so p3 - p1 - p2 = 5 - 3 - 4 = -2, so max(0, -2) = 0, hence result = (3 + 4 + 5 - 0) // 2 = 12 // 2 = 6.

But as shown, 6 draws cannot achieve p1=3, p2=4, p3=5.

So, perhaps the formula is not correctly calculating the maximum number of draws.

Alternatively, maybe the formula is calculating the total number of games, not the maximum number of draws.

Wait, no, the example output is 6, which is the total number of games, but that's not the maximum number of draws possible.

So, perhaps the formula is incorrect.

Wait, but in the earlier test case of 1,1,2, the formula gives 2, which matches the example output of 2.

And in that case, it's possible to have 2 draws.

Similarly, in 1,1,10, it gives 2, which matches the example output of 2.

But in 3,4,5, it gives 6, which seems incorrect because all 6 games being draws cannot achieve p1=3, p2=4, p3=5.

So, perhaps the formula is not correctly calculating the maximum number of draws.

Wait, maybe I need to think differently.

Let me consider that the maximum number of draws is equal to the total points minus the minimal points needed from win/loss games, divided by 2.

But I'm getting confused.

Perhaps I need to look for a different approach.

Let me consider that in order to maximize draws, I need to minimize the number of win/loss games.

The differences in points between players can be created by win/loss games.

So, the minimal number of win/loss games needed is determined by the differences in points.

Specifically, the minimal number of win/loss games is determined by how much p3 exceeds the average, or something like that.

Alternatively, perhaps I can look at the minimal number of win/loss games needed to achieve the point differences.

Let me consider that each win/loss game creates a difference of 2 points between two players.

So, to achieve the required point differences, I need a certain number of win/loss games.

The minimal number of win/loss games needed would be the sum of the differences in points, divided by 2.

Wait, but that's not precise.

Let me think about it differently.

Let’s consider that p3 has the highest score, p2 is in the middle, and p1 is the lowest.

To maximize draws, I need to have as many games as possible end in draws.

Draws add 1 point to each player involved.

Win/loss games add 2 points to one player and 0 to the other.

So, to maximize draws, I need to minimize the number of win/loss games needed to achieve the point differences.

Let’s define:

Let d be the number of draws.

Let w be the number of win/loss games.

Then, d + w = total_games = (p1 + p2 + p3) / 2.

Now, in the draws, each draw contributes 1 point to each player involved.

In win/loss games, one player gets 2 points, the other gets 0.

So, the total points can be expressed as:

p1 = draws_involving_p1 + 2 * wins_by_p1

p2 = draws_involving_p2 + 2 * wins_by_p2

p3 = draws_involving_p3 + 2 * wins_by_p3

But this seems too vague.

Perhaps I need to consider the minimal number of win/loss games needed to achieve the point differences.

Let me consider that the difference between p3 and p2 is p3 - p2.

Similarly, the difference between p2 and p1 is p2 - p1.

To maximize draws, I need to minimize the number of win/loss games, which are needed to account for these differences.

Each win/loss game can account for a difference of 2 points.

So, the minimal number of win/loss games needed is ceil((p3 - p2 + p2 - p1)/2) = ceil((p3 - p1)/2).

Wait, but p3 and p1 might have overlapping differences through p2.

This seems complicated.

Alternatively, perhaps the minimal number of win/loss games is ceil((p3 - p1)/2).

But I'm not sure.

Let me consider an example.

In the test case 1,1,2:

p3 - p1 = 2 - 1 = 1.

So, ceil(1/2) = 1 win/loss game needed.

Total games: 2.

So, minimal win/loss games: 1.

Therefore, maximal draws: 2 - 1 = 1.

But according to the earlier scenario, it's possible to have 2 draws, which matches p1=1, p2=1, p3=2.

Wait, but according to this calculation, maximal draws should be 2 - 1 = 1, but in reality, it's possible to have 2 draws.

So, this approach is incorrect.

Wait, perhaps I need to consider the differences differently.

Let me look for another way.

I recall that in flow networks or matching problems, similar constraints can be modeled.

But that might be too advanced for this problem.

Alternatively, perhaps I can look for a way to pair the points in such a way to maximize draws.

Wait, perhaps I can think in terms of the sum of points and the individual points.

Let me consider that the sum of points is 2 * total_games.

And I need to distribute the points such that p1 + p2 + p3 = 2 * total_games.

Given that, and p1 ≤ p2 ≤ p3.

Now, to maximize draws, I need to maximize the number of games where points are equally distributed between the players involved.

Each draw contributes 1 point to each player involved.

Each win/loss game contributes 2 points to one player and 0 to the other.

So, to maximize draws, I need to maximize the number of games where points are equally distributed.

This seems to be equivalent to minimizing the number of win/loss games needed to achieve the point differences.

So, perhaps I can calculate the minimal number of win/loss games needed to achieve the point differences, and then the remaining games can be draws.

So, minimal_win_loss = ceil((p3 - p1)/2)

Then, maximal_draws = total_games - minimal_win_loss

But in the earlier example, p1=1, p2=1, p3=2.

p3 - p1 = 1, ceil(1/2)=1.

Total games= (1+1+2)/2=2.

Maximal draws=2-1=1.

But in reality, it's possible to have 2 draws.

So, this approach is incorrect.

Wait, perhaps I need to consider the differences between all pairs.

Let me consider that the total differences are (p3 - p2) + (p2 - p1) = p3 - p1.

Each win/loss game can reduce the total difference by 2.

Wait, no, it's the opposite.

Each win/loss game can create a difference of 2.

So, to achieve a total difference of p3 - p1, the minimal number of win/loss games is ceil((p3 - p1)/2).

But in the earlier example, p3 - p1=1, ceil(1/2)=1, total games=2, so maximal draws=2-1=1, but in reality, it's possible to have 2 draws.

So, perhaps this formula is not accurate.

Wait, perhaps I need to consider that the differences can be achieved through multiple win/loss games.

Wait, maybe I'm overcomplicating it.

Let me look back at the formula in the code:

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

In the test case 3,4,5:

result = (3 + 4 + 5 - max(0,5 - 3 -4)) //2 = (12 - max(0,-2)) //2 = (12 -0)//2 = 6.

But as we saw earlier, it's not possible to have all 6 games as draws to achieve p1=3, p2=4, p3=5.

So, perhaps the formula is incorrect.

Alternatively, maybe the formula is calculating the total number of games, not the maximum number of draws.

Wait, no, in the earlier test case 1,1,2, it gave 2, which matches the example output, and in 1,1,10 it gave 2, which matches the example output, and in 3,4,5 it gives 6, which matches the example output.

Wait, but in 3,4,5, is it possible to have 6 draws? As I thought earlier, it's not possible because draws would distribute points equally among the players involved, which wouldn't allow p3 to have 5 while p1 has 3 and p2 has 4.

So, perhaps the formula is incorrect.

Alternatively, maybe I'm misunderstanding something.

Let me consider another approach.

Let’s consider that in order to maximize draws, we need to maximize the number of games where points are equally distributed.

This means that in draws, the points are split evenly between the two players involved.

So, to maximize draws, we need to maximize the number of games where the points added to the players are equal.

Given that, perhaps I can think in terms of the minimal number of win/loss games needed to achieve the required point differences, and the rest can be draws.

So, the minimal number of win/loss games is determined by the differences in points.

Specifically, the total difference in points that needs to be accounted for by win/loss games.

Wait, perhaps I can think in terms of the total points that need to be distributed unevenly.

Each win/loss game can create a difference of 2 points.

So, the minimal number of win/loss games needed is the total difference in points divided by 2.

But I need to define what the total difference is.

Wait, perhaps it's the sum of the differences between each player's points and the average points.

But I'm getting stuck.

Let me look for a different approach.

Let me consider that in order for the scores to be achievable, the total points must be even, and the individual points must satisfy certain inequalities.

Moreover, to maximize the number of draws, I need to maximize the number of games where both players get 1 point each.

So, perhaps I can model this as a system of equations.

Let me define:

Let d_ab be the number of draws between player a and player b.

Similarly, d_ac and d_bc.

Let w_ab be the number of win/loss games where player a wins against player b.

Similarly, w_ba for player b winning against player a.

And so on for other pairs.

Then, the total points for each player can be expressed as:

p1 = d_ab + d_ac + 2 * (w12 + w13)

p2 = d_ab + d_bc + 2 * (w21 + w23)

p3 = d_ac + d_bc + 2 * (w31 + w32)

Where w12 is the number of games where player 1 wins against player 2, and w21 is where player 2 wins against player 1, and so on.

This seems too complicated to handle directly.

Perhaps I need to look for a different way to model this.

Let me consider that the maximum number of draws is achieved when as many games as possible are draws, meaning that the point differences are minimized.

But in reality, the point differences are given by the scores, so I need to have enough win/loss games to account for the differences.

So, perhaps the maximum number of draws is equal to the total games minus the minimal number of win/loss games needed to achieve the point differences.

So, I need to find the minimal number of win/loss games required to achieve the point differences.

Let me consider that each win/loss game can create a difference of 2 points between two players.

So, to achieve a certain difference between p3 and p1, for example, I need at least ceil((p3 - p1)/2) win/loss games.

Similarly, to achieve the difference between p2 and p1, I need ceil((p2 - p1)/2) win/loss games.

But I need to consider that some win/loss games can contribute to multiple differences simultaneously.

This is getting too involved.

Perhaps I should look for a different approach.

Let me consider that the maximum number of draws is achieved when p1, p2, and p3 have points that are as equal as possible.

But in this problem, p1 ≤ p2 ≤ p3, and p3 can be higher, so I need to account for that.

Wait, perhaps I can consider that the maximum number of draws is equal to the sum of p1, p2, and p3 minus the minimal points that need to be distributed through win/loss games.

But I'm still stuck.

Let me look back at the formula in the code.

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

In the test case 3,4,5:

result = (3 + 4 + 5 - max(0,5 -3 -4)) //2 = (12 - max(0,-2)) //2 = (12 -0)//2 = 6.

But is this correct?

Wait, in this case, total games are 6.

Is it possible to have all 6 games as draws? As I thought earlier, no, because draws would distribute points equally, which wouldn't allow p3 to have 5 while p1 has 3 and p2 has 4.

So, perhaps the formula is incorrect.

Alternatively, maybe the formula is calculating the total number of games, not the maximum number of draws.

Wait, but in the earlier test case of 1,1,2, it gives 2, which matches the example output, and in that case, it's possible to have 2 draws.

Wait, but in that case, it's possible to have 2 draws to achieve p1=1, p2=1, p3=2.

For example:

- p1 and p2 draw once: p1=1, p2=1.

- p2 and p3 draw once: p2=2, p3=2.

But the required p3 is 2, p2 is 2, but p1 is 1, which matches.

Wait, but in the test case, p3=2, p2=1, p1=0, but in this scenario, p1=1, p2=2, p3=2, which doesn't match the required p1=1, p2=1, p3=2.

Wait, perhaps I need to adjust.

Let me think again.

If p1 and p2 draw once: p1=1, p2=1.

Then p2 and p3 draw once: p2=2, p3=2.

This matches p1=1, p2=2, p3=2, but in the test case, p1=1, p2=1, p3=2.

So, perhaps I need a different combination.

Alternatively, perhaps it's possible to have two draws:

- p1 and p3 draw once: p1=1, p3=1.

- p2 and p3 draw once: p2=1, p3=2.

Now, p1=1, p2=1, p3=2, which matches the test case.

So, with two draws, it's possible to achieve p1=1, p2=1, p3=2.

Similarly, in the test case 3,4,5, with 6 draws, it's not possible to achieve p1=3, p2=4, p3=5, as I saw earlier.

So, perhaps the formula is calculating the total number of games, but not necessarily the maximum number of draws.

Wait, but in the test case 1,1,2, it gives 2, which matches the maximum number of draws, and in 3,4,5 it gives 6, which seems incorrect because it's not possible to have 6 draws to achieve p1=3, p2=4, p3=5.

So, perhaps the formula is incorrect.

Alternatively, perhaps I'm misunderstanding the formula.

Let me look back at the formula:

result = (p1 + p2 + p3 - max(0, p3 - p1 - p2)) // 2

In the test case 3,4,5:

p1 + p2 + p3 = 12

max(0, p3 - p1 - p2) = max(0,5 -3 -4) = max(0,-2) = 0

So, result = (12 - 0) // 2 = 6

