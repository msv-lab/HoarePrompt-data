Alright, I have this problem to solve. Let's read it carefully.

So, there are two firework installations that launch fireworks at regular intervals. The first one launches every 'a' minutes, and the second one every 'b' minutes. Each firework stays in the sky for 'm + 1' minutes after launch, meaning it's visible from time x to x + m inclusive.

I need to find the maximum number of fireworks that can be seen in the sky at the same time.

First, I need to understand how the fireworks are launched and when they are visible.

Let's consider the launch times:

- Installation 1: launches at a, 2a, 3a, ..., ka, etc.

- Installation 2: launches at b, 2b, 3b, ..., lb, etc.

Each firework launched at time t is visible from t to t + m.

So, for any given time, the number of visible fireworks is the sum of fireworks from both installations that are active at that time.

I need to find the time when the most fireworks are visible simultaneously.

Let me think about how to approach this.

One way is to consider all possible times and check how many fireworks are visible, but that's not practical because time can be up to infinity, and m can be up to 10^18.

I need a smarter way.

Let's think about the launch times and the visibility periods.

For installation 1, the fireworks are launched at multiples of a, and each stays for m minutes.

Similarly, for installation 2, fireworks are launched at multiples of b and stay for m minutes.

I need to find a time when the number of overlapping visibility periods is maximum.

This sounds like a problem of counting overlapping intervals.

But with large values of a, b, and m, I need an efficient way to calculate this.

Let me consider the number of fireworks from each installation that are visible at a certain time.

For installation 1, the number of fireworks visible at time t is the number of launch times ka (k is an integer) such that ka <= t < ka + m + 1.

Similarly for installation 2.

But I need to find the maximum overlap.

I recall that in similar problems, the maximum number of overlapping intervals is often found by considering the events where intervals start or end.

In this case, fireworks start at ka and end at ka + m for installation 1, and similarly for installation 2.

So, I can think of start events at ka and end events at ka + m for both installations.

Then, by sorting these events, I can scan through time and keep track of the current number of active fireworks.

But with a, b, and m up to 10^18, I can't explicitly list all these events.

I need a mathematical approach to find the maximum number of overlapping intervals.

Let me consider the possible scenarios where the number of visible fireworks is maximized.

This likely happens at times when multiple fireworks from both installations are visible.

Specifically, at times that are close to the launch times of both installations.

Wait, but the installations launch at different intervals, so the overlaps might happen at times that are multiples of some combination of a and b.

I need to find a time t where t is close to multiples of both a and b.

Alternatively, perhaps I should consider the least common multiple (LCM) of a and b, but I'm not sure if that directly helps here.

Let me try to think differently.

Suppose I fix a time t, and I want to know how many fireworks from installation 1 are visible at t.

This would be the number of integers k such that ka <= t < ka + m + 1.

Similarly for installation 2.

So, for installation 1, the number of visible fireworks is floor((t)/a) - floor((t - m - 1)/a)

Similarly for installation 2.

Wait, that seems promising.

Let me formalize that.

For installation 1, the number of fireworks visible at time t is:

floor((t)/a) - floor((t - m - 1)/a)

Similarly, for installation 2:

floor((t)/b) - floor((t - m - 1)/b)

So, the total number of visible fireworks at time t is the sum of these two.

I need to maximize this sum over all t.

Given that a, b, and m can be up to 10^18, I need a way to find the maximum value of this sum without iterating over all possible t.

Let me consider the possible values of t where the number of visible fireworks can change.

These points are at multiples of a and b, and at t = ka + m and lb + m for both installations.

So, the number of visible fireworks can change at these points.

But again, with large a, b, and m, I can't iterate through all possible t.

I need a smarter way.

Let me consider the maximum possible number of overlapping fireworks.

For installation 1, the maximum number of overlapping fireworks at any time is floor(m / a) + 1.

Similarly for installation 2: floor(m / b) + 1.

This is because within any interval of length m, the number of fireworks from one installation that can be overlapping is floor(m / a) + 1.

But in reality, the overlaps between the two installations can increase the total.

Wait, but if the installations are launching at different intervals, the overlaps might be less straightforward.

Wait, perhaps the maximum number of visible fireworks is simply the sum of the maximum overlaps from each installation.

That is, floor(m / a) + 1 + floor(m / b) + 1.

But in the sample input, when a=6, b=7, m=4, floor(4/6)+1 + floor(4/7)+1 = 1 + 1 + 1 +1 = 4, but the sample output is 2.

Wait, that doesn't match.

Hmm, perhaps I need to consider that some fireworks from different installations might overlap in time, but not necessarily overlap in count.

Wait, maybe I need to consider the least common multiple (LCM) of a and b to find when both installations launch at the same time.

But in the first sample, a=6 and b=7, which are co-prime, so their LCM is 42.

So, they only launch at the same time every 42 minutes.

But in the sample, at t=7, one firework from installation 2 is launched, and the previous firework from installation 1 was at t=6, which is still visible until t=10.

So, at t=7, fireworks from both installations are visible.

But according to the formula floor(m/a)+1 + floor(m/b)+1, it would be floor(4/6)+1 + floor(4/7)+1 = 0+1 + 0+1 = 2, which matches the sample output.

Wait, but in my earlier calculation, I thought floor(4/6)=0, floor(4/7)=0, so total 2, which matches the sample.

But in the second sample, a=3, b=4, m=10, floor(10/3)+1=3+1=4, floor(10/4)+1=2+1=3, total 7, which matches the sample output.

Similarly, in the third sample, a=7, b=8, m=56, floor(56/7)+1=8+1=9, floor(56/8)+1=7+1=8, total 17, which matches the sample.

So, it seems that the maximum number of visible fireworks is indeed floor(m/a)+1 + floor(m/b)+1.

Wait, but in the fourth sample, a=5, b=6, m=78123459896, floor(78123459896/5)+1=15624691979 +1=15624691980, floor(78123459896/6)+1=13020576649 +1=13020576650, sum is 15624691980 + 13020576650 = 28645268630, which matches the sample.

Similarly, in the fifth sample, a=1, b=1, m=1, floor(1/1)+1=1+1=2, floor(1/1)+1=1+1=2, total 4, which matches the sample.

And in the sixth sample, a=1, b=1, m=1000000000000000000, floor(1000000000000000000/1)+1=1000000000000000000+1=1000000000000000001, floor(1000000000000000000/1)+1=1000000000000000000+1=1000000000000000001, sum is 2000000000000000002, which matches the sample.

So, it seems that the formula floor(m/a)+1 + floor(m/b)+1 gives the correct maximum number of visible fireworks.

But why does this work?

Let me try to understand.

For a single installation, the number of fireworks visible at time t is floor(t/a) - floor((t - m - 1)/a).

This represents the number of launches between t - m and t, inclusive.

The maximum number of overlapping fireworks from one installation occurs when t is such that t is just after a launch, say t=ka, and t + m includes as many launches as possible.

Given that each launch happens every a minutes, the number of launches within m minutes is floor(m / a) + 1.

Similarly for installation b.

Since the installations are independent, the total maximum number of visible fireworks is the sum of the maximum overlaps from each installation.

But wait, in the first sample, a=6, b=7, m=4, floor(4/6)+1=1, floor(4/7)+1=1, sum=2, which matches the sample.

But is there a possibility that more fireworks can overlap if a and b have a relationship where their launch times align more closely?

For example, if a and b are multiples of each other, or have a common factor.

Wait, in the fifth sample, a=1, b=1, m=1, which means both installations launch every minute.

In this case, floor(1/1)+1=2, and sum is 4, which makes sense because at t=1, both installations launch, and their fireworks are visible from t=1 to t=2.

So, at t=1, both fireworks from installation 1 and both from installation 2 are visible, totaling 4.

Wait, but actually, since a=1 and b=1, both installations launch every minute, so at t=1, there is one firework from each installation launched at t=1, and they are visible until t=2.

So, at t=1, there is one from each installation launched at t=1, and none from previous launches because m=1.

Wait, but according to the formula, floor(1/1)+1=2 for each installation, sum=4, but in reality, at t=1, it's two fireworks: one from each installation.

Wait, maybe I'm misunderstanding.

Wait, perhaps the formula is not entirely accurate.

Wait, in the fifth sample, a=1, b=1, m=1.

Then, floor(m/a)+1 = floor(1/1)+1=1+1=2, and same for b, so total 4.

But in reality, at t=1, both installations launch, and their fireworks are visible from t=1 to t=2.

So, at t=1, there are two fireworks: one from each installation.

At t=2, the fireworks launched at t=1 are still visible, and new fireworks are launched at t=2, so again two fireworks visible.

Wait, but according to the formula, it's giving 4, but in reality, it's only two.

So, perhaps the formula is incorrect.

Wait, maybe I need to consider that when a and b are equal, and m is less than a, the formula overcounts.

Wait, in this case, a=1, b=1, m=1.

floor(1/1)+1=2 for each installation.

But in reality, at any time t, only one firework from each installation is visible, so total two.

So, the formula is overcounting.

Wait, perhaps I need to subtract the overlaps when both installations launch at the same time.

In this case, since a=1 and b=1, they launch at the same time every minute.

So, at each launch time, both installations launch simultaneously.

Therefore, the number of overlapping fireworks from both installations needs to be handled carefully.

Wait, perhaps the correct approach is to calculate the maximum number of visible fireworks from each installation separately and then sum them, but adjust for overlaps when both installations launch at the same time.

In the case where a and b are equal, and m is greater than or equal to a, the formula floor(m/a)+1 + floor(m/b)+1 would overcount the overlapping launches.

Wait, but in the fifth sample, m=1, a=1, b=1, floor(1/1)+1=2 for each, sum=4, but in reality, only two fireworks are visible at any time.

So, the formula is incorrect in this case.

Perhaps I need to consider the greatest common divisor (GCD) of a and b to adjust for overlapping launches.

Wait, but in the fifth sample, GCD(a,b)=1, but the formula overcounts.

Wait, maybe the formula is correct when a and b are co-prime or when their launch times don't overlap much, but fails when a and b have a common factor or when they launch frequently.

Alternatively, perhaps I need to consider the number of fireworks launched by each installation whose visibility periods overlap with the visibility periods of fireworks from the other installation.

This seems complicated.

Let me think differently.

Suppose I fix a time t, and I want to calculate the number of visible fireworks from both installations.

For installation 1: number of visible fireworks is floor(t/a) - floor((t - m - 1)/a)

Similarly for installation 2: floor(t/b) - floor((t - m - 1)/b)

The total is the sum of these two.

To maximize this sum, I need to choose t such that both floor(t/a) - floor((t - m - 1)/a) and floor(t/b) - floor((t - m - 1)/b) are maximized.

For a single installation, the maximum number of visible fireworks is floor(m / a) + 1, which occurs when t is such that t mod a is close to a.

Similarly for installation b.

So, if I sum these two, floor(m / a) + 1 + floor(m / b) + 1, that should be the maximum.

But in the fifth sample, this gives floor(1/1)+1 + floor(1/1)+1 = 2 + 2 = 4, but in reality, only two fireworks are visible at any time.

So, the formula is overcounting in this case.

Wait, perhaps I need to subtract the number of overlapping launches when both installations launch at the same time.

In the fifth sample, since a=1 and b=1, they launch at every minute, so every launch is overlapping.

So, the overlapping count needs to be adjusted.

In general, the number of overlapping launches within m minutes would be floor(m / LCM(a,b)) + 1, where LCM is the least common multiple of a and b.

Then, the total maximum visible fireworks would be floor(m / a) + 1 + floor(m / b) + 1 - floor(m / LCM(a,b)) - 1.

Wait, in the fifth sample, LCM(1,1)=1, so floor(1/1)+1 + floor(1/1)+1 - floor(1/1)+1 = 2 + 2 - 2 = 2, which matches the sample.

Similarly, in the first sample, a=6, b=7, LCM=42, floor(4/6)+1 + floor(4/7)+1 - floor(4/42)+1 = 1 + 1 + 0 +1 = 3, but the sample output is 2.

Wait, that doesn't match.

Hmm, perhaps I need to adjust the formula.

Wait, in the first sample, since LCM is 42, and m=4, floor(4/42)+1=0+1=1.

So, total would be 1 + 1 + 1 -1 = 2, which matches the sample.

Ok, so perhaps the formula is floor(m / a) + 1 + floor(m / b) + 1 - floor(m / LCM(a,b)) -1.

Wait, simplifying that: floor(m / a) + floor(m / b) + 2 - floor(m / LCM(a,b)) -1 = floor(m / a) + floor(m / b) +1 - floor(m / LCM(a,b))

In the first sample, floor(4/6)=0, floor(4/7)=0, 0 + 0 +1 -0 =1, but the sample output is 2.

Wait, that doesn't match.

I must be missing something.

Wait, perhaps I need to consider that the installations launch simultaneously at t=0, but since t starts from the beginning, I need to account for that.

Wait, in the problem, launches start at t=a, 2a, etc., not at t=0.

Wait, perhaps I need to consider t=0 as well.

But in the problem, launches start at t=a, t=2a, etc.

So, visibility starts at t=a and ends at t=a+m.

Similarly for installation b.

Wait, perhaps I need to find the time t where the sum of visible fireworks from both installations is maximized.

To do that, perhaps I can consider the overlapping intervals.

Let me consider the time line and mark the visibility periods for each installation.

For installation 1: intervals [a, a+m], [2a, 2a+m], [3a, 3a+m], etc.

Similarly for installation 2: [b, b+m], [2b, 2b+m], [3b, 3b+m], etc.

I need to find the time t where the number of intervals covering t is maximized.

This is similar to finding the maximum number of overlapping intervals.

A standard way to do this is to sort the start and end events and scan through time.

But with large a, b, and m, I can't do that directly.

I need a mathematical way to find the maximum overlap.

Let me consider the number of visible fireworks from installation 1 at time t: floor(t / a) - floor((t - m -1) / a)

Similarly for installation 2.

The sum is floor(t / a) - floor((t - m -1) / a) + floor(t / b) - floor((t - m -1) / b)

I need to maximize this sum over t.

Given that a, b, and m can be up to 10^18, I need an efficient way to find the maximum value.

I recall that floor functions can be tricky, but in this case, perhaps I can find t that maximizes the sum by choosing t such that t is close to multiples of a and b.

Wait, perhaps choosing t to be the least common multiple (LCM) of a and b.

But in the first sample, LCM is 42, but m=4, which is less than a and b, so perhaps that's not helpful.

Wait, in the fifth sample, a=1, b=1, m=1, LCM=1, and at t=1, floor(1/1)-floor((1-1-1)/1) + floor(1/1)-floor((1-1-1)/1) = 1 - floor(-1/1) + 1 - floor(-1/1)

But floor(-1/1)=floor(-1)=-1

So, 1 - (-1) + 1 - (-1) = 1 +1 +1 +1 = 4, which matches the earlier overcounting.

But in reality, only two fireworks are visible at t=1.

So, perhaps the formula needs adjustment.

Wait, maybe I need to consider that when a and b divide t, there is an overlap in the counts.

Wait, perhaps I need to use the inclusion-exclusion principle.

That is, the total number of visible fireworks is the number from installation 1 plus the number from installation 2 minus the number of fireworks that are counted twice, i.e., when both installations launch at times that are multiples of LCM(a,b).

So, the formula would be:

floor(t / a) - floor((t - m -1) / a) + floor(t / b) - floor((t - m -1) / b) - [floor(t / LCM(a,b)) - floor((t - m -1) / LCM(a,b))]

Then, to maximize this, I can consider t such that t is a multiple of LCM(a,b), to maximize the overlaps.

But in the fifth sample, a=1, b=1, LCM=1, so floor(t / 1) - floor((t - 1 -1)/1) + floor(t /1) - floor((t -1 -1)/1) - [floor(t /1) - floor((t -1 -1)/1)].

Let's set t=1:

floor(1/1) - floor(-1/1) + floor(1/1) - floor(-1/1) - [floor(1/1) - floor(-1/1)] = 1 - (-1) + 1 - (-1) - [1 - (-1)] = 1 +1 +1 +1 - [1 +1] = 4 - 2 = 2, which matches the sample.

Similarly, in the first sample, a=6, b=7, LCM=42, m=4.

Let's set t=42:

floor(42/6) - floor((42-4-1)/6) + floor(42/7) - floor((42-4-1)/7) - [floor(42/42) - floor((42-4-1)/42)]

= 7 - floor(37/6) + 6 - floor(37/7) - [1 - floor(37/42)]

= 7 - 6 + 6 - 5 - [1 - 0] = 1 +1 -1 =1, but the sample output is 2.

Wait, that doesn't match.

Wait, perhaps choosing t=7, as in the explanation.

At t=7:

floor(7/6) - floor((7-4-1)/6) + floor(7/7) - floor((7-4-1)/7) - [floor(7/42) - floor((7-4-1)/42)]

=1 - floor(2/6) +1 - floor(2/7) - [0 - floor(2/42)]

=1 -0 +1 -0 - [0 -0] =2 -0 =2, which matches the sample.

So, choosing t=7 gives the maximum overlap of 2.

Similarly, in the fifth sample, choosing t=1 gives the correct maximum of 2.

So, perhaps the formula is:

floor(t / a) - floor((t - m -1) / a) + floor(t / b) - floor((t - m -1) / b) - [floor(t / LCM(a,b)) - floor((t - m -1) / LCM(a,b))]

And to maximize this, choose t to be the time where the overlaps are maximized, which seems to be when t is a multiple of LCM(a,b), or close to multiples of a and b.

But in practice, calculating LCM(a,b) for large a and b could be problematic due to potential overflow, but since a and b are up to 10^18, and LCM(a,b)=a*b/GCD(a,b), it should be manageable as long as I handle the division correctly.

But perhaps there's a simpler way.

Looking back at the initial approach, where the maximum number of visible fireworks is floor(m / a) +1 + floor(m / b) +1 - [overlapping launches], and in the fifth sample, overlapping launches are floor(m / LCM(a,b)) +1, so the formula becomes:

floor(m / a) +1 + floor(m / b) +1 - floor(m / LCM(a,b)) -1

Which simplifies to floor(m / a) + floor(m / b) +2 - floor(m / LCM(a,b)) -1 = floor(m / a) + floor(m / b) +1 - floor(m / LCM(a,b))

In the first sample, floor(4/6)=0, floor(4/7)=0, floor(4/42)=0, so 0 + 0 +1 -0 =1, but the sample output is 2.

Wait, but earlier with t=7, the formula gave 2.

So perhaps choosing t=LCM(a,b) doesn't always give the maximum.

Alternatively, perhaps the maximum is floor(m / a) + floor(m / b) +2 - floor(m / LCM(a,b)) - correction_factor.

But this is getting too complicated.

Let me look for a different approach.

I recall that in scheduling problems, the number of overlapping events can be found by calculating the number of events that have started minus the number that have ended.

In this case, for each installation, the number of fireworks visible at time t is the number of launches that have occurred by t minus the number that have ended before t.

So, for installation 1: floor(t / a) - floor((t - m -1) / a)

Similarly for installation 2.

To maximize the sum, I need to choose t where both floor(t / a) - floor((t - m -1) / a) and floor(t / b) - floor((t - m -1) / b) are maximized.

Given that, perhaps the maximum sum is floor(m / a) +1 + floor(m / b) +1 - floor(m / LCM(a,b)) -1.

Wait, in the first sample, floor(4/6)=0, floor(4/7)=0, floor(4/42)=0, so 0+0+1 -0 -1 =0, which doesn't match the sample.

But earlier, with t=7, it gave 2.

So perhaps the formula needs t to be chosen appropriately.

Alternatively, perhaps the maximum number of visible fireworks is the sum of floor(m / a) +1 and floor(m / b) +1, but adjusted for overlaps.

But in the fifth sample, it's floor(1/1)+1=2 + floor(1/1)+1=2 - floor(1/1)+1=2 -1=1, total 2+2-2-1=1, but sample output is 4.

Wait, no, earlier with t=1, it gave 4 -2=2, which matches the sample.

But according to the sample, output is 4, so perhaps I need to reconsider.

Wait, perhaps the inclusion-exclusion principle should be applied differently.

Maybe the formula should be:

floor(m / a) +1 + floor(m / b) +1 - floor(m / LCM(a,b)) -1

But in the fifth sample, it's 2 +2 -2 -1=1, but sample output is 4.

Wait, perhaps the formula is floor(m / a) +1 + floor(m / b) +1 - floor(m / LCM(a,b))

In the fifth sample, that would be 2 +2 -2=2, which still doesn't match the sample.

Wait, but in the sample, output is 4, which suggests that the formula is simply floor(m / a) +1 + floor(m / b) +1.

Wait, but in the first sample, floor(4/6)+1=1, floor(4/7)+1=1, sum=2, which matches the sample.

In the third sample, floor(56/7)+1=9, floor(56/8)+1=8, sum=17, matches the sample.

In the fifth sample, floor(1/1)+1=2, floor(1/1)+1=2, sum=4, matches the sample.

So, perhaps the earlier thought about inclusion-exclusion was unnecessary.

Maybe the correct formula is simply floor(m / a) +1 + floor(m / b) +1.

But in the first sample, it gives 1 +1=2, which matches.

In the second sample, floor(10/3)+1=4, floor(10/4)+1=3, sum=7, matches the sample.

In the third sample, floor(56/7)+1=9, floor(56/8)+1=8, sum=17, matches.

In the fourth sample, floor(78123459896 /5)+1=15624691980, floor(78123459896 /6)+1=13020576650, sum=28645268630, matches.

In the fifth sample, floor(1/1)+1=2, floor(1/1)+1=2, sum=4, matches.

In the sixth sample, floor(1000000000000000000 /1)+1=1000000000000000000+1=1000000000000000001, floor(1000000000000000000 /1)+1=1000000000000000001, sum=2000000000000000002, matches.

So, it seems that the formula floor(m / a)+1 + floor(m / b)+1 gives the correct maximum number of visible fireworks in all the sample cases.

Therefore, perhaps the initial approach is correct, and my confusion in the fifth sample was due to misinterpreting the visibility.

Wait, in the fifth sample, a=1, b=1, m=1.

So, at t=1:

Firework from installation 1 launched at t=1, visible from t=1 to t=2.

Firework from installation 2 launched at t=1, visible from t=1 to t=2.

At t=1, both fireworks are visible: one from each installation.

Similarly, at t=2:

Firework from installation 1 launched at t=1 is still visible until t=2.

Firework from installation 1 launched at t=2 is visible from t=2 to t=3.

Similarly for installation 2.

So, at t=2, there are two fireworks from installation 1: the one launched at t=1 and the one launched at t=2.

Similarly, two from installation 2.

So, total four fireworks visible at t=2.

Hence, the maximum number is indeed 4.

So, the formula floor(m / a)+1 + floor(m / b)+1 gives the correct count.

Similarly, in the first sample, floor(4 / 6)+1 + floor(4 /7)+1 =0+1 +0+1=2, which matches.

Hence, the program provided is correct.

It reads t, the number of test cases, and for each test case, reads a, b, m, and prints floor(m / a)+1 + floor(m / b)+1.

Hence, the correctness is True.

## Final Solution
To solve this problem, we need to determine the maximum number of fireworks that can be seen in the sky at the same time from two different installations, given their launch frequencies and the visibility duration of each firework.

### Approach
1. **Understanding Visibility**: Each firework launched by an installation is visible for `m + 1` minutes after its launch time.
2. **Launch Frequencies**: The first installation launches fireworks every `a` minutes, and the second every `b` minutes.
3. **Overlap Calculation**: To find the maximum number of fireworks in the sky at any time, calculate how many fireworks from each installation can be visible simultaneously.
4. **Mathematical Formulation**:
    - For installation 1, the number of visible fireworks is given by `floor(m / a) + 1`.
    - For installation 2, it is `floor(m / b) + 1`.
    - The total maximum visible fireworks is the sum of these two values.

### Solution Code
```python
def main():
    import sys
    input = sys.stdin.read
    data = input().split()
    t = int(data[0])
    index = 1
    for _ in range(t):
        a = int(data[index])
        b = int(data[index+1])
        m = int(data[index+2])
        index += 3
        A = m // a + 1
        B = m // b + 1
        print(A + B)

if __name__ == "__main__":
    main()
```

### Explanation
1. **Reading Input**: Read the input values for `t` (number of test cases), followed by the values of `a`, `b`, and `m` for each test case.
2. **Calculating Visible Fireworks**:
    - For each test case, compute `floor(m / a) + 1` for the first installation.
    - Compute `floor(m / b) + 1` for the second installation.
3. **Summing Up**: The total number of visible fireworks at any time is the sum of the above two values.
4. **Output**: Print the result for each test case.

This approach ensures that we efficiently calculate the maximum number of visible fireworks for each test case using simple arithmetic operations, suitable for large input values.