Alright, I have this problem to solve. Let's read it carefully.

So, there are two firework installations that launch fireworks at regular intervals. The first one launches every 'a' minutes, and the second one every 'b' minutes. Each firework remains visible in the sky for 'm + 1' minutes after launch, meaning it's visible from time x to x + m inclusive, where x is the launch time.

I need to find the maximum number of fireworks that can be seen in the sky at the same time.

First, I need to understand how the fireworks are launched and when they are visible.

Let's consider the launch times:

- Installation 1 launches at times: a, 2a, 3a, ...

- Installation 2 launches at times: b, 2b, 3b, ...

And each firework is visible for m + 1 minutes after launch, from x to x + m inclusive.

So, for any given time t, the number of visible fireworks is the sum of fireworks launched by both installations that are still visible at time t.

I need to find the maximum such sum over all possible times t.

Let me think about how to approach this.

One way is to consider the visibility periods of all fireworks and find the time when the most of them overlap.

But since a, b, and m can be up to 10^18, and t can be up to 10^4, I need an efficient way to calculate this without simulating each launch or each possible time t.

I need to find a mathematical way to calculate the maximum number of overlapping fireworks at any time.

Let's think about the launches and their visibility periods.

For installation 1:

- Fireworks are launched at times a, 2a, 3a, ...

- Each firework is visible from t to t + m, where t is the launch time.

Similarly for installation 2.

I need to find a time t where the number of fireworks from both installations that include t is maximized.

This sounds like finding the time when the most fireworks are active simultaneously from both installations.

I recall that in similar problems, like finding the maximum number of overlapping intervals, we can sort the start and end times and keep a count as we sweep through time.

But with a=10^18, I can't explicitly list all launch times. I need a smarter approach.

Maybe I can calculate how many fireworks from each installation are visible at a particular time t, and then find t that maximizes the sum.

But choosing the right t is tricky.

Let me consider the possible values of m relative to a and b.

Case 1: m < a and m < b

In this case, since m is less than both a and b, no two fireworks from the same installation can overlap, because the launch intervals are larger than m.

So, the maximum visible fireworks would be from one installation or the other, depending on whether t falls within one of their visibility periods.

But since m < a and m < b, at most one firework from each installation can be visible at any time, so the maximum would be 2.

Wait, but according to the sample input, for a=6, b=7, m=4, the answer is 2, which fits this scenario.

Wait, m=4, a=6, b=7.

Since m=4 < a=6 and m=4 < b=7, no overlap within the same installation.

So, at most one from each installation, total 2.

Another sample input: a=7, b=8, m=56

Here, m=56, a=7, b=8.

m >= a and m >= b, so overlaps can occur within the same installation.

Need to calculate how many fireworks from each installation are visible at a time t.

For installation 1:

Number of fireworks visible at time t is floor(t / a), but need to consider the visibility period.

Wait, maybe I need to think differently.

Let me think about how many fireworks from installation 1 are visible at time t.

A firework launched at time k*a is visible from k*a to k*a + m.

So, for a given t, the number of fireworks from installation 1 visible at t is the number of k such that k*a <= t <= k*a + m.

Similarly for installation 2.

So, for installation 1:

Number of k where k*a <= t <= k*a + m

Which is equivalent to k*a <= t and t <= k*a + m

So, k*a <= t <= k*a + m

Need to find the number of integers k where this inequality holds.

Similarly for installation 2.

This seems a bit complicated.

Maybe I can find the range of k for each installation where their fireworks are visible at time t.

Let me try to find the minimal and maximal k for each installation.

For installation 1:

k_min = ceil(t - m)/a

k_max = floor(t)/a

Similarly for installation 2:

k_min = ceil(t - m)/b

k_max = floor(t)/b

Then, the number of visible fireworks from installation 1 is k_max - k_min + 1, but need to ensure k_min <= k_max.

Wait, actually, it's floor((t - m)/a) + 1 to floor(t/a), but need to handle ceiling and floor properly.

This seems messy.

Maybe there's a better way.

Let me consider that for installation 1, the number of visible fireworks at time t is floor((t)/a) - floor((t - m - 1)/a)

Similarly for installation 2.

Yes, that seems correct.

Because floor(t/a) is the number of launches up to t, and floor((t - m - 1)/a) is the number of launches before t - m.

So, the difference gives the number of launches that are still visible at t.

Yes, that makes sense.

So, for installation 1: floor(t/a) - floor((t - m - 1)/a)

Similarly, for installation 2: floor(t/b) - floor((t - m - 1)/b)

Total visible fireworks at time t: sum of the above two.

Now, I need to maximize this sum over all possible t.

Given that a, b, m can be up to 1e18, I need a way to find the maximum without iterating through all possible t.

I need to find the t that maximizes floor(t/a) - floor((t - m - 1)/a) + floor(t/b) - floor((t - m - 1)/b)

This seems tricky.

Let me consider the behavior of floor(t/x) - floor((t - m - 1)/x)

This represents the number of multiples of x in the interval [t - m, t]

For large t, this is roughly (m + 1)/x, but since we have floors, it's either floor((m + 1)/x) or ceil((m + 1)/x)

Wait, more carefully:

floor(t/x) - floor((t - m - 1)/x)

This is equal to floor((t - floor((t - m -1)/x)*x)/x)

But that seems complicated.

Alternatively, it's equal to the number of multiples of x in the range [t - m, t]

Which is floor(t/x) - floor((t - m -1)/x)

Which is equal to floor((t - m -1 + x)/x) - floor((t - m -1)/x), but I'm not sure if that helps.

Wait, more simply, the number of multiples of x in [t - m, t] is floor(t/x) - floor((t - m -1)/x)

This is either floor((m + 1)/x) or floor((m + 1)/x) + 1, depending on the remainder.

But I need an exact expression.

Let me consider that for large m, this is roughly (m + 1)/x, but I need to handle the floor functions.

Alternatively, perhaps I can find the t that maximizes the sum by choosing t such that both installations have their launches as dense as possible in the [t - m, t] interval.

This might happen when t is a multiple of both a and b, or close to them.

Wait, perhaps t being a multiple of LCM(a, b) could be a good candidate.

But LCM(a, b) could be up to 1e36, which is too big to handle directly.

I need a better approach.

Let me consider that for installation 1, the number of visible fireworks at time t is floor((t)/a) - floor((t - m -1)/a)

Similarly for installation 2.

I need to maximize the sum of these two.

Let me consider that floor((t)/a) - floor((t - m -1)/a) is equal to floor((t - floor((t - m -1)/a)*a)/a)

Wait, that seems complicated.

Alternatively, perhaps I can consider that for large t, this is approximately (m + 1)/a + (m + 1)/b

But I need the exact maximum.

Wait, perhaps I need to consider the overlaps.

Let me consider that for installation 1, the number of visible fireworks is floor((t)/a) - floor((t - m -1)/a)

Similarly for installation 2.

The sum is [floor(t/a) - floor((t - m -1)/a)] + [floor(t/b) - floor((t - m -1)/b)]

I need to maximize this sum.

Let me consider that floor(t/a) - floor((t - m -1)/a) is equal to the number of k such that k*a <= t and k*a >= t - m

Which is the number of k where t - m <= k*a <= t

Similarly for installation 2.

So, for installation 1, the number of k where floor((t - m)/a) <= k <= floor(t/a)

Similarly for installation 2.

Hence, the number of visible fireworks from installation 1 is floor(t/a) - ceil((t - m)/a) + 1, if floor(t/a) >= ceil((t - m)/a), else 0.

Similarly for installation 2.

So, total visible fireworks is [floor(t/a) - ceil((t - m)/a) + 1] + [floor(t/b) - ceil((t - m)/b) + 1], if both are positive, else 0.

But this seems a bit messy to maximize.

Perhaps there's a better way.

Let me consider that for installation 1, the number of visible fireworks at time t is floor((t)/a) - floor((t - m -1)/a)

Similarly for installation 2.

I need to maximize the sum of these two.

Let me consider that floor((t)/a) - floor((t - m -1)/a) is equal to the number of multiples of a in [t - m, t]

Similarly for b.

So, the total is the number of multiples of a in [t - m, t] plus the number of multiples of b in [t - m, t]

I need to maximize the sum of these two.

This seems similar to counting the number of multiples of a or b in the interval [t - m, t], but not exactly, because it's the sum of counts for a and for b.

Wait, but some t might have overlapping multiples, but since we're summing the counts separately, overlaps would be counted twice.

But in terms of maximizing, perhaps it's acceptable.

But I need the exact maximum.

Let me think differently.

Suppose I fix t, and I want to compute the number of visible fireworks.

As t increases, the number of visible fireworks from each installation can increase or decrease stepwise.

But with large a, b, m, I need a smarter way.

Perhaps I can consider the maximum possible sum, which would occur when t is such that both installations have as many multiples as possible in [t - m, t]

This would happen when t is a multiple of a and b, or close to their least common multiple.

But LCM(a, b) could be very large, up to 1e36, which is problematic for large m.

Wait, but m can be up to 1e18, and a and b up to 1e18.

I need a better approach.

Let me consider that for installation 1, the number of visible fireworks is floor((t)/a) - floor((t - m -1)/a)

Similarly for installation 2.

I need to maximize the sum.

Let me consider that floor((t)/a) - floor((t - m -1)/a) is equal to floor((t - floor((t - m -1)/a)*a)/a)

But this seems too involved.

Alternatively, perhaps I can consider that for t >= m +1, floor(t/a) - floor((t - m -1)/a) is equal to floor((m +1)/a)

Wait, no, because floor(t/a) - floor((t - m -1)/a) can be floor((t)/a) - floor((t - m -1)/a), which is equal to floor((t - m -1 + a)/a) - floor((t - m -1)/a), which is 1 if t - m -1 is not a multiple of a, else 2.

Wait, no, that's not accurate.

Actually, floor(t/a) - floor((t - m -1)/a) is equal to ceil((t - (t - m -1))/a) = ceil((m +1)/a)

Wait, no.

Actually, floor(t/a) - floor((t - m -1)/a) can be between floor((m +1)/a) and floor((m +1)/a) +1

Wait, perhaps it's floor((m +1)/a) or floor((m +1)/a) +1

Similarly for b.

So, the sum would be floor((m +1)/a) + floor((m +1)/b) or floor((m +1)/a) +1 + floor((m +1)/b) +1, depending on t.

Hence, the maximum should be floor((m +1)/a) + floor((m +1)/b) + 2

Wait, but in the sample input, for a=6, b=7, m=4, floor(5/6)=0, floor(5/7)=0, so 0 + 0 + 2 = 2, which matches the sample output.

For a=7, b=8, m=56, floor(57/7)=8, floor(57/8)=7, so 8 + 7 + 2 =17, which matches the sample.

Similarly, for a=1, b=1, m=1, floor(2/1)=2, floor(2/1)=2, so 2 + 2 + 2=6, but the sample output is 4.

Wait, that doesn't match.

Wait, perhaps I'm missing something.

Wait, for a=1, b=1, m=1, t=1: floor(1/1)=1, floor((1-1-1)/1)=floor(-1/1)=-1, so 1 - (-1)=2

Similarly for installation 2: 2

Total: 4, which matches the sample.

Wait, but according to my earlier assumption, floor((m+1)/a) + floor((m+1)/b) +2 = floor(2/1)=2 + floor(2/1)=2 +2=6, which doesn't match the sample.

So, perhaps my assumption is incorrect.

Wait, perhaps the correct formula is floor(t/a) - floor((t - m -1)/a), but I need to choose t to maximize this sum.

In the case when a divides t and b divides t, then floor(t/a)=t/a, floor(t - m -1)/a)=floor(t/a - (m +1)/a)=t/a - ceil((m +1)/a)

Wait, no.

Actually, floor(t/a) - floor((t - m -1)/a) is equal to floor((t - floor((t - m -1)/a)*a)/a)

This seems too complicated.

Perhaps I should look for a different approach.

Let me consider that for installation 1, the number of visible fireworks at time t is ceil(m/a +1), but I'm not sure.

Wait, perhaps I can consider that for installation 1, the maximum number of visible fireworks is floor((m + a)/a), which is ceil(m/a)

Similarly for installation 2.

So, the sum would be ceil(m/a) + ceil(m/b)

But in the sample input, for a=6, b=7, m=4, ceil(4/6)=1, ceil(4/7)=1, sum=2, which matches.

For a=7, b=8, m=56, ceil(56/7)=8, ceil(56/8)=7, sum=15, but the sample output is 17.

Wait, that doesn't match.

Wait, perhaps it's ceil((m +1)/a) + ceil((m +1)/b)

For a=6, b=7, m=4: ceil(5/6)=1, ceil(5/7)=1, sum=2

For a=7, b=8, m=56: ceil(57/7)=9, ceil(57/8)=8, sum=17, which matches the sample.

Wait, but earlier I thought it was floor((m +1)/a) + floor((m +1)/b) +2, but that didn't match all samples.

Wait, perhaps it's ceil((m +1)/a) + ceil((m +1)/b)

For a=1, b=1, m=1: ceil(2/1)=2 + ceil(2/1)=2, sum=4, which matches the sample.

Similarly, for a=1, b=1, m=1000000000000000000: ceil(1000000000000000001/1)=1000000000000000001, sum=2*1000000000000000001=2000000000000000002, which matches the sample.

So, perhaps the correct formula is ceil((m +1)/a) + ceil((m +1)/b)

But in the earlier case where a=5, b=6, m=78123459896, ceil(78123459897/5)=15624691979.4, which is 15624691980, and ceil(78123459897/6)=13020576649.5, which is 13020576650, sum=15624691980 + 13020576650=28645268630, which matches the sample.

So, it seems that the maximum number of visible fireworks is ceil((m +1)/a) + ceil((m +1)/b)

Hence, the program should output ceil((m +1)/a) + ceil((m +1)/b)

But in the program given, it's print(m // a + m // b + 2)

Wait, m // a is floor(m/a), and m // b is floor(m/b), so m // a + m // b + 2 is floor(m/a) + floor(m/b) + 2

But according to my earlier reasoning, it should be ceil((m +1)/a) + ceil((m +1)/b)

So, is floor(m/a) + floor(m/b) + 2 equal to ceil((m +1)/a) + ceil((m +1)/b))?

Let me check for a=6, b=7, m=4

floor(4/6)=0, floor(4/7)=0, 0 + 0 + 2=2

ceil(5/6)=1, ceil(5/7)=1, 1 +1=2, which matches.

For a=7, b=8, m=56

floor(56/7)=8, floor(56/8)=7, 8 +7 +2=17

ceil(57/7)=8, ceil(57/8)=8, 8 +8=16, which does not match.

Wait, there's a discrepancy here.

According to the sample, it should be 17, but according to ceil((m +1)/a) + ceil((m +1)/b), it's 8 +8=16, which doesn't match.

But in the sample, it's 17.

Wait, perhaps I miscalculated.

Wait, 57/7 is approximately 8.142, so ceil is 9

57/8 is approximately 7.125, so ceil is 8

Hence, 9 +8=17, which matches the sample.

So, ceil((m +1)/a) + ceil((m +1)/b)) = ceil(57/7) + ceil(57/8)=9+8=17

Hence, the formula is ceil((m +1)/a) + ceil((m +1)/b))

Now, in the program, it's m // a + m // b + 2, which is floor(m/a) + floor(m/b) +2

But according to the formula, it's ceil((m +1)/a) + ceil((m +1)/b))

Are these two expressions equal?

Let me see.

ceil((m +1)/a)) = ceil(m/a + 1/a) = floor(m/a) +1, if m/a is not integer

Or, more precisely, ceil((m +1)/a)) = floor(m/a) +1, because (m +1)/a is greater than m/a, so ceil((m +1)/a)) = floor(m/a) +1 if m/a is not integer, else floor(m/a)

Wait, no.

Actually, ceil((m +1)/a)) = floor(m/a) +1

Because (m +1)/a = m/a + 1/a

If m/a is integer, then ceil(m/a + 1/a) = m/a + ceil(1/a) = m/a +1

If m/a is not integer, then ceil(m/a + 1/a) = floor(m/a) +1

Hence, ceil((m +1)/a)) = floor(m/a) +1

Similarly, ceil((m +1)/b)) = floor(m/b) +1

Hence, ceil((m +1)/a)) + ceil((m +1)/b)) = floor(m/a) + floor(m/b) +2

Which matches the program's output: m // a + m // b +2

Hence, the program is correct.

So, the answer is Correctness: True

**Final Solution**

To solve this problem, we need to determine the maximum number of fireworks that can be seen in the sky at the same time from two installations, given their launch frequencies and the visibility duration of each firework.

### Approach

1. **Problem Understanding**:
    - Installation 1 launches fireworks every `a` minutes.
    - Installation 2 launches fireworks every `b` minutes.
    - Each firework remains visible in the sky for `m + 1` minutes after launch.

2. **Key Insight**:
    - We need to calculate how many fireworks from each installation are visible at any given time `t`.
    - The number of visible fireworks from each installation at time `t` can be determined using the formula involving floor functions.

3. **Mathematical Formulation**:
    - For installation 1: `floor(t / a) - floor((t - m - 1) / a)`
    - For installation 2: `floor(t / b) - floor((t - m - 1) / b)`
    - The sum of these gives the total visible fireworks at time `t`.

4. **Maximization**:
    - The maximum number of visible fireworks is achieved by calculating `ceil((m + 1)/a) + ceil((m + 1)/b)`.
    - This can be simplified to `floor(m / a) + floor(m / b) + 2`.

### Solution Code

```python
def func():
    t = int(input())
    for _ in range(t):
        a, b, m = map(int, input().split())
        print(m // a + m // b + 2)

func()
```

### Explanation

- **Input Handling**:
    - Read the number of test cases `t`.
    - For each test case, read the values of `a`, `b`, and `m`.

- **Calculation**:
    - Use the formula `floor(m / a) + floor(m / b) + 2` to compute the maximum number of visible fireworks.
    - This formula efficiently calculates the ceiling values needed without explicitly using ceiling functions, leveraging integer division.

- **Output**:
    - Print the result for each test case directly.

This approach ensures that we handle large input values efficiently and compute the result in constant time for each test case, making it suitable for the given constraints.