Alright, I've got this problem to solve. Let's see what it's asking for. So, I'm given an integer n, which defines an n x n grid. I need to choose n cells in this grid, each cell represented by its coordinates (x, y), where x and y are both between 1 and n inclusive.

The goal is to maximize the number of distinct Manhattan distances between any pair of these n cells. The Manhattan distance between two cells (x1, y1) and (x2, y2) is calculated as |x1 - x2| + |y1 - y2|.

First, I need to understand what the Manhattan distance represents. It's essentially the sum of the horizontal and vertical distances between two points. So, in a grid, it's the total number of blocks you'd have to move horizontally and vertically to get from one point to another.

Now, I need to choose n cells such that the number of unique distances between any two cells is as large as possible. So, I need to maximize the size of the set of these distances.

Looking at the examples provided:

For n=2:

- Choosing cells (1,1) and (1,2) gives distances {0, 1}.

For n=3:

- Choosing cells (2,1), (2,3), and (3,1) gives distances {0, 1, 2, 3}.

For n=4:

- A certain arrangement is shown, but I don't have the exact coordinates.

For n=5 and n=6, similar arrangements are mentioned.

From these examples, it seems like there's a pattern or a strategy to choose the cells to maximize the distinct distances.

Let me think about how to approach this.

One straightforward way is to place all the cells in a straight line, either horizontally or vertically. For example, placing them all in the first row, with y coordinates from 1 to n and x coordinate fixed to 1.

In this case, the distances would be |y1 - y2|, since x coordinates are the same. So, the distances would range from 0 to n-1, which gives me n distinct distances. Wait, no, since distance is |y1 - y2|, and y1 and y2 range from 1 to n, the possible distances are from 0 to n-1, but 0 only occurs when y1 = y2, which is only for the same cell. Since we're considering pairs of distinct cells, the distances would be from 1 to n-1, which is n-1 distinct distances.

But in the n=2 example, they have distances {0,1}, which includes 0, but as I thought, 0 only occurs for the same cell, which shouldn't be considered in pairs of distinct cells. Maybe they included it by mistake.

Wait, in the problem statement, it says "any pair of cells", which likely includes pairs where the same cell is chosen twice, resulting in distance 0. So, perhaps we need to consider that as well.

But in the n=2 example, they have {0,1}, and they say it's size 2, and that it's the maximum. But according to my earlier thought, if we place cells in a straight line, we get distances from 0 to n-1, which is n distinct distances.

Wait, but for n=2, distances are 0 and 1, which is 2 distinct distances. For n=3, placing them in a straight line would give distances 0,1,2, which is 3 distinct distances. But in the n=3 example, they have distances {0,1,2,3}, which is 4 distinct distances, more than what a straight line would give.

Hmm, that's interesting. So perhaps placing them in a straight line isn't the optimal strategy.

Let me think differently. Maybe arranging the cells in a diagonal or some other pattern would yield more distinct distances.

Wait, in the n=3 example, they chose (2,1), (2,3), and (3,1). Let's compute the distances:

- Between (2,1) and (2,3): |2-2| + |1-3| = 0 + 2 = 2

- Between (2,1) and (3,1): |2-3| + |1-1| = 1 + 0 = 1

- Between (2,3) and (3,1): |2-3| + |3-1| = 1 + 2 = 3

So, the distances are 1, 2, and 3, plus the zero distances for each cell to itself, making it {0,1,2,3}, which is 4 distinct distances.

But if I place them in a straight line, say (1,1), (1,2), (1,3):

- Distance between (1,1) and (1,2): 1

- Between (1,1) and (1,3): 2

- Between (1,2) and (1,3): 1

So, distances are 1 and 2, plus zero for each cell to itself, which is {0,1,2}, only 3 distinct distances.

So, the arrangement in the example gives more distinct distances than the straight line arrangement. Therefore, the straight line arrangement is not optimal.

Interesting. So, there must be a better way to arrange the cells to maximize the number of distinct distances.

Let me try to find a general strategy for any n.

First, what's the maximum possible number of distinct Manhattan distances?

The Manhattan distance can range from 0 up to 2(n-1), since the maximum horizontal distance is n-1 and the same for vertical distance, so the maximum Manhattan distance is 2(n-1).

But not all values between 0 and 2(n-1) are achievable, because the distance must be the sum of two absolute differences, each ranging from 0 to n-1.

So, the possible distances are integers from 0 to 2(n-1), but some values might not be achievable depending on n and the arrangement of cells.

Our goal is to choose n cells such that the set of distances between all pairs of cells includes as many distinct values as possible from 0 to 2(n-1).

Now, let's consider the number of distinct distances possible.

If we can achieve all possible distances from 0 to 2(n-1), that would be 2(n-1) + 1 = 2n - 1 distinct distances.

But is this possible?

For small n, like n=2, we have distances {0,1,2}, which is 2n - 1 = 3 distinct distances.

For n=3, the example shows {0,1,2,3}, which is 4 distinct distances, while 2n - 1 = 5. So, it's missing distance 4.

Wait, in n=3, 2(n-1) = 4, so distances can be from 0 to 4.

In the example, they have {0,1,2,3}, but not 4. Is there a way to arrange 3 cells in a 3x3 grid to get distances 0,1,2,3,4?

Let me try.

Suppose we choose cells (1,1), (2,2), and (3,3):

Distances:

- Between (1,1) and (2,2): |1-2| + |1-2| = 1 + 1 = 2

- Between (1,1) and (3,3): 2 + 2 = 4

- Between (2,2) and (3,3): 1 + 1 = 2

So, distances are 2 and 4, plus zeros, which is {0,2,4}.

Missing distances 1 and 3.

Another arrangement: (1,1), (1,3), (3,1):

- Distance between (1,1) and (1,3): 2

- Between (1,1) and (3,1): 2

- Between (1,3) and (3,1): 2 + 0 = 2

So, only distance 2 besides zero.

Not better.

Another arrangement: (1,1), (1,2), (2,1):

- Distance between (1,1) and (1,2): 1

- Between (1,1) and (2,1): 1

- Between (1,2) and (2,1): 1 + 1 = 2

So, distances {0,1,2}.

Better, but still not achieving all possible distances.

Another arrangement: (1,1), (1,3), (3,3):

- Distance between (1,1) and (1,3): 2

- Between (1,1) and (3,3): 2 + 2 = 4

- Between (1,3) and (3,3): 2 + 0 = 2

Distances {0,2,4}.

Same as earlier.

Another arrangement: (1,2), (2,1), (3,3):

- Distance between (1,2) and (2,1): 1 + 1 = 2

- Between (1,2) and (3,3): 2 + 1 = 3

- Between (2,1) and (3,3): 1 + 2 = 3

Distances {0,2,3}.

Still not achieving all possible distances.

Seems like for n=3, it's not possible to get all 5 possible distances (0,1,2,3,4). The best I can get is 4 distinct distances, as in the example.

So, perhaps for general n, the maximum number of distinct distances is something less than 2n - 1.

But in the n=2 example, they achieve 2 distinct distances, which is 2n - 1 for n=2.

For n=3, it's 4, which is 2n - 1 = 5 minus 1.

For n=4, perhaps it's 2n - 1 = 7, but maybe not achievable.

Looking at the examples, it seems like the number of distinct distances achievable is n + floor(n/2), but I need to verify this.

Alternatively, perhaps it's related to the number of possible distinct sums of two numbers from 0 to n-1.

Wait, the Manhattan distance is the sum of the absolute differences in x and y coordinates, each ranging from 0 to n-1.

So, the possible distances are the integers that can be expressed as the sum of two integers from 0 to n-1.

Therefore, possible distances are from 0 to 2(n-1), and every integer in between is achievable, since for any k from 0 to 2(n-1), we can find x and y such that x + y = k, with x and y in 0 to n-1.

Wait, but for higher k, say k > n-1, we need to ensure that both x and y are <= n-1.

For k from 0 to n-1, x can range from 0 to k, y = k - x.

For k from n to 2(n-1), x can range from k - (n-1) to n-1, y = k - x.

As long as x and y are between 0 and n-1, inclusive.

So, for k from 0 to 2(n-1), there are always combinations of x and y that sum to k.

Therefore, all integers from 0 to 2(n-1) are achievable as Manhattan distances.

Hence, the maximum number of distinct distances is 2n - 1.

But earlier, for n=3, I couldn't achieve all 5 distances with any arrangement of 3 cells.

Wait, perhaps it's not possible to achieve all 2n - 1 distances with only n cells.

So, maybe the maximum number of distinct distances is less than 2n - 1 for certain n.

Alternatively, perhaps there's a lower bound or a different way to maximize it.

Let me think differently.

Given n cells, the number of unique pairs is C(n,2) = n(n-1)/2.

Each pair has a Manhattan distance, which is an integer between 0 and 2(n-1).

We need to maximize the number of distinct distances among these pairs.

One way to maximize the number of distinct distances is to arrange the cells in such a way that the distances between them are as diverse as possible.

One possible strategy is to place the cells in a way that minimizes overlapping distances.

For example, placing them in a straight line gives distances that are all different by increments of 1, but as we've seen, this might not be optimal.

Another strategy could be to place them in a diagonal or some other pattern that spreads out the distances.

But perhaps there's a mathematical way to determine the maximum number of distinct distances for given n.

Alternatively, perhaps there's a known formula or research on the maximum number of distinct pairwise distances for n points in a grid.

After a quick search, I find that in discrete geometry, there is the concept of the number of distinct distances determined by n points in the plane, but I'm not sure about the specific case of points on a grid with Manhattan distance.

Let me consider small n and see what's possible.

For n=2:

- Maximum distinct distances: 2 (0 and 1)

For n=3:

- From earlier attempts, seems like 4 distinct distances are achievable.

For n=4:

- Perhaps 6 or 7 distinct distances.

For n=5:

- Maybe 8 or 9.

But I need a general approach for any n up to 10^3.

Looking back at the problem, it's a programming problem, so I need an efficient algorithm to output the coordinates for any given n.

Given that n can be up to 10^3, and t up to 50, I need an efficient way to compute and output the coordinates.

Looking at the sample outputs:

For n=2:

- (1,1)

- (1,2)

Distances: {0,1}

For n=3:

- (2,1)

- (2,3)

- (3,1)

Distances: {0,1,2,3}

For n=4:

- (1,1)

- (1,3)

- (4,3)

- (4,4)

Distances: ?

For n=5:

- (1,1)

- (1,3)

- (1,4)

- (2,1)

- (5,5)

Distances: ?

For n=6:

- (1,4)

- (1,5)

- (1,6)

- (5,2)

- (5,5)

- (6,1)

Distances: ?

From these, it seems like the strategy is to place most of the points in a straight line and maybe add one or two points elsewhere to maximize the variety of distances.

For example, in n=3, points (2,1), (2,3), (3,1):

- Two points in the same row, and one below.

This creates distances of 1, 2, and 3.

Similarly, for n=4, points (1,1), (1,3), (4,3), (4,4):

- Points (1,1), (1,3), (4,3) form a kind of L-shape, and (4,4) is one step above.

This likely creates a variety of distances.

Similarly for n=5 and n=6.

So, perhaps a general strategy is to place points in a way that they form a combination of horizontal and vertical lines, possibly with some diagonal elements, to maximize the diversity of distances.

But I need a systematic way to do this for any n.

Let me consider placing points along the main diagonal.

For n=3:

- (1,1), (2,2), (3,3)

Distances:

- Between (1,1) and (2,2): 2

- Between (1,1) and (3,3): 4

- Between (2,2) and (3,3): 2

So, distances {0,2,4}

Only three distinct distances.

Not better than the sample arrangement.

Another arrangement: place points in a way that their x-coordinates are all different, and y-coordinates increase linearly with x.

For example, (1,1), (2,2), (3,3), etc.

But as above, this gives distances that are multiples of sqrt(2), but since it's Manhattan distance, it's |dx| + |dy|.

In this case, for points (i,i) and (j,j), distance is |i-j| + |i-j| = 2|i-j|.

So, distances are even numbers from 0 to 2(n-1), which might not cover all possible distances.

Hence, this arrangement gives only half of the possible distances.

So, perhaps we need to mix different patterns.

Another idea: place points in a way that their x-coordinates are the same, and y-coordinates are different.

For example, all points in the first column: (1,1), (1,2), (1,3), ..., (1,n)

In this case, distances between any two points are |y1 - y2|, since x coordinates are the same.

So, distances range from 1 to n-1.

This gives n-1 distinct distances, plus zero, totaling n distinct distances.

But in the n=3 sample, they achieve 4 distinct distances, which is more than n.

Hence, placing all points in a straight line isn't optimal.

Another idea: place points in a way that they form a step pattern.

For example, for n=3:

- (1,1)

- (2,2)

- (3,1)

Distances:

- Between (1,1) and (2,2): 2

- Between (1,1) and (3,1): 2

- Between (2,2) and (3,1): 2

Only distance 2 besides zero.

Not better.

Another arrangement: (1,1), (2,3), (3,2)

Distances:

- Between (1,1) and (2,3): |1-2| + |1-3| = 1 + 2 = 3

- Between (1,1) and (3,2): |1-3| + |1-2| = 2 + 1 = 3

- Between (2,3) and (3,2): |2-3| + |3-2| = 1 + 1 = 2

Distances {0,2,3}

Still not better.

Wait, perhaps placing points in a way that their x and y coordinates have different differences.

For example, for n=3:

- (1,1)

- (2,3)

- (3,4)

But n=3, y can only be up to 3, so (3,4) is invalid.

Wait, y should be between 1 and n.

Another arrangement: (1,1), (2,2), (3,4)

But y can't be 4 for n=3.

Wait, y should be from 1 to n.

So, for n=3, y can only be 1,2,3.

Let me try (1,1), (2,2), (3,3):

Distances {0,2,4}

Only three distinct distances.

Not better.

Another arrangement: (1,1), (2,1), (3,2)

Distances:

- Between (1,1) and (2,1): 1

- Between (1,1) and (3,2): 2 + 1 = 3

- Between (2,1) and (3,2): 1 + 1 = 2

Distances {0,1,2,3}

Four distinct distances.

This matches the sample for n=3.

So, perhaps arranging points in a combination of horizontal and vertical lines can achieve more distinct distances.

Similarly, for n=4, in the sample output, they have:

- (1,1)

- (1,3)

- (4,3)

- (4,4)

Let's compute the distances:

- Between (1,1) and (1,3): 2

- Between (1,1) and (4,3): 3 + 2 = 5

- Between (1,1) and (4,4): 3 + 3 = 6

- Between (1,3) and (4,3): 3 + 0 = 3

- Between (1,3) and (4,4): 3 + 1 = 4

- Between (4,3) and (4,4): 0 + 1 = 1

So, distances {0,1,2,3,4,5,6}

That's seven distinct distances, which is 2*4 -1 = 7, which is the maximum possible.

Wait, but earlier for n=3, the maximum was only 4, not 5.

Wait, perhaps for n=4, it's possible to achieve 2n -1 =7 distinct distances.

But for n=3, it seems that achieving 4 distinct distances is possible, but achieving 5 is not.

Wait, maybe the formula is different for different n.

Alternatively, perhaps for n >=4, it's possible to achieve 2n -1 distinct distances, but for n=3, it's only possible to achieve 4.

But in the n=4 sample, they achieve 7 distinct distances, which is 2*4 -1=7.

Similarly, for n=5, in the sample output:

- (1,1)

- (1,3)

- (1,4)

- (2,1)

- (5,5)

Let's compute the distances:

- Between (1,1) and (1,3): 2

- Between (1,1) and (1,4): 3

- Between (1,1) and (2,1): 1

- Between (1,1) and (5,5): 4 + 4 = 8

- Between (1,3) and (1,4): 1

- Between (1,3) and (2,1): 1 + 2 = 3

- Between (1,3) and (5,5): 4 + 2 = 6

- Between (1,4) and (2,1): 1 + 3 = 4

- Between (1,4) and (5,5): 4 + 1 = 5

- Between (2,1) and (5,5): 3 + 4 = 7

- Between (2,1) and (5,5): 3 + 4 = 7

- Between (5,5) and others already covered.

So, distances {0,1,2,3,4,5,6,7,8}

That's nine distinct distances for n=5, which is more than n + floor(n/2).

Wait, 2n -1 for n=5 would be 9, which matches.

But earlier for n=3, 2n -1=5, but in the sample, they only achieve 4.

So, perhaps for some n, achieving 2n -1 is possible, and for others, it's not.

Alternatively, perhaps there's a different formula.

Looking at n=2: 2n -1=3, but in the sample, they have {0,1}, which is 2.

Wait, in the n=2 sample, they have {0,1}, which is 2 distinct distances, but 2n -1=3.

So, perhaps the formula is different.

Wait, maybe the maximum number of distinct distances is n(n-1)/2 +1, but for n=3, that would be 4, which matches the sample.

For n=4, it would be 7, which matches the sample.

For n=5, it's 11, but in the sample, they have 9.

Hmm, inconsistency.

Alternatively, perhaps it's related to the number of unique sums of |dx| and |dy|.

Wait, perhaps I need to think in terms of the possible values of |dx| and |dy|.

Given that |dx| can be from 0 to n-1, and |dy| can be from 0 to n-1, and the distance is |dx| + |dy|.

The possible distances are from 0 to 2(n-1), and for each possible sum, there may be multiple pairs that achieve that sum.

To maximize the number of distinct distances, I need to have as many different sums as possible.

Given that, perhaps placing points in a way that their x and y differences cover as many possible sums as possible.

One way to do this is to place points in a way that their x coordinates are spread out, and y coordinates are also spread out.

For example, placing points along a diagonal or some other pattern that maximizes the variation in |dx| and |dy|.

Looking back at the sample for n=4:

- (1,1)

- (1,3)

- (4,3)

- (4,4)

Here, x coordinates are {1,1,4,4}, y coordinates are {1,3,3,4}.

So, x differences are 0, 3, 3, 0; y differences are 0, 2, 0, 1.

Thus, distances are 0, 2, 3, 1, 4, 1, 3, 4, 5, 6, etc., as computed earlier.

Wait, but in the earlier calculation, we have distances from 0 to 6, which is 7 distinct distances.

Similarly, for n=5, they achieve distances from 0 to 8, which is 9 distinct distances.

So, perhaps for general n, the maximum number of distinct distances is 2n -1.

But in n=3, it seems only 4 are achievable, while 2*3 -1=5.

Hmm, perhaps for n=3, it's not possible to achieve distance 4 with only 3 points.

Wait, in n=3, to achieve distance 4, two points must be at opposite corners, like (1,1) and (3,3), which gives distance 4.

But with only 3 points, perhaps it's not possible to achieve all distances from 0 to 4.

Hence, perhaps for n <=3, the maximum number of distinct distances is n + floor(n/2), which for n=3 would be 3 +1 =4, matching the sample.

For n=4, it's 4 +2=6, but in the sample, they achieve 7, which is more.

Hmm, perhaps that's not the right formula.

Alternatively, maybe it's n + ceil(n/2), which for n=3 would be 3 +2=5, but in the sample, they only achieve 4.

Wait, perhaps it's n + floor(n/3) or some other factor.

This seems too speculative.

Given time constraints, perhaps I should accept that finding a general formula is difficult, and instead look for a strategy that works for the sample inputs and seems efficient for larger n.

Looking back at the sample outputs:

For n=2:

- (1,1)

- (1,2)

Distances: {0,1}

For n=3:

- (2,1)

- (2,3)

- (3,1)

Distances: {0,1,2,3}

For n=4:

- (1,1)

- (1,3)

- (4,3)

- (4,4)

Distances: {0,1,2,3,4,5,6}

For n=5:

- (1,1)

- (1,3)

- (1,4)

- (2,1)

- (5,5)

Distances: {0,1,2,3,4,5,6,7,8}

For n=6:

- (1,4)

- (1,5)

- (1,6)

- (5,2)

- (5,5)

- (6,1)

Distances: {0,1,2,3,4,5,6,7,8,9,10}

So, for n=2, 2 distinct distances.

For n=3, 4 distinct distances.

For n=4, 7 distinct distances.

For n=5, 9 distinct distances.

For n=6, 11 distinct distances.

Looking at this sequence: 2,4,7,9,11.

Not sure what the general formula is, but perhaps for n >=4, it's 2n -1.

For n=4: 7=2*4 -1

n=5:9 <2*5 -1=9 (wait, 2*5 -1=9, which matches)

n=6:11 <2*6 -1=11, which matches.

But for n=3:2*3 -1=5, but in the sample, they achieve only 4.

So, perhaps for n >=4, the maximum is 2n -1, and for n=3, it's 4.

Alternatively, perhaps it's min(2n -1, n + floor(n/2)) or something similar.

But for now, perhaps I should focus on implementing a strategy that works for the sample inputs.

Looking at the sample outputs, it seems like placing points in a combination of horizontal and vertical lines works well.

For example, for n=4:

- (1,1), (1,3), (4,3), (4,4)

Here, points (1,1) and (1,3) are in the same row, and points (4,3) and (4,4) are in another row.

This seems to create a variety of distances.

Similarly, for n=5:

- (1,1), (1,3), (1,4), (2,1), (5,5)

Here, points (1,1), (1,3), (1,4) are in the same row, and points (2,1) and (5,5) are in different rows.

This seems to be a pattern: placing multiple points in one or more rows and spreading them out in columns, and adding some points in other rows to increase the variety of distances.

Given this, perhaps a general strategy is to place floor(n/2) points in one row, and the remaining points in another row or rows, spread out as much as possible.

But I need to verify if this strategy maximizes the number of distinct distances.

Alternatively, perhaps placing points in a way that minimizes overlapping distances.

Wait, perhaps I can think in terms of graph theory, where each point is a vertex, and edges are labeled with their distances.

Then, I need to maximize the number of distinct labels on the edges.

But this seems too abstract for the current problem.

Given time constraints, perhaps I should settle on a strategy where I place points in a staggered manner, ensuring that their x and y differences cover as many possible sums as possible.

For example, placing points along a diagonal or in a staircase pattern.

Wait, for n=3, placing points (1,1), (2,2), (3,1):

Distances: {0,1,2,2}, which is {0,1,2}.

But in the sample, they achieve {0,1,2,3} with a different arrangement.

Hence, placing points in a diagonal doesn't maximize the distinct distances.

Another idea: place points in a way that their x coordinates are different by 1, and y coordinates are different by some value.

For example, for n=3:

- (1,1)

- (2,2)

- (3,3)

Distances: {0,2,4}

Only three distinct distances.

Not better than the sample.

Another arrangement: (1,1), (2,3), (3,2):

Distances: {0,3,2,3}

Which is {0,2,3}

Still not better than the sample.

Wait, perhaps placing points in a way that their x and y differences are co-prime or something.

This seems too vague.

Given that, perhaps I should accept that finding an optimal arrangement is difficult and instead aim for a strategy that works well for small n and scales to larger n.

Looking back at the sample outputs, perhaps the strategy is to place points in the first row up to floor(n/2), and in the last row for the remaining points.

Wait, for n=4:

- (1,1), (1,3), (4,3), (4,4)

Here, two points in row 1 and two in row 4.

Similarly, for n=5:

- (1,1), (1,3), (1,4), (2,1), (5,5)

Three points in row 1, one in row 2, and one in row 5.

For n=6:

- (1,4), (1,5), (1,6), (5,2), (5,5), (6,1)

Three points in row 1, two in row 5, and one in row 6.

This seems like a pattern: placing multiple points in the first row and spreading the remaining points in other rows to maximize distance variation.

Given this, perhaps a general approach is:

- Place floor(n/2) points in the first row, spread out as much as possible.

- Place the remaining ceil(n/2) points in the last few rows, again spread out.

This might help in achieving a variety of distances.

But I need to verify if this works for n=3.

For n=3:

- Place floor(3/2)=1 point in the first row, say (1,1)

- Place ceil(3/2)=2 points in the last few rows, say (2,1) and (2,3)

This gives points (1,1), (2,1), (2,3)

Distances: {0,1,2,3}, which matches the sample.

Another arrangement for n=3: (1,1), (2,3), (3,1)

Distances: {0,2,3}, which is also 3 distinct distances.

Wait, but in the sample, they have 4 distinct distances for n=3.

Wait, perhaps I miscounted earlier.

Wait, in n=3, with points (2,1), (2,3), (3,1):

- Distance between (2,1) and (2,3): 2

- Distance between (2,1) and (3,1): 1

- Distance between (2,3) and (3,1): 1 + 2 = 3

So, distances {0,1,2,3}, which is 4 distinct distances.

But according to my earlier calculation, placing floor(n/2) points in the first row and ceil(n/2) in the last rows gives only 3 distinct distances.

Wait, perhaps I need to adjust the strategy.

Another idea: place points in a way that their x coordinates are as spread out as possible, and y coordinates are also spread out.

For example, for n=3:

- (1,1), (2,2), (3,3)

Distances: {0,2,4}

Only three distinct distances.

Not better than the sample.

Another arrangement: (1,1), (2,1), (3,2)

Distances: {0,1,2,3}

Four distinct distances.

Same as the sample.

So, perhaps placing points in the first row for some and in other rows for others works.

Given this, perhaps a general strategy is:

- Place points in the first row from (1,1) to (1, floor(n/2))

- Place points in the last row from (n, ceil(n/2)) to (n,n)

But for n=3:

- floor(3/2)=1, ceil(3/2)=2

- So, place (1,1), (1,2), (3,2), (3,3)

But n=3, so only 3 points, so (1,1), (1,2), (3,3)

Distances:

- Between (1,1) and (1,2): 1

- Between (1,1) and (3,3): 2 + 2 = 4

- Between (1,2) and (3,3): 2 + 1 = 3

Distances {0,1,3,4}

Which is four distinct distances.

Same as the sample arrangement.

Hence, this strategy seems to work.

Similarly, for n=4:

- floor(4/2)=2, ceil(4/2)=2

- Place (1,1), (1,2), (4,2), (4,3)

But in the sample, they have (1,1), (1,3), (4,3), (4,4)

Which gives distances {0,1,2,3,4,5,6}

So, seven distinct distances.

With my strategy, placing (1,1), (1,2), (4,2), (4,3):

- Distance between (1,1) and (1,2): 1

- Between (1,1) and (4,2): 3 + 1 = 4

- Between (1,1) and (4,3): 3 + 2 = 5

- Between (1,2) and (4,2): 3 + 0 = 3

- Between (1,2) and (4,3): 3 + 1 = 4

- Between (4,2) and (4,3): 0 + 1 = 1

So, distances {0,1,3,4,5}

Which is five distinct distances, less than the sample's seven.

Hence, my strategy isn't optimal.

So, perhaps I need to adjust it.

Looking back at the sample for n=4:

- (1,1), (1,3), (4,3), (4,4)

Distances:

- 0, 2, 3, 1, 4, 5, 6

Which are seven distinct distances.

So, perhaps placing points in the first row spread out and in the last row spread out works better.

Hence, perhaps the general strategy should be:

- Place points in the first row from (1,1) to (1, floor(n/2))

- Place points in the last row from (n, ceil(n/2)) to (n,n)

This seems to work for n=4:

- floor(4/2)=2, ceil(4/2)=2

- So, (1,1), (1,2), (4,2), (4,3), (4,4)

But n=4, so only 4 points: (1,1), (1,2), (4,3), (4,4)

Wait, but in the sample, they have (1,1), (1,3), (4,3), (4,4)

So, perhaps adjusting the columns for better coverage.

Alternatively, perhaps placing points in the first row from (1,1) to (1, ceil(n/2)) and in the last row from (n, floor(n/2)) to (n,n)

For n=4:

- ceil(4/2)=2, floor(4/2)=2

- So, (1,1), (1,2), (4,2), (4,3), (4,4)

But n=4, so only 4 points: (1,1), (1,2), (4,3), (4,4)

Distances: {0,1,2,3,4,5}

Which is six distinct distances, still less than the sample's seven.

Wait, perhaps I need to include points in different rows to maximize distances.

Looking back, perhaps placing points in multiple rows strategically is better.

Given time constraints, perhaps I should accept that finding an optimal arrangement is complex and instead aim for a strategy that works well for small n and scales for larger n.

Given that, perhaps I can implement a strategy where I place points in the first row up to floor(n/2), and then in the last row for the remaining points, adjusting column indices to maximize distance variation.

But perhaps there's a better way.

Looking back at the problem, perhaps the key is to maximize the range of possible |dx| and |dy| values.

Given that, placing points in opposite corners or spread out diagonally might help.

Wait, perhaps placing points along a diagonal and then adjusting some points to cover more distances.

But this seems too vague.

Given that, perhaps I should look for a different approach.

Let me consider that for n points, the maximum number of distinct pairwise distances is C(n,2), but in practice, due to the grid structure and Manhattan distance, this number is limited.

Given that, perhaps I should aim to place points in a way that their x and y differences cover as many possible sums as possible.

One way to do this is to maximize the coverage of possible |dx| and |dy| values.

Hence, perhaps placing points with x coordinates spread out and y coordinates spread out would help.

For example, placing points at (1,y1), (2,y2), ..., (n,y_n), with y_i's chosen appropriately.

But for n points in an n x n grid, this might not be optimal.

Given that, perhaps I need to accept that finding the optimal arrangement is too time-consuming and instead aim for a suboptimal but efficient strategy.

Given that, perhaps I can implement a strategy where I place points in the first row for the first floor(n/2) points and in the last row for the remaining ceil(n/2) points, choosing column indices that maximize the spread.

For example, for n=3:

- Place two points in the first row: (1,1) and (1,3)

- Place one point in the last row: (3,1)

This matches the sample arrangement.

For n=4:

- Place two points in the first row: (1,1) and (1,3)

- Place two points in the last row: (4,3) and (4,4)

This matches the sample arrangement.

For n=5:

- Place three points in the first row: (1,1), (1,3), (1,4)

- Place two points in the last row: (5,5) and (5,2)

This matches the sample arrangement.

Hence, perhaps the general strategy is:

- Place floor(n/2) points in the first row, spread out as much as possible.

- Place ceil(n/2) points in the last row, spread out as much as possible.

But in the sample for n=6:

- (1,4), (1,5), (1,6), (5,2), (5,5), (6,1)

Which is three points in the first row and three in the last rows.

This matches floor(6/2)=3 points in the first row and ceil(6/2)=3 points in the last rows.

Hence, this seems consistent.

Given that, perhaps I can implement this strategy.

But I need to ensure that the points are spread out in columns.

For example, for n=3:

- First row: columns 1 and 3

- Last row: column 1

For n=4:

- First row: columns 1 and 3

- Last row: columns 3 and 4

For n=5:

- First row: columns 1,3,4

- Last row: columns 2 and 5

This seems to work.

Hence, a general approach could be:

- Calculate floor(n/2) and ceil(n/2)

- In the first row, place floor(n/2) points in columns 1,3,5,... up to floor(n/2)

- In the last row, place ceil(n/2) points in columns n, n-2, n-4,... up to ceil(n/2)

But for n=3, columns for first row: 1 and 3

Columns for last row: 1

For n=4:

First row: columns 1 and 3

Last row: columns 3 and 4

For n=5:

First row: columns 1,3,4

Last row: columns 2 and 5

Wait, but in the sample for n=5, they have (1,1), (1,3), (1,4), (2,1), (5,5)

Which is three points in the first row and two in the last row.

But in my strategy, I have three in the first row and two in the last row, which matches.

Hence, perhaps I can implement this strategy.

But I need to generalize it for any n.

Hence, the steps are:

1. Read the number of test cases t.

2. For each test case:

a. Read n.

b. Calculate floor(n/2) and ceil(n/2).

c. Place floor(n/2) points in the first row,