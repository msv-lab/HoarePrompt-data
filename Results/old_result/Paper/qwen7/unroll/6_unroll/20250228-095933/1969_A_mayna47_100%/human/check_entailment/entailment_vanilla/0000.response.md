### Reasoning:

1. **Understanding the Problem**: 
   - We need to find the minimum number of invitations Monocarp needs to send so that at least 2 friends come to the party.
   - A friend comes to the party if both the friend and their best friend (given by `p_i`) receive an invitation.

2. **Analyzing the Provided Code**:
   - The code correctly reads the number of test cases (`t`).
   - For each test case, it reads the number of friends (`n`) and the array `v` where `v[i]` represents the best friend of the `i-th` friend.
   - The function `func_1()` is defined to handle each test case.

3. **Checking the Logic in `func_1()`**:
   - The function initializes a list `v` with zeros and updates it with the values from the input.
   - It then iterates through the list `v` to check if there exists a pair of friends who are each otherâ€™s best friends (`v[v[i]] == i`). If such a pair is found, it prints `2` because only 2 invitations are needed.
   - If no such pair is found, it prints `3`, assuming that sending invitations to three friends (one of whom might be indirectly connected) would ensure at least 2 friends come.

4. **Edge Cases**:
   - The code does not explicitly handle cases where more complex connections might require more than 3 invitations. However, the problem constraints limit `n` to 50, which means the solution should work within these limits.
   - The logic seems to cover the basic cases where direct or indirect pairs exist.

5. **Validation**:
   - The provided examples in the problem statement are correctly handled by the code:
     - For the input `[3, 1, 2, 5, 4]`, the output is `2` because friends 4 and 5 are each other's best friends.
     - For the input `[2, 3, 4, 1]`, the output is `3` because no direct pair exists, and inviting three friends ensures at least two come.
     - For the input `[2, 1]`, the output is `2` because friends 1 and 2 are each other's best friends.

### Conclusion:
The provided code appears to correctly implement the logic required to solve the problem. It handles the basic scenarios and edge cases as described in the problem statement.

**Correctness: True**