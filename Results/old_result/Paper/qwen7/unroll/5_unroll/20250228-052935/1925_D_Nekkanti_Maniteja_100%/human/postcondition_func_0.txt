The function processes multiple test cases, each defined by integers n, m, and k, along with additional integers a, u, v, and f. It calculates a value s based on the formula \(s = \sum_{i=0}^{k-1} (c \cdot i \cdot c \cdot m + c \cdot a)\), where \(c = (n \cdot (n - 1) // 2)^{-1} \mod M\) and M is \(10^9 + 7\). After processing all test cases, it prints the final value of s modulo M for each test case.