Reasoning:

1. The provided program aims to generate a permutation \( p \) based on the given array \( a \).
2. The program correctly initializes variables and iterates through the array in reverse order.
3. For each element \( a[i] \), it calculates \( p[i] \) as \( \text{mex} - a[i] \) and updates \( \text{mex} \) to be the minimum of itself and \( p[i] \).
4. The logic for calculating \( \text{mex} \) and updating the permutation \( p \) seems correct according to the problem statement.
5. The program handles multiple test cases as expected and prints the resulting permutation for each test case.

Given these points, the program appears to follow the correct logic as described in the problem statement. Therefore, the program should work as intended.

Correctness: **True**