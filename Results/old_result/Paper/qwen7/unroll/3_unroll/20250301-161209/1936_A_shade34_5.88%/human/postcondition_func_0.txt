The function processes multiple test cases, each defined by an integer `t` (1 ≤ t ≤ 10^3) and an integer `n` (2 ≤ n ≤ 10^4). For each test case, it performs a series of comparisons to determine two indices, `mak2` and `mak`. These comparisons involve elements of a permutation `p` of integers from 0 to n-1. After processing all test cases, the function outputs the values of `mak2` and `mak` for each case.