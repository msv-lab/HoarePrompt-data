The function processes multiple grids (up to 100 grids) where each grid is defined by n lines of n characters ('0' or '1'). It checks each grid to determine if it contains a shape (either a triangle or a square) that includes all the '1's in the grid. If any line in the grid contains exactly one '1', it outputs 'TRIANGLE'. Otherwise, it outputs 'SQUARE'.