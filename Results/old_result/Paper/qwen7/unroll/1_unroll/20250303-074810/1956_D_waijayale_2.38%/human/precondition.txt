a is a list of integers of length n, where 1 <= n <= 18 and 0 <= a_i <= 10^7. The function apply_operations takes the current array a, two integers l and r defining the range of indices to modify, and a list ops containing previous operations.