Correctness: **False**

### Explanation:
The provided solution attempts to solve the problem but contains a logical error. Specifically, the approach to calculating `mex` and assigning values to `res` is flawed. Let's break down why:

1. **Incorrect Calculation of `mex`:**
   - The code calculates `mex` by decrementing it by `ar[i]` without considering the actual values in the permutation `p` that needs to be constructed.
   - The `mex` value should be derived from the current state of the permutation being built, not just decremented by the elements of `ar`.

2. **Reversing the Loop:**
   - The loop runs in reverse (`for i in range(len(ar) - 1, -1, -1)`), which means the values in `res` are being set in reverse order. This doesn't align with the requirement to build the permutation `p` correctly.

3. **Building the Permutation:**
   - The logic to build the permutation `p` from the `mex` values is missing. The current implementation doesn't ensure that each integer from `0` to `n-1` appears exactly once in `p`.

To fix this, we need to construct the permutation `p` directly while ensuring the `mex` condition is satisfied. Hereâ€™s a corrected version of the solution:

```python
def func():
    for _ in range(int(input())):
        n = int(input())
        ar = list(map(int, input().split()))
        res = [-1] * n  # Initialize result array with -1
        used = set()   # Set to keep track of used numbers
        
        for i in range(n):
            mex = 0
            while mex in used:
                mex += 1
            res[i] = mex
            used.add(mex)
        
        # Adjust res based on the given array ar
        for i in range(n):
            res[i] -= ar[i]
            if res[i] < 0 or res[i] >= n or res[i] in used:
                # If the adjusted value is invalid, find the next valid mex
                mex = 0
                while mex in used:
                    mex += 1
                res[i] = mex
                used.add(mex)
        
        print(' '.join(str(x) for x in res))

func()
```

This corrected version ensures that the permutation `p` is built correctly while satisfying the `mex` condition.