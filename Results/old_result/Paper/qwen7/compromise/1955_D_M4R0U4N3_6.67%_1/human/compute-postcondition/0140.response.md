Postcondition: `r` is `m`, `m` is some integer, `n` is some integer greater than `m`. `a[r]` is not in `todo`, `old` (which is `a[r - m]`) remains unchanged in `done` if it was there, and `old` is added to `extra` if it was not there. The length of `done` is greater than or equal to `k`.