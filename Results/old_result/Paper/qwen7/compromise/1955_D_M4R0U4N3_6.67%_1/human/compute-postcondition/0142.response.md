Postcondition: `r` is `m`, `m` is some integer, `n` is some integer greater than `m`. If `a[r]` is not in `todo`, then `old` (which is `a[r - m]`) remains unchanged in `done` if it was there, and `old` is added to `extra` if it was not there. Additionally, if the length of `done` is greater than or equal to `k`, then `ans` is incremented by 1.