Postcondition: `i` is equal to `n`, `k` equals 0, `b` and `s` are updated as described, `bm` and `sm` reflect the maximum values calculated during the last iteration, and both `sp` and `bp` have been incremented accordingly. `bm` is less than `sm`.