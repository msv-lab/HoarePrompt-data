Postcondition: `l` is equal to `r - k`, `r` is `n - k - 1`, `st` is the total number of consecutive duplicates found, `end` is `k`, and `ans` is 0 if `a[0] != a[-1]`, otherwise `ans` is 0.