Postcondition: `ans` is 2, `r` is `m + 1`, `old` is equal to `a[r - m]`. If `a[r]` is in `todo`, then `todo` has had `a[r]` removed from it and `done` now contains `a[r]`. Otherwise, `extra` now contains `a[r]`, and the conditions involving `done` and `todo` remain unchanged.