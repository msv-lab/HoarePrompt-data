The function accepts a list `p` of integers and an integer `x`. If the last element of the list `p` is less than `x`, it returns the length of the list `p`. Otherwise, it performs a binary search to find the smallest element in the list `p` that is greater than or equal to `x`, and returns the index of this element.