Postcondition: `n` and `k` are integers, `max_k` is set to `n` if `n` is even, otherwise `max_k` is calculated as `(n * n + k) / 2`, and `max_k` is greater than or equal to `k`.