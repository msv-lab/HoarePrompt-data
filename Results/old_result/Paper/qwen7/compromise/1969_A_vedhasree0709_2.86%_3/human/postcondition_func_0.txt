The function processes a series of test cases. Each test case consists of an integer `t` (1 ≤ t ≤ 5000), an integer `n` (2 ≤ n ≤ 50), and a list `p` of `n` integers (1 ≤ p_i ≤ n, p_i ≠ i, and all p_i are distinct). For each test case, the function checks if there exists a pair of consecutive elements in the list `p` such that one element is `i+2` and the next is `i+1`. If such a pair is found, the function prints `2` and stops processing further test cases. If no such pair is found after checking all elements, the function prints `3`. The function does not return any value but prints the result for each test case.