Postcondition: `e` is an input string with at least one character, if `q` is '+', then `P` is 1. Otherwise, `q` is not '+' and `M` is 1.