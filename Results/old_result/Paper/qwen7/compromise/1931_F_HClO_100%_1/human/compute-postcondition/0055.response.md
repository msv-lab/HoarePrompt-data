Postcondition: `idx1` is `-1` or `i`, `idx2` is `-1` or `i`, `p1` is `1` or `0`, `p2` is `0` or `1`, `n` is greater than `1`, and either both `idx1` and `idx2` are greater than or equal to `0` (in which case we break out of the most internal loop or if statement) or there is no else part, meaning the conditions for the if part are met and we break out of the loop or if statement.