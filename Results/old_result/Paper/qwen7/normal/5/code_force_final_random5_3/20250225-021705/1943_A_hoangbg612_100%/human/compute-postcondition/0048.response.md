Postcondition: `M[k]` is equal to 1, and `cnt` contains the value of `k`.