Postcondition: `r` is `m`, `m` is some integer, `n` is some integer greater than `m`. If `a[r]` is in `todo`, then `a[r]` is removed from `todo`, and if `old` (which is `a[r - m]`) is in `extra`, it is added to `todo` and removed from `done`. If `a[r]` is not in `todo`, then `old` remains unchanged in `done` if it was there, and `old` is added to `extra` if it was not there.