Postcondition: `rem` is either `k % 3` or 0, `i` is either 1 or 3, `n` is either `n - 1` or still greater than 1, `k` is either 0 or reduced by `(i + 1) * (a[i + 1] - a[i])`, and `r` is either `a[1]` or `a[i + 1]`.