The function accepts a positive integer `num` as input, which represents the upper limit for finding prime numbers. It then identifies all prime numbers up to and including `num` by marking non-prime numbers in a boolean list and recording the lowest and highest prime factors for each index. Finally, it returns a list `p` containing all prime numbers up to and including `num`.