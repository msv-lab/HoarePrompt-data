Postcondition: `n` is equal to the value of `previous[path_ba[-1]]`, and after the execution of the if-else block, if `n == -1`, we break out of the most internal loop or if statement.