Postcondition: `k` is either reduced by `(i + 1) * (a[i + 1] - a[i])` or remains unchanged, `r` is set to `a[i + 1]` if `(i + 1) * (a[i + 1] - a[i]) <= k`, `i` is incremented by 1, `n` is greater than `i + 1`, and we either break out of the most internal loop or continue with the remaining conditions.