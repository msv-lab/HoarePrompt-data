Postcondition: `ans` is `le - max(4, 4)`, `le` is the length of list `a`, `t` is a positive integer such that \(1 \leq t \leq 10^4\), `n` is an input integer, `a` is a list of integers obtained from the input split and mapped to integers, `l` is equal to `r - 1`, the current value of `r` is `n - 4`, `st` is the total number of consecutive elements in `a` that are equal starting from index 0, `a[n - 4]` must be equal to `a[n - 5]`, and the first element of `a` is equal to the last element of `a`.