Postcondition: `i` is the next element in `p` (not `'A'`), `ans` is the value of `ans` before the operation plus `m`, and `i` is not in `hmp`.