Postcondition: `xx` is a 2D list, `nx` is a string, and `j` is `k + 1` where `k` is the value of `j` from the previous iteration. If `xx[i][j-1]` is not '?', `nx` is updated by appending the value of `xx[i][j-1]` to `nx` unless `i` or `j` is in `sa[:n // 4 - 1]`, in which case 'S' is appended to `nx`. If `xx[i][j-1]` is '?', `nx` is 'F' if either `i` or `j` is in `sa[:n // 4 - 1]`, otherwise 'S' is appended to `nx`.