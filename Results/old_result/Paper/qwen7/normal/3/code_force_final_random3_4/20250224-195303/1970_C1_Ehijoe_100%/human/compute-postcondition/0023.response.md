Postcondition: `nodes[key]` is a list. If the length of `nodes[key]` is exactly one, then `ends` is a list with an additional element `key`. Otherwise, no change is made to `ends`.