Postcondition: `nodes` must have at least one key. If the length of the list associated with `key` is exactly 1, then `ends` contains the key that was appended. Otherwise, `ends` does not contain the key that was appended.