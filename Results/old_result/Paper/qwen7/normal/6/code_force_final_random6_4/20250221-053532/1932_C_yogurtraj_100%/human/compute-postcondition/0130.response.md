Postcondition: `i` is -1, `n` must be at least 1, `k` is updated to either `k * a[q2] % m` (if `t[i] == 'R'`) or `k * a[q1] % m` (if `t[i] != 'R'`), `q2` is incremented by 1 if `t[i] == 'R'`, and `q1` is decreased by 1 if `t[i] != 'R'`.