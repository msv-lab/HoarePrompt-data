Postcondition: `new_segment` and `max_segment` are lists. If `arr[i] < 0` and `max_segment[0] > new_segment[0]` and `new_segment` is not empty, then `new_segment` becomes an empty list, `max_segment` becomes `max_segment + [i - 1]`, and `max_segment[0]` is increased by `arr[i]`. If `arr[i] < 0` and `max_segment[0] <= new_segment[0]` or `new_segment` is empty, then `new_segment` remains unchanged, `max_segment` becomes `new_segment + [i - 1]`, `new_segment` becomes an empty list, and `max_segment[0]` is increased by `arr[i]`. If `arr[i] >= 0`, then `max_segment[0]` is increased by `arr[i]`, and `new_segment` is now `[arr[i], i]` if `arr[i]` is greater than or equal to 0; otherwise, `new_segment` remains unchanged.