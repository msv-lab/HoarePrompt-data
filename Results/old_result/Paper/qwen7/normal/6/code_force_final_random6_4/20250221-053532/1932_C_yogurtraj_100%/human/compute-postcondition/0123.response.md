Postcondition: `i` is either 0 or -2, `n` must be at least 1. If `t[i]` is 'R', then `k` is updated to `k * a[q2] % m` and `i` becomes 0. Otherwise, `k` is updated to `k * a[q1] % m` and `i` becomes -2.