Postcondition: **`l` is either 0 or `n - 1`, `r` is either 0 or `n - 1`, `st` is either 4 or 0, `end` is either 4 or 0, `ans` is the length of list `a` minus 1 if `a[0] == a[-1]`, otherwise `ans` is 0.**