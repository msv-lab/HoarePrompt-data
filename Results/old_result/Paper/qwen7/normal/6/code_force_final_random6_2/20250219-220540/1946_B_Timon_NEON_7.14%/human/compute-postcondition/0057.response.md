Postcondition: `i` is 2 or 3, `arr` is a non-empty list, `max_segment[0]` is updated to the maximum of the original `max_segment[0]` and `max_segment[0] + arr[i]`. If `arr[i]` is negative, `new_segment` is an empty list. If `arr[i]` is non-negative, `new_segment` is a list containing the first element of `arr` and 0. `segments_variants` is a list containing at least one variant of the segments, either `[max_segment + [i - 1]]` or `new_segment + [i - 1]`. If `arr[i]` is non-negative, `max_segment[0]` is now `max_segment[0] + arr[i]` and `new_segment[0]` is the sum of its original value (either 0 or the first element of `arr`) and `arr[i]`.