Functionality: **The function accepts no parameters directly but processes a series of test cases where each case includes an integer t (1 ≤ t ≤ 10^4), followed by t pairs of integers (n, k) (1 ≤ n ≤ 3⋅10^5, 0 ≤ k ≤ n). It also receives a list of k moves, each represented as a pair of integers (r_i, c_i) (1 ≤ r_i, c_i ≤ n). The function validates that no two rooks share the same row or column before each move and that all moves are valid. For each test case, it returns whether the given sequence of moves is valid based on the initial conditions.**