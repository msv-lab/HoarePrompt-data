Postcondition: `idx1` is n - 2, `idx2` is n - 2, `p1` is 0 or 1, `p2` is 0 or 1, `n` is greater than i + max(p1, p2), and the list `val` is empty, and the current value of `idx1` is greater than the current value of `idx2`.