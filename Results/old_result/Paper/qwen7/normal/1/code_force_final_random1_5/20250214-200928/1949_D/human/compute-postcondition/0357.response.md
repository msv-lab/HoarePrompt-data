Postcondition: `nx` is a string, `i` is `n`, `j` is 1, and `n` is at least 4. If `xx[i][j - 1]` is not '?', then `nx` is set to the value of `xx[i][j - 1]`. Otherwise, `nx` is either 'S' or 'F' depending on whether `i` or `j` is in the first quarter of `sb`: if they are, then `nx` is 'S'; otherwise, `nx` is 'F'.