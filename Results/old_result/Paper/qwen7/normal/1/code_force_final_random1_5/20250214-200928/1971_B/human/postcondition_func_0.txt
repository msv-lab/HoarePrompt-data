The function processes multiple test cases, each consisting of a positive integer `n` followed by `n` strings `s`. For each string `s`, it checks if the number of unique characters is exactly 2. If so, it prints 'NO'. Otherwise, it prints 'YES' and then either the lexicographically smallest permutation of `s` or its reverse, depending on which comes first alphabetically.