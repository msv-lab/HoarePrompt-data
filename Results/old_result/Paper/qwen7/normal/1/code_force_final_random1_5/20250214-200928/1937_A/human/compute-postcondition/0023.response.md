Postcondition: `n_cases` must be greater than 0, if `n` equals 1, then no change is made to `n_cases`. Otherwise, `n` is either `log2(n_cases)` (and `n_cases` must be greater than 4 if `power` equals `n`), or `n` is set to 3.