Postcondition: `i` is 1, `n` is greater than 0, `nx` is either equal to `xx[1][1]` if `xx[1][1]` is not '?', or 'F' or 'S' if `xx[1][1]` is '?', `j` is 2, and `n` is greater than or equal to 1, if `xx[1][1]` is not '?', otherwise `nx` is either 'FF' if `i` is in `sa[:n // 4]` or `j` is in `sa[:n // 4]`, or 'S' otherwise.