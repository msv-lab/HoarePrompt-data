Postcondition: `nx` is either 'F' or 'S', `n` must be between 2 and 24, and `xx[i][j - 1]` is either 'F' or 'S'. Specifically, if `xx[i][j - 1]` is not '?', then `nx` is equal to the value of `xx[i][j - 1]`. If `xx[i][j - 1]` is '?', then `nx` is 'F' if `i` is in `sa[:n // 4]` or `j` is in `sa[:n // 4]`, otherwise `nx` is 'S'.