Postcondition: `nx` is a string of length 3, `n` is between 2 and 24, and `xx[i][j]` is either 'F' or 'S'. If `xx[i][j - 1]` is not '?', then `nx` remains unchanged. Otherwise, if either `i` is in the first quarter of `sa` or `j` is in the first quarter of `sa`, then `nx` is either 'FF', 'SF', 'FS', or 'SS'. Otherwise, `nx` is either 'FFS', 'SFS', 'FSF', or 'SSF'.