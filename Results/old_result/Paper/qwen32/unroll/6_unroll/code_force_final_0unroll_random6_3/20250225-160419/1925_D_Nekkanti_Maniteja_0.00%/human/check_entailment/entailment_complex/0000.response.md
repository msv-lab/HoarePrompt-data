Let's analyze the provided program and the problem description to determine its correctness.

### Problem Analysis

The problem requires calculating the expected value of the sum of friendship values of all k pairs chosen for the excursions. The expected value can be expressed as a fraction \(\frac{p}{q}\), and we need to calculate \(p \cdot q^{-1} \bmod (10^9+7)\).

### Key Points

1. **Initial Friendship Values**: We know the initial friendship values of the m pairs of friends.
2. **Random Selection**: For each of the k excursions, a pair of children is chosen equiprobably.
3. **Friendship Value Update**: If a chosen pair is friends, their friendship value increases by 1 for future excursions.
4. **Expected Value Calculation**: The expected value of the sum of friendship values of all k pairs chosen for the excursions needs to be calculated.

### Program Analysis

Let's break down the provided program:

```python
def func():
    for i in range(int(input())):
        n, m, k = map(int, input().split())
        
        M = 10 ** 9 + 7
        
        c = pow(n * (n - 1) // 1, -1, M)
        
        s = 0
        
        a = 0
        
        for i in range(m):
            u, v, f = map(int, input().split())
            a += f
        
        for i in range(k):
            s = s + c * i * c * m + c * a
        
        print(s % M)
```

### Issues in the Program

1. **Incorrect Calculation of `c`**:
   - The variable `c` is calculated as the modular inverse of \(\frac{n(n-1)}{2}\). However, the code incorrectly calculates it as the inverse of \(\frac{n(n-1)}{1}\), which is not the correct denominator. The denominator should be \(\frac{n(n-1)}{2}\), which is the total number of possible pairs of children.
   - Correct calculation should be `c = pow(n * (n - 1) // 2, -1, M)`.

2. **Incorrect Calculation of `s`**:
   - The loop `for i in range(k)` is incorrectly updating `s`. The expected value calculation involves a more complex formula that considers the probability of selecting a friend pair and the expected increase in their friendship values.
   - The correct formula for the expected value involves summing the initial friendship values and the expected increase in friendship values due to random selections.

### Correct Expected Value Formula

The correct expected value formula is more complex and involves:
- The sum of initial friendship values.
- The expected increase in friendship values due to random selections.

The expected value can be derived as:
\[ E = \left( \sum_{i=1}^{m} f_i \right) \cdot \frac{k}{\binom{n}{2}} + \left( \sum_{i=1}^{k-1} i \cdot \frac{m}{\binom{n}{2}} \right) \]

Where:
- \(\sum_{i=1}^{m} f_i\) is the sum of initial friendship values.
- \(\binom{n}{2} = \frac{n(n-1)}{2}\) is the total number of possible pairs.
- The second term accounts for the expected increase in friendship values due to random selections.

### Conclusion

The provided program does not correctly calculate the expected value based on the problem description and the correct formula. Therefore, the program is incorrect.

### Final Answer

Reasoning: The program incorrectly calculates the modular inverse and the expected value of the sum of friendship values.
Correctness: **False**