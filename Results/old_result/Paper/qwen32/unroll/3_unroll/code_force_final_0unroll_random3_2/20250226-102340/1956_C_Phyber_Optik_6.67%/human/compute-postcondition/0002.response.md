To determine the output state after the loop executes all iterations, we need to analyze the provided code snippet and understand how the variables are updated and what gets printed.

Here is the loop again for reference:

```python
for _ in range(t):
    n = int(input())
    sum, r = 0, 0
    for i in range(1, n + 1):
        if n * (n + 1) // 2 > i * n:
            r = i
            sum += n * (n + 1) // 2
        else:
            sum += i * n
    print(sum, n + r)
    for j in range(1, n + r + 1):
        if j <= n:
            print(1, j, end=' ')
            print(*range(1, n + 1))
        else:
            print(2, j % n, end=' ')
            print(*range(1, n + 1))
```

### Analysis:

1. **Outer Loop (`for _ in range(t)`)**: This loop runs `t` times, where `t` is the number of test cases.
2. **Inner Loop (`for i in range(1, n + 1)`)**: For each test case, this loop runs `n` times.
3. **Condition (`if n * (n + 1) // 2 > i * n`)**:
   - If true, `r` is set to `i` and `sum` is incremented by `n * (n + 1) // 2`.
   - If false, `sum` is incremented by `i * n`.
4. **Output (`print(sum, n + r)`)**: After the inner loop, the sum and `n + r` are printed.
5. **Second Inner Loop (`for j in range(1, n + r + 1)`)**:
   - If `j <= n`, it prints `1`, `j`, and the sequence `1` to `n`.
   - If `j > n`, it prints `2`, `j % n`, and the sequence `1` to `n`.

### Output State:

- **`sum`**: The value of `sum` after the inner loop is computed based on the condition inside the loop.
- **`r`**: The value of `r` after the inner loop is the last `i` for which the condition `n * (n + 1) // 2 > i * n` was true.
- **Printed Output**: For each test case, the code prints:
  - The final value of `sum` and `n + r`.
  - A series of lines, each starting with either `1` or `2`, followed by an index and the sequence `1` to `n`.

Given the constraints and the nature of the loops, the final output state will be a series of printed lines, one for each test case, containing the computed `sum` and `n + r`, followed by the specified sequences.

### Final Output State:

Output State: **For each test case, the final value of `sum` and `n + r` are printed, followed by a series of lines starting with either `1` or `2`, followed by an index and the sequence `1` to `n`. The size of the matrix `a` and the value of `t` remain unchanged.**