The function reads multiple test cases, each consisting of an integer `n` and a list `p` of `n` distinct integers. For each test case, it determines and prints either `2` or `3` based on whether the list `p` can be sorted using a specific swapping rule. The function does not modify the input values `n` or `p`.