Functionality: **The function accepts multiple test cases, each consisting of three integers n, m, and k, and a list of n integers representing the price per ticket for each of the n days. For each test case, the function returns a value based on these inputs, where 1 ≤ n ≤ 3 · 10^5, 1 ≤ m ≤ 10^9, 1 ≤ k ≤ min(nm, 10^9), and the total number of test cases t satisfies 1 ≤ t ≤ 10^4. The sum of n over all test cases does not exceed 3 · 10^5.**