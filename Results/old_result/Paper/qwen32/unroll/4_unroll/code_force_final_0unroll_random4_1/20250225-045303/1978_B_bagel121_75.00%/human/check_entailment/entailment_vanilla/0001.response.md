Let's analyze the given problem and the provided Python program step-by-step to determine its correctness.

### Problem Analysis

Bob wants to maximize his profit by selling `n` buns. He can choose to sell the first `k` buns at a decreasing price starting from `b` down to `b - k + 1`, and the remaining `n - k` buns at the usual price `a`. The goal is to find the value of `k` that maximizes the total profit.

### Key Observations

1. **Base Case**: If `a >= b`, it's better to sell all buns at the usual price `a` because the modified price won't yield more profit.
2. **Choosing `k`**: When `a < b`, we should calculate the profit for different values of `k` and choose the one that maximizes the total profit. The maximum possible value of `k` is `min(b - a + 1, n)` because the price cannot go below 1.

### Calculating Profit

For a given `k`:
- The profit from the first `k` buns is the sum of an arithmetic series: `b + (b-1) + ... + (b-k+1)`. This can be calculated using the formula for the sum of an arithmetic series: `k * (2*b - k + 1) / 2`.
- The profit from the remaining `n - k` buns is `(n - k) * a`.

### Program Analysis

Let's look at the provided program:

```python
def func():
    t = int(input())
    for _ in range(t):
        (n, a, b) = map(int, input().split())
        if a >= b:
            print(n * a)
        else:
            k = min(b - a + 1, n)
            ans = int((b + (b - k + 1)) / 2 * k)
            p2 = (n - k) * a
            print(ans + p2)
```

- The program correctly handles the base case where `a >= b` by selling all buns at the usual price `a`.
- When `a < b`, it calculates the maximum possible `k` as `min(b - a + 1, n)`.
- It then calculates the profit from the first `k` buns using the arithmetic series sum formula.
- Finally, it calculates the profit from the remaining `n - k` buns and sums up both parts to get the total profit.

### Conclusion

The program correctly implements the logic to find the maximum profit Bob can obtain by selling all `n` buns under the given conditions.

**Correctness: True**