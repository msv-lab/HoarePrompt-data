Functionality: **The function accepts an integer `t` (1 ≤ t ≤ 10^3) representing the number of test cases. For each test case, it receives an integer `n` (3 ≤ n ≤ 10^5) which is the length of the permutation `p`. The function returns a value for each test case based on the permutation `p`.**