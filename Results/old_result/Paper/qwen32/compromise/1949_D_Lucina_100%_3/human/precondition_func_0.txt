n is an integer such that 2 <= n <= 24. The input consists of n lines, each containing n characters. Each character in the i-th line and j-th column is either 'F', 'S', '?', or '.', where '.' occurs only when i = j, 'F' and 'S' denote pre-decided funny and scary transition videos respectively, and '?' denotes an undecided transition video. It is guaranteed that the input matrix is symmetric (i.e., the character at position (i, j) is the same as the character at position (j, i)) and there are at most floor(n/2) pre-decided transition videos ('F' or 'S').