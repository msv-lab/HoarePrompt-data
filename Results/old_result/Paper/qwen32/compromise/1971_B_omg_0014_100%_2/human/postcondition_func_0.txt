The function reads an integer `n` representing the number of test cases. For each test case, it reads a string `s` and prints 'NO' if all characters in `s` are the same, otherwise it prints 'YES' and then prints the lexicographically smallest string if `s` is not already sorted, or the lexicographically largest string if `s` is sorted.