Functionality: **The function accepts multiple test cases, each consisting of three integers `n`, `m`, and `k`, and a list of `n` integers `a_1, a_2, ..., a_n`. For each test case, the function performs some computation and returns a result based on the provided values. The integer `n` represents the number of elements in the list, `m` is another integer, and `k` is a third integer that is constrained to be no greater than the minimum of `nm` and 1,000,000,000. The function handles up to 10,000 test cases, with the total number of elements `n` across all test cases not exceeding 300,000.**