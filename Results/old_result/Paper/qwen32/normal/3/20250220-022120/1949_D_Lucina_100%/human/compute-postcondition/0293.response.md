Functionality: **The function accepts an integer `n` (where 2 <= n <= 24) and a grid of `n` lines by `n` characters. Each character in the grid is either 'F' (funny), 'S' (scary), '?' (undecided), or '.' (same scenario). The grid is symmetric, meaning the i-th character of the j-th line is the same as the j-th character of the i-th line for all i and j. At most floor(n/2) characters in the grid are 'F' or 'S'. The function returns a grid where each '?' is replaced by either 'F' or 'S' such that the conditions are met.**