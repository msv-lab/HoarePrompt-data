Let's analyze the given problem and the provided program step by step to determine its correctness.

### Problem Analysis:
The problem requires us to minimize the number of cards in our hand after performing a series of operations. The operation allows us to choose any `k` cards with the same number and exchange them for `k-1` cards, each having any number (including the original number).

### Key Observations:
1. **If `k > n`:** No operations can be performed because we don't have enough cards to choose `k` cards. Therefore, the minimum number of cards we can have is `n`.
2. **If `k == n`:** We can perform exactly one operation, reducing the number of cards to `k-1`.
3. **Otherwise:** We need to analyze the frequency of each number in the list of cards. The operation can be performed as long as there are at least `k` cards with the same number.

### Correct Approach:
- We need to count the frequency of each number in the list.
- For each number, if its frequency is `m`, we can perform `(m // k)` operations, reducing the number of cards by `m % k` (since each operation reduces the count by `1`).
- The final number of cards will be the sum of these remainders.

### Analysis of the Provided Program:
- The program correctly handles the cases where `k > n` and `k == n`.
- However, the function `func_1` is flawed. It truncates the frequency of each number to `k`, which is not the correct approach to determine the minimum number of cards.
- The program does not correctly compute the final number of cards based on the frequencies.

### Correct Implementation:
Here is a correct implementation based on the above analysis:

```python
t = int(input())
for _ in range(t):
    n, k = map(int, input().split())
    nums = list(map(int, input().split()))
    
    if k > n:
        print(n)
    elif k == n:
        print(k - 1)
    else:
        from collections import Counter
        freq = Counter(nums)
        remaining_cards = 0
        for count in freq.values():
            remaining_cards += count % k
        print(remaining_cards if remaining_cards > 0 else 1)
```

### Conclusion:
The provided program is incorrect because it does not correctly compute the final number of cards after performing the operations.

**Correctness: False**