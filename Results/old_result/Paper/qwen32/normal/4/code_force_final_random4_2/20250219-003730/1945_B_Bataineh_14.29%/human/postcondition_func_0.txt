The function processes `t` test cases, where for each test case it receives three integers `a`, `b`, and `m`. It calculates and prints the number of moments within the visibility duration `m` when both fireworks are visible, based on their launch frequencies `a` and `b`. If the visibility duration `m` is less than either `a` or `b`, it prints `2`. Otherwise, it prints the calculated number of moments.