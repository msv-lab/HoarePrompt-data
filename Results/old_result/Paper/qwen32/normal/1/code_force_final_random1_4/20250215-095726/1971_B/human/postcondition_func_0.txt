The function processes a series of test cases, where each test case consists of a string of lowercase English letters. For each string, it determines if the string contains more than two unique characters. If it does, the function prints 'YES' followed by the lexicographically smallest or largest permutation of the string, depending on whether the original string is already the smallest permutation. If the string contains exactly two unique characters, it prints 'NO'.