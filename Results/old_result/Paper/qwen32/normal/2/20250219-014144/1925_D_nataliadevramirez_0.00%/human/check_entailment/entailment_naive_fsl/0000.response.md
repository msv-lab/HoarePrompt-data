Let's analyze the provided program to see if it meets the requirements of the problem description.

### Problem Analysis:
1. **Input Handling**: The program reads the number of test cases `t` and then for each test case, it reads `n`, `m`, `k`, and the list of friendships.
2. **Friendship Value Calculation**: For each friendship, the program calculates the contribution to the total sum of friendship values using the formula `f * (k * (k + 1) // 2) % MOD`.
3. **Output**: The program prints the result for each test case.

### Issues in the Program:
1. **Expected Value Calculation**: The problem asks for the expected value of the sum of friendship values of all `k` pairs chosen for the excursions. The current implementation calculates the sum of friendship values assuming that each pair of friends is chosen `k` times, which is incorrect. The correct approach involves calculating the probability of choosing each pair and then computing the expected value.
2. **Modulo Operation**: The modulo operation is applied only after the summation of all contributions, which might lead to overflow issues before applying the modulo. However, since the problem guarantees that the sum of `k` over all test cases does not exceed \(2 \times 10^5\), this issue might not arise in practice, but it's still a good practice to apply modulo operations during the summation process.
3. **Distinct Pairs**: The problem states that all pairs of friends are distinct, which is handled correctly in the input reading part.

### Correct Approach:
To correctly calculate the expected value, we need to consider the probability of choosing each pair of friends in each excursion. Since each pair is chosen equiprobably and independently, the probability of choosing a specific pair in one excursion is \(\frac{m}{\binom{n}{2}}\), where \(\binom{n}{2}\) is the total number of possible pairs. The expected number of times a specific pair is chosen in `k` excursions is \(k \times \frac{m}{\binom{n}{2}}\).

The expected contribution of a friendship with initial value `f` is then \(f \times k \times \frac{m}{\binom{n}{2}} \times \frac{k + 1}{2}\).

However, the provided code does not account for these probabilities and instead assumes that each pair is chosen `k` times, which is incorrect.

### Conclusion:
Given the above analysis, the program does not correctly compute the expected value of the sum of friendship values for all `k` pairs chosen for the excursions. Therefore, the program is incorrect.

Correctness: **False**

### Explanation:
The program incorrectly calculates the sum of friendship values by assuming each pair is chosen `k` times, rather than considering the probability of choosing each pair in each excursion. This leads to an incorrect calculation of the expected value.