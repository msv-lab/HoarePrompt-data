Functionality: **The function accepts an integer `x` such that 2 <= x <= 1000. If there exists a divisor `y` of `x` that satisfies `2 * y >= x`, the function returns `y`. Otherwise, if `x` is greater than or equal to 3, the function returns `x - 2`. If no such `y` is found and `x` is greater than or equal to 3, the function returns `x - 3`. If no other conditions are met, the function returns `max_val`, which is the largest divisor of `x` that is less than `x / 2`, or the first divisor `y` found such that `2 * y >= x`.**