The function processes multiple test cases, each consisting of an integer `n` and a list `a` of `n` integers. For each test case, it calculates and prints an integer `cur` that represents the smallest integer such that the number of occurrences of each integer from 0 to `cur-1` in the list `a` is at least as large as the integer itself. If the sum of occurrences of integers in `a` matches another given integer `S`, it adjusts `cur` accordingly.