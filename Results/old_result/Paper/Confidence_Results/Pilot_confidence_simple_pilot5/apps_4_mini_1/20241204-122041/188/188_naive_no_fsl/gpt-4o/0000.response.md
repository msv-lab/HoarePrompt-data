Correctness: **False**

The program has an issue with handling cases where the counts of unique numbers do not equal half of `n` for two different numbers. 

For instance, consider the input:

```
4
1
1
2
2
```

- The program would count the numbers and find that both `1` and `2` appear twice.
- It would then evaluate that both counts equal `n // 2`, which is `2`, and would output "YES" with "1 2". However, for the game to be fair, the chosen integers must be distinct, and there are two distinct integers but they are not equal in count. Thus, the program returns an incorrect result.

In this case, both players can indeed take their respective numbers, but it does not fulfill the requirement for the selected integers to lead to an equal distribution of cards without resulting in a tie on the counts. 

Therefore, the program fails to consider cases where the distribution is equal but does not allow for a fair game with distinct integers selected by Petya and Vasya.