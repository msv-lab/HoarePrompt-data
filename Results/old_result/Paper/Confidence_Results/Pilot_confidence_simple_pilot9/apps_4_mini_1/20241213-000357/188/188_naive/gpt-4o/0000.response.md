To determine the correctness of the given program based on the problem description, I will analyze the code and see if it appropriately handles all potential edge cases.

1. **Analyzing the Logic**:
   - The program reads an integer `n`, representing the number of cards, which is guaranteed to be even.
   - It collects `n` integers that represent the card values.
   - It uses a `Counter` to count the occurrences of each number on the cards.
   - It checks if there are at least two unique numbers. If not, it outputs "NO".
   - Then it checks if there are exactly two distinct numbers and if each occurs `n / 2` times. If so, it outputs "YES" along with those two numbers.
   - If the above conditions are not met, it outputs "NO".

2. **Potential Issues**:
   - The program will output "NO" if there are not exactly two distinct numbers with each having `n / 2` occurrences. However, it will also output "NO" if there are two distinct numbers but one or both do not occur `n / 2` times. 
   - This does not handle unique cases where there could be more than two numbers in which there are only two distinct numbers possible but they occur enough times to split the cards evenly.
   - A key case that could cause failure is when there are exactly two unique numbers, and both do not have `n/2` values but their total occurrences equal `n`, such as `1, 1, 2, 2`.

3. **Specific Test Case**:
   - Consider the input:
     ```
     4
     1
     1
     2
     2
     ```
   - The expected output would be "YES" with "1 2" since both Petya and Vasya can choose two different numbers and split the cards evenly. However, the program would output "NO" since neither `1` nor `2` occur `n / 2` times, even though they can take all cards fairly and evenly.

4. **Conclusion**:
   - Since the program fails to correctly identify this valid case, where it should output "YES" for the provided input but will incorrectly output "NO", it means that the implementation is lacking.

Correctness: **False**.