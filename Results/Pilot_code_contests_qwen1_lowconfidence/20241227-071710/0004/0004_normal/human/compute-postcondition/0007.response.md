Postcondition: ***`x` is an integer such that 0 <= x <= (n*(n-1))//2, `n` is a positive integer, `BITTree` is a Binary Indexed Tree storing the cumulative sums of some permutation-related values up to a certain index, `sm` is updated to `sm + BITTree[ret + pw]`, `ret` is updated to `ret + pw`, `i` is 21, `pw` is 2^21, and if `ret + pw <= n` and `sm + BITTree[ret + pw] <= x`, the above updates are applied. Otherwise, the original values of `sm` and `ret` remain unchanged.***