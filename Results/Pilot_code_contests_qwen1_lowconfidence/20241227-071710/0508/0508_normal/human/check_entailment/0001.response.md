Correctness: **False**

Explanation: The program does not handle all potential cases correctly. Specifically, it fails to consider scenarios where the sets of pairs communicated by the participants do not uniquely determine the shared number.

Consider the following test case:
```
Input:
3 2
1 2 3 4 5 6
1 7 3 4 8 9
```

Expected Output:
```
-1
```

However, the program will output `1` because it does not properly account for the possibility that the shared number could be determined uniquely by one participant but not by the other. In this case, the pairs are:
- First participant: (1, 2), (3, 4), (5, 6)
- Second participant: (1, 7), (3, 4), (8, 9)

The program identifies `1` and `3` as possible candidates but does not correctly handle the situation where the shared number cannot be determined with certainty. Therefore, the program outputs `1` instead of `-1`.

This failure indicates that the program does not meet the requirements of the problem description for every potential case.