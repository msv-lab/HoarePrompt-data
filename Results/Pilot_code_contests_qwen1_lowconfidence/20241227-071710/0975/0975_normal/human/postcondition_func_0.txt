The function processes a set of friendship pairs among \( n \) members and determines whether all members form cliques with their neighbors. It reads the number of members \( n \) and the number of friendship pairs \( m \) from standard input. It then constructs an undirected graph using adjacency lists. The function checks each member to ensure that every member has the same number of neighbors as all of its neighbors. If all members satisfy this condition, the function prints 'YES'; otherwise, it prints 'NO'. The function handles the case where no pair of friends repeats and ensures that the input constraints are respected. If any member does not form a clique with its neighbors, the function immediately breaks out of the loop and sets the result to 'NO'.