Postcondition: `new_nodes` contains all the elements appended during the loop, `p` is the last index of `new_nodes` (or -1 if `new_nodes` is empty), `abort` is `True` if any `flag` at `p + 1` was `-1` when the loop stopped, otherwise `abort` is `False`, and `nodes` is updated such that for each `p` in `new_nodes`, `nodes[p + 1]` is `-1`; `c` is greater than `len(new_nodes)`