Postcondition: ***`q` is a deque with its leftmost element possibly updated, `cur` is 0, `dep` and `pred` are as they were before the update. If `dep[to] == -1`, then `q` now has an additional element `to` at its right end.***