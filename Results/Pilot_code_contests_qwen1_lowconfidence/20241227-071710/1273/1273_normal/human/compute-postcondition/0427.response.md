Postcondition: ***`cur` is no longer defined. `q` is the original `q` without its first element plus `to`. `dep[cur]` remains unchanged, and `dep[to]` is set to `dep[cur] + 1`.***