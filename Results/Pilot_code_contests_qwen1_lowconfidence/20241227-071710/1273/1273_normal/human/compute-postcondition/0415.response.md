Postcondition: ***`e[cur_new]` is non-empty, `q` contains at least four nodes plus `to`, `dep[to_new]` is equal to `dep[cur_new] + 1`, `dep[cur_new]` remains unchanged, and `dep[to]` is equal to `dep[cur_new] + 1` since the else part does not change these conditions and no additional conditions are introduced.***