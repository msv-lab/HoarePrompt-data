Postcondition: ***`e[cur]` is non-empty, `q` contains at least four nodes, `dep[to]` is equal to `dep[cur] + 1`, and `dep[cur]` remains unchanged.***