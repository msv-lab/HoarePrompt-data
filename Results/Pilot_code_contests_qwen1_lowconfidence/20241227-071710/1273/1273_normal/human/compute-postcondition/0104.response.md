Postcondition: ***`q` is a deque, `end` is the leftmost element of `q` before the removal, `cur` is 0, `dep` and `pred` are as they were before the update. If `dep[to] == -1`, then the rightmost element of `q` is updated to `to` and `pred[to]` is set to `end`. Otherwise, the state remains unchanged.***