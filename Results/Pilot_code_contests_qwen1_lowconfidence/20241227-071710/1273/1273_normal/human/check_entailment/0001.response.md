Correctness: **False**

Explanation: The program does not correctly identify the root vertex that satisfies the given condition. Specifically, the program does not handle trees where multiple vertices can satisfy the condition, and it may fail to find a valid root vertex in such cases.

For example, consider the following tree:

```
7
1 2
2 3
3 4
4 5
3 6
6 7
```

The output for this tree should be `3` because for any pair of vertices with the same distance from `3`, they have the same degree. However, the provided program will incorrectly output `-1`.

To verify this, we can analyze the program step-by-step:

1. The program constructs the tree and calculates the distances from a chosen root vertex.
2. It then checks if there is a root vertex that satisfies the condition.
3. If no such vertex is found, it attempts to find a valid root vertex by exploring different paths and checking degrees.

However, the logic for determining the root vertex is flawed. The program does not fully explore all possible valid roots and may miss some valid ones, especially in complex trees. Therefore, the program does not guarantee to find a valid root vertex in all cases, leading to incorrect results.