Postcondition: ***`v` is the last element of `Q` after pop, `Q` now contains all elements except the last one and possibly includes `i` if `i` is not already marked. `nbr[v]` must contain at least one element, and the next `i` in `nbr[v]` is not in `marked`. `res` contains all unique elements added to `Q` during the loop iterations. If `i` is not in `marked`, it is added to `marked`, and `Q` is updated to include `i` in addition to its previous elements.***