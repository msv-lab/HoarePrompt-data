Correctness: **False**

Explanation: The code does not handle the case where changing one vertex to 0 can increase the beauty of multiple vertices. Specifically, the function `func_2` does not consider the scenario where setting a vertex to 0 can result in a higher GCD for multiple paths. The code only updates the GCD and related information based on the current node's value and its parent's GCD, but it does not explore the possibility of setting a single vertex to 0 to achieve a higher GCD for multiple paths. This oversight means the code might not always produce the maximum possible beauty for each vertex, as it does not consider the global impact of setting a single vertex to 0.