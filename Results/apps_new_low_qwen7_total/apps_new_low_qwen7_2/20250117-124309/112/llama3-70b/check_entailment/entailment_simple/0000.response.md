Reasoning:

1. **Input Handling**: The program correctly reads two integers \( n \) and \( k \) from the standard input using `map(int, input().split())`.

2. **Finding Divisors**: 
   - The program iterates through numbers from 1 to the integer part of the square root of \( n \).
   - For each number \( i \), it checks if \( n \% i == 0 \).
   - If true, it appends \( i \) to the `divisors` list and, if \( i \neq \sqrt{n} \), it also appends \( n // i \) to the list.
   - This ensures all divisors are found and added, both for perfect squares and non-perfect squares.

3. **Sorting Divisors**: 
   - After finding all divisors, the program sorts them in ascending order.
   - Sorting is necessary to find the \( k \)-th smallest divisor.

4. **Output Handling**: 
   - The program checks if there are at least \( k \) divisors. If not, it prints `-1`.
   - If there are enough divisors, it prints the \( (k-1) \)-th element of the sorted list, which corresponds to the \( k \)-th smallest divisor.

5. **Edge Cases**:
   - The program handles the case where \( n \) has fewer than \( k \) divisors by printing `-1`.
   - It correctly identifies and includes all divisors, including those resulting from perfect squares.

Given the above points, the provided Python program correctly implements the required functionality based on the problem description.

Correctness: **True**