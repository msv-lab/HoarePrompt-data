- The function does not handle the case where \( n \) might be negative or outside the range \( 1 \leq n \leq 10^{18} \). However, given the problem constraints, it is safe to assume that valid input will always fall within this range.