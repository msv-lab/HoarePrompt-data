Postcondition: **`remaining_numbers` is an empty list, `num` must be the first element of `result`, `stack` is an empty list, `result` contains elements from `p` in non-decreasing order, and `num` is greater than or equal to `max_seen`**