Postcondition: `i` is 2 or 3, `arr` is a non-empty list, `max_segment[0]` is updated to the maximum of the original `max_segment[0]` and `max_segment[0] + arr[i]`, `new_segment` is either an empty list or a list containing the first element of `arr` and 0 if the first element is non-negative, or just the first element of `arr` if the first element is negative, and `segments_variants` is a list containing at least one variant which is either `[max_segment + [i - 1]]` or `new_segment + [i - 1]`.