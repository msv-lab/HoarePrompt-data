Postcondition: `segments_variants` must contain at least one element, and the first element of `segments_variants` will be the initial value of `segment`. `total_max_segment` is a list with its first element being smaller than the first element of `segment`.