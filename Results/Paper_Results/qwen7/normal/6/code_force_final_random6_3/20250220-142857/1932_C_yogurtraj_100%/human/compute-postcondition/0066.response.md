Postcondition: `k` is `a[l - 1] % m` and `q1` is `l - 2` if `t[-1] == 'L'`. Otherwise, `k` is `a[l] % m`, `q2` is `l + 1`, and `q1` is `l - 1`.