Postcondition: `i` is either `n-4` or `n-5`, `k` is updated as `k * a[q1] % m` or `k * a[q2] % m` depending on whether `t[i] == 'R'` is true or false, and `n` must be greater than 2.