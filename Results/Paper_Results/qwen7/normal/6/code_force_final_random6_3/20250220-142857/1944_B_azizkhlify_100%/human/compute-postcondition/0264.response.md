Postcondition: `i` is `n + 2`, `n` must be at least 3, and `ur` remains 0 unless `ul` equals `ur` and `r[a[i] - 1]` equals 2, in which case `ur` becomes 2 more than its initial value.