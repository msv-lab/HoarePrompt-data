Postcondition: `l` is either 1 or 0, `r` is either `n - 2` or `n - 1`, `k` is either `k - mi * 2` or `k % 2`, `mi` is the minimum of `a[0]` and `a[n - 1]`, `a[0]` is decreased by `mi` if `l` is 1, `a[r]` is decreased by `mi` if `r` is `n - 2`, `ans` is `ans + 1` if `a[r]` equals 0 and `l` is 1, `ans` is 1 and the most internal loop or if statement is broken if `r` is 0.