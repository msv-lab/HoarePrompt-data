Postcondition: **`ans` is 1, `r` is `m`, `old` is `a[r - m]`, `old` is either already in `done` or has been added to `todo`, if `a[r]` is in `todo`, `done` contains `a[r]` and `todo` does not contain `a[r]`, if `a[r]` is in `extra`, `extra` contains `a[r]` and `old` is either already in `done` or has been added to `todo`.**