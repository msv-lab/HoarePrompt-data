Postcondition: `ans` is 0, `nums_left` is `N - R[0] - 2`, `cur` is either `R[0] + 3` or `R[0] + 2`, `i` is either `R[1] + 1` or `R[0] + 2`, `i` is not equal to `R[cur]`, and `R[1] + 1 < N.