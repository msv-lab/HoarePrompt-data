Postcondition: `old` is equal to `a[r - m]`, `r` is `m + 1`, `todo` contains the value of `old`, `done` either does not contain the value of `old` or contains it, `a[r]` is `a[m + 1]`, `extra`, and `ans` remain unchanged.