Functionality: **The function processes multiple test cases, where each test case consists of a positive integer \( t \) indicating the number of subsequent test cases, followed by an integer \( n \) and an array \( a \) of \( n \) positive integers. For each test case, it calculates and prints the length of the array minus the maximum of two segments defined by consecutive equal elements at the beginning and end of the array. If the first and last elements of the array are equal, it adjusts the calculation accordingly.**