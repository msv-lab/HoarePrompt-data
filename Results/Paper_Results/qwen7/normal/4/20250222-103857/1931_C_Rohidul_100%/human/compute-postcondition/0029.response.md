Postcondition: `r` is one less than `l`, meaning `r = l - 1`; `end` is equal to `l + 1`; `ans` is `le - max(st, l + 1)`. The first element of `a` is equal to the last element of `a`.