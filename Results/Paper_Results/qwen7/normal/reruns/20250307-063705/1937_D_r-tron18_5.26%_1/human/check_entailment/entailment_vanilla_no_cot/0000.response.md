Correctness: **False**

Explanation: The provided code does not correctly implement the logic for calculating the time it takes for a pinball to leave the grid. The function `func_2` attempts to use some complex calculations involving prefix sums and suffix sums, but the logic is not correctly implemented to solve the problem as described. Specifically, the logic for handling the transitions and the calculation of the time taken for the pinball to leave the grid is flawed. The problem requires a different approach, such as simulating the movement of the pinball step-by-step while correctly updating the direction at each step.