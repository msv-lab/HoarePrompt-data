Let's analyze the provided program step by step to determine its correctness based on the problem description.

### Step-by-Step Analysis

1. **Understanding the Problem:**
   - We have an array `a` of integers.
   - We can perform operations where we choose a subarray `[l, r]` and set all elements in this subarray to the MEX (minimum excluded value) of the subarray.
   - The goal is to maximize the sum of the elements of the array using at most \(5 \times 10^5\) operations.

2. **Analyzing the Functions:**
   - **Function 1 (`func_1`):**
     - This function aims to find the optimal subarray `[l, r]` to maximize the sum of the array.
     - It iterates through all possible subarrays and calculates the new sum if the subarray is replaced by the MEX of that subarray.
     - However, this approach has a time complexity of \(O(n^3)\), which is not efficient for large \(n\).
     - The logic here is flawed because it doesn't correctly implement the MEX calculation and doesn't ensure the maximum sum.

   - **Function 2 (`func_2`):**
     - This function recursively constructs a sequence of operations to achieve the desired subarray.
     - It is called within `func_1` but does not seem to directly contribute to solving the problem efficiently.

   - **Function 3 (`func_3`):**
     - This function seems to be intended to update the array and record operations.
     - However, the logic inside `func_3` is also flawed. For instance, the condition `if min(lst[r:l + 1]) == 0:` is unnecessary and incorrect. The MEX of any subarray will never be 0 if the subarray contains 0.

### Conclusion

The provided program does not correctly solve the problem due to the following issues:
- The main function `func_1` incorrectly calculates the MEX and the new sum.
- The functions do not correctly implement the logic to maximize the sum of the array.
- The operations recorded in `func_3` are not logically sound and do not achieve the goal of maximizing the sum.

Given these issues, the program is not correct for the given problem.

### Final Answer

Correctness: **False**