Postcondition: `s` is a string of length `n`, `i` is either 1 or 2, `idx_A` is either `[0, 0]` or `[0, 1]`, and there are no other changes to the variables.