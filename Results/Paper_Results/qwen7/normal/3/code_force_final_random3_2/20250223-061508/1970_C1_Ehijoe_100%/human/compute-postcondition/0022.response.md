Postcondition: `nodes` must have at least one key. If the length of the list associated with the key is exactly 1, `ends` now contains the key that was appended. Otherwise, no change occurs in `ends`.