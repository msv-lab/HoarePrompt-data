Postcondition: `nodes` must have at least one key. If the length of the list associated with `key` in `nodes` is exactly 1, then `key` is appended to the `ends` list. Otherwise, `key` remains unchanged in the `ends` list.