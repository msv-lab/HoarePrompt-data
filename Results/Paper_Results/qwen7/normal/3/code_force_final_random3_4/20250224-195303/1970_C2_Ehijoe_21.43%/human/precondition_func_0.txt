nodes is a dictionary where each key is a node (an integer between 1 and n) and its value is a list of its neighbors (excluding the parent node if provided); start is an integer representing the starting node (between 1 and n); parent is an integer representing the parent node (optional, default is None).