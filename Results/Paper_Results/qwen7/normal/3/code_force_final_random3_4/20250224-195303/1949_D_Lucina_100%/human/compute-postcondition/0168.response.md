Postcondition: `xx` is a 2D list, `nx` is a string. If `xx[i][j-1]` is not '?', then `nx` is equal to the previous value of `nx` plus the value of `xx[i][j-1]`. If `xx[i][j-1]` is '?', then `nx` is a string with an additional character 'S' appended to it if neither `i` nor `j` is in `sa[:n // 4 - 1]`. Otherwise, `nx` is 'F'.