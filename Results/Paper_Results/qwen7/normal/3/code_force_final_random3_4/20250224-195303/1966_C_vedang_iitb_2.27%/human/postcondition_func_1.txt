The function accepts a list `a` of `n` integers representing the initial number of stones in each pile, and an integer `n` indicating the number of piles. It recursively determines whether the player who starts can guarantee a win based on the current configuration of stone piles. The function returns 1 if the starting player can win, and 2 otherwise.