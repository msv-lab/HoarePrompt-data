Postcondition: `nx` is either 'FF' or 'FS' or 'SF' or 'SS', `n` must be between 2 and 24, and `xx[i][j]` is either 'F' or 'S'. If `xx[i][j - 1]` is not '?', then `nx` remains unchanged. Otherwise, if either `i` is in the first quarter of `sa` or `j` is in the first quarter of `sa`, then `nx` is either 'FF' or 'SF'. Otherwise, `nx` is either 'FS' or 'SS'.