The function processes a series of test cases defined by an integer `t` and a string `s`. For each test case, it checks if the input string `s` contains more than one unique character. If `s` consists of a single unique character, it prints 'NO'. Otherwise, it prints 'YES' and then outputs either the lexicographically smallest permutation of `s` or the lexicographically largest permutation of `s`, depending on which permutation matches the original string `s`.