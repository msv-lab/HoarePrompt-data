Given the problem statement and the nature of the task, we need to create comprehensive test cases for the interactive problem described. Here are the test cases, both basic and edge scenarios, to ensure the solution's robustness, reliability, and scalability.

### Basic Test Cases

#### Test 1
**Objective**: Verify the solution works for a small permutation size.
**Input**:
```
4
```
**Output**:
```
? 0 2 3 1
<

? 1 1 2 3
=

? 1 2 0 3
>
! 3 2
```
**Explanation**: The permutation is `[0, 3, 1, 2]`. The queries confirm the expected results, and the solution correctly identifies the indices `3` and `2`.

#### Test 2
**Objective**: Verify the solution works for a medium permutation size.
**Input**:
```
8
```
**Output**:
```
? 0 2 3 1
>

? 1 1 2 3
=

? 1 2 0 3
>
! 7 6
```
**Explanation**: The permutation is `[0, 1, 2, 3, 4, 5, 6, 7]`. The queries confirm the expected results, and the solution correctly identifies the indices `7` and `6`.

#### Test 3
**Objective**: Verify the solution works for a larger permutation size.
**Input**:
```
16
```
**Output**:
```
? 0 2 3 1
>

? 1 1 2 3
=

? 1 2 0 3
>
! 15 14
```
**Explanation**: The permutation is `[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]`. The queries confirm the expected results, and the solution correctly identifies the indices `15` and `14`.

### Edge Test Cases

#### Test 4
**Objective**: Verify the solution handles the smallest possible permutation size.
**Input**:
```
2
```
**Output**:
```
! 0 1
```
**Explanation**: The permutation is `[0, 1]` or `[1, 0]`. The solution correctly identifies the indices `0` and `1`.

#### Test 5
**Objective**: Verify the solution handles the largest possible permutation size.
**Input**:
```
10000
```
**Output**:
```
? 0 2 3 1
>

? 1 1 2 3
=

? 1 2 0 3
>
! 9999 9998
```
**Explanation**: The permutation is a large permutation of integers from `0` to `9999`. The queries confirm the expected results, and the solution correctly identifies the indices `9999` and `9998`.

#### Test 6
**Objective**: Verify the solution handles a permutation where the maximum XOR is achieved by adjacent elements.
**Input**:
```
5
```
**Output**:
```
? 0 2 3 1
>

? 1 1 2 3
=

? 1 2 0 3
>
! 4 3
```
**Explanation**: The permutation is `[0, 1, 2, 3, 4]`. The solution correctly identifies the indices `4` and `3`.

#### Test 7
**Objective**: Verify the solution handles a permutation where the maximum XOR is achieved by non-adjacent elements.
**Input**:
```
6
```
**Output**:
```
? 0 2 3 1
>

? 1 1 2 3
=

? 1 2 0 3
>
! 5 3
```
**Explanation**: The permutation is `[0, 1, 2, 3, 4, 5]`. The solution correctly identifies the indices `5` and `3`.

### Summary
These test cases cover a range of scenarios, from small to large permutations, including edge cases and basic scenarios. This ensures the solution is thoroughly tested and reliable.