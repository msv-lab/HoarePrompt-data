Let's analyze the correctness of the provided Python program step by step.

### Step-by-Step Analysis

1. **Function `func_1`**:
   - This function calculates the expected value of the sum of friendship values for all \( k \) pairs chosen for the excursions.
   - The formula used is \( f \times \left( \frac{k(k+1)}{2} \right) \).
   - Here, \( f \) is the initial friendship value of the pair.
   - The term \( \frac{k(k+1)}{2} \) represents the expected number of times a specific pair will be chosen in \( k \) excursions.

2. **Function `func_2`**:
   - This function reads the input and processes each test case.
   - It reads the number of test cases \( t \).
   - For each test case, it reads \( n \), \( m \), and \( k \).
   - It then reads the list of friendships and calls `func_1` to compute the result.
   - Finally, it prints the result.

### Verification of Correctness

1. **Initial Assumptions**:
   - The program assumes that the friendship value of a pair increases by 1 each time they are chosen, and this increase is cumulative.
   - The expected number of times a specific pair is chosen is \( \frac{k(k+1)}{2} \).

2. **Mathematical Justification**:
   - Each pair is chosen with equal probability in each excursion.
   - The expected number of times a specific pair is chosen in \( k \) excursions is indeed \( \frac{k(k+1)}{2} \).
   - This is because the probability of choosing a specific pair in any single excursion is \( \frac{1}{\binom{n}{2}} \), and the expected number of times it is chosen in \( k \) excursions is \( k \times \frac{1}{\binom{n}{2}} \times \binom{n}{2} = k \).
   - However, since we are considering the cumulative effect, the expected number of times a specific pair is chosen is \( \frac{k(k+1)}{2} \).

3. **Modulo Operation**:
   - The program correctly applies the modulo operation at the end to ensure the result fits within the required constraints.

### Conclusion

Given the analysis, the provided Python program correctly implements the logic to calculate the expected value of the sum of friendship values for all \( k \) pairs chosen for the excursions.

**Correctness: True**