The function processes multiple test cases. For each test case, it reads an integer \( n \) and a list \( a \) of length \( n \). It then counts the occurrences of each integer in \( a \) and calculates the sum of the maximum values of 0 and \( x-1 \) for each count \( x \). Finally, it prints the calculated sum for each test case.