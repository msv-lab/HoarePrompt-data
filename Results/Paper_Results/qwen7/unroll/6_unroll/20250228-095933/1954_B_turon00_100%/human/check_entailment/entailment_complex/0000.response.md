Reasoning:
1. The problem requires determining the minimum number of elements to remove from a beautiful array so that it stops being beautiful.
2. A beautiful array can be made uniform by the specified operation.
3. The annotated program correctly implements the logic to find the minimum length of contiguous segments with the same number. If no such segment exists, it outputs -1.
4. The program iterates through each test case, counts the lengths of contiguous segments with the same number, and finds the minimum length among these segments.
5. If the entire array consists of the same number or if the minimum segment length is equal to the array length, it outputs -1.
6. The logic in the program matches the problem requirements and constraints.

Correctness: **True**