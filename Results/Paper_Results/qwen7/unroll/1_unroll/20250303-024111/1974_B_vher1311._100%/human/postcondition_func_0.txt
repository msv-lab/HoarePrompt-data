The function accepts a string `encoded` and returns a new string where each character in `encoded` is replaced by its corresponding character based on a specific mapping. This mapping is defined such that characters in the sorted unique set of `encoded` (in ascending order) map to characters in the same set (in descending order).