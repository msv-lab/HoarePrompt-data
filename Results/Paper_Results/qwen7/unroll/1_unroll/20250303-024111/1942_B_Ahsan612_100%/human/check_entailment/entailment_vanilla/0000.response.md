Let's analyze the given program step by step to determine its correctness based on the problem description.

### Step-by-Step Analysis:

1. **Reading Input:**
   - The program reads the number of test cases `t`.
   - For each test case, it reads the size of the permutation `n` and the array `ar`.

2. **Initialization:**
   - A result list `res` of size `n` is initialized with `None` values.
   - A variable `mex` is initialized to `n`, which represents the MEX value for the current position in the permutation.

3. **Backward Construction:**
   - The program iterates backward through the array `ar` using a for loop.
   - For each element `ar[i]`, it calculates the corresponding value in the permutation `res[i]` as `mex - ar[i]`.
   - It then updates `mex` to be `mex - ar[i]` if this value is greater than the current `mex`.

4. **Output:**
   - The program prints the result list `res` as a space-separated string.

### Correctness Check:

#### Key Points to Verify:
1. **MEX Calculation:**
   - The MEX value should correctly reflect the smallest missing integer in the partial permutation up to that point.
   - The backward construction ensures that each `res[i]` is set to the correct value based on the MEX of the remaining elements.

2. **Update Mechanism:**
   - The update of `mex` to `mex - ar[i]` when `mex > mex - ar[i]` ensures that the MEX value is correctly adjusted for the next iteration.

3. **Permutation Validity:**
   - Each integer from 0 to `n-1` must appear exactly once in the final permutation.

### Detailed Verification:

1. **Initial MEX Value:**
   - When `i` starts from `len(ar) - 1` and goes down to 0, the initial `mex` value is `n`. This is correct because initially, no elements are considered, and the MEX is `n`.

2. **MEX Update Logic:**
   - For each `ar[i]`, the MEX value is updated to `mex - ar[i]` if `mex > mex - ar[i]`. This ensures that the MEX value is correctly adjusted based on the current value of `ar[i]`.

3. **Permutation Construction:**
   - The construction process ensures that each `res[i]` is a unique integer between 0 and `n-1` because `mex` is always updated to ensure the correct MEX value for the remaining elements.

4. **Edge Cases:**
   - The program handles the edge case where `ar[i]` might be equal to `mex`, ensuring that `mex` is correctly adjusted.

### Conclusion:

The program correctly constructs a valid permutation based on the given array `ar` and the MEX values. The logic for updating `mex` and constructing the permutation is sound and follows the problem constraints.

### Final Answer:

Correctness: **True**