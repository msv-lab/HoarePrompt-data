The function accepts a list of integers `arr` and an integer `k`. It returns a dictionary `frequency_table` where each key is a number from `arr`, and its value is the maximum occurrence of that number up to `k`. If any number's occurrence exceeds `k`, it is capped at `k`. All other keys not present in `arr` are excluded from the dictionary.