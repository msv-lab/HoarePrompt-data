Output State: `t` is 1, `u` and `v` are integers determined by user input for each iteration of the loop, `v` is an integer such that 1 ≤ v ≤ n, `n` is an integer such that 2 ≤ n ≤ 2 × 10^5; `edges` is a list containing pairs of integers representing edges between nodes, `empty` is False, `nodes` is a defaultdict where keys are integers (node IDs) and values are lists of integers (adjacent node IDs), `ends` is a list containing all the nodes that have only one adjacent node.