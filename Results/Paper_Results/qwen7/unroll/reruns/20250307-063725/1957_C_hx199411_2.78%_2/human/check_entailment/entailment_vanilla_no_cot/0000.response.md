Correctness: **True**

The provided Python program correctly implements the logic to calculate the number of different final configurations of the chessboard after the specified moves. The program handles the following aspects:

1. **Input Reading**: It reads the number of test cases and processes each test case individually.
2. **Move Tracking**: For each test case, it tracks the number of diagonal and non-diagonal moves separately.
3. **Configuration Calculation**: It calculates the number of remaining positions (non-attacking positions) on the board.
4. **Dynamic Programming**: It uses dynamic programming to compute the number of ways to place rooks in the remaining positions, considering the constraints and modulo \(10^9 + 7\).

The logic and implementation appear to be correct based on the problem description and example provided.