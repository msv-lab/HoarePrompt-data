Reasoning:
1. The problem requires determining the maximum profit Bob can obtain by selling all buns under the given promotion rules.
2. The annotated program correctly implements the logic described in the problem statement.
   - It reads the number of test cases `t`.
   - For each test case, it reads the values of `n`, `a`, and `b`.
   - It calculates `k` as `min(n, b - a)`, which is the number of buns to be sold at the modified price.
   - If `b <= a`, it prints `a * n` because selling all buns at the usual price is optimal.
   - Otherwise, it calculates the profit using the formula `b * k - k * (k - 1) // 2 + (n - k) * a`, which accounts for the reduced price of the first `k` buns and the usual price of the remaining buns.
3. The logic in the program matches the problem description and the example outputs provided.

Given the above analysis, the program is correct.

Correctness: **True**