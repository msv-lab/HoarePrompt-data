The function accepts a list `p` of integers sorted in ascending order and an integer `x` such that 1 ≤ x ≤ max(p). If `x` is greater than or equal to the last element in `p`, it returns the length of `p`. Otherwise, it performs a binary search to find the largest index `mid` in `p` where `p[mid] < x` and returns `mid`. If no such index exists, it returns 0.