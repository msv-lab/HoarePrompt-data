Postcondition: **`cur` is `R.length`, `ans` is the product of `(N - R[0] - 1)` to `(N - R[R.length-1] - 1)` modulo `MOD`, and `nums_left` is `0` if `M2 > 1`. If `M2 <= 1`, the values of `cur`, `ans`, and `nums_left` remain unchanged.**