The function accepts a starting node and a target node in a tree represented by an adjacency list. It performs a breadth-first search to find the shortest path from the starting node to the target node. If a path exists, it returns the length of the shortest path; otherwise, it returns -1.