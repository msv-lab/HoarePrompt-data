#State of the program right berfore the function call: t is an integer such that 1 ≤ t ≤ 10^4. For each test case, n is an integer such that 2 ≤ n ≤ 10^5, and a is a list of n integers where 0 ≤ a_1 < a_2 < ... < a_n ≤ 10^9. m is an integer such that 1 ≤ m ≤ 10^5, and for each query, x_i and y_i are integers such that 1 ≤ x_i, y_i ≤ n and x_i ≠ y_i.
def func():
    r = lambda : map(int, input().split())
    t, = r()
    while t:
        t -= 1
        
        r()
        
        a = -1000000000.0, *r(), 2000000000.0
        
        b = [0, 0]
        
        for w, x, y, z in zip(a, a[1:], a[2:], a[3:]):
            v = y - x
            b += b[-2] + v ** (v > x - w), b[-1] + v ** (v > z - y)
        
        u, = r()
        
        while u:
            u -= 1
            c, d = r()
            if c < d:
                print(b[(d - 1) * 2] - b[(c - 1) * 2])
            else:
                print(b[c * 2 - 1] - b[d * 2 - 1])
        
    #State: Output State: The output state will be a series of printed values resulting from the differences calculated within the nested loops based on the values generated by the lambda function `r()`.
    #
    #Explanation:
    #- The loop starts with `t` decremented by 1 each iteration until `t` becomes 0.
    #- Inside the loop, `a` is assigned a tuple containing `-1000000000.0`, three random numbers generated by `r()`, and `2000000000.0`.
    #- A list `b` is initialized as `[0, 0]`.
    #- A for loop iterates over `a` using `zip` to get consecutive elements and calculates `v` as the difference between consecutive elements.
    #- The list `b` is updated based on the condition `v ** (v > x - w)` and `v ** (v > z - y)`.
    #- Another loop with variable `u` prints the difference between elements of `b` based on the values generated by `r()`.
    #- Since the exact values of `r()` are not provided, the output will consist of differences calculated from the random numbers generated by `r()`.
    #
    #The final output state will be a sequence of printed results from these calculations, which cannot be precisely determined without knowing the specific values generated by `r()` at each step.
#Overall this is what the function does:The function processes a series of test cases, each consisting of an integer t, an integer n, a list a of n integers, an integer m, and a set of queries. For each test case, it generates a list b through a series of calculations involving the elements of list a. It then responds to each query by printing the difference between specific elements of list b. The final output consists of a sequence of printed results, which are derived from the calculations performed on the input data.

