Precondition: **t is an integer such that 1 ≤ t ≤ 10^4, and for each test case, n and m are integers such that 1 ≤ n, m ≤ 2 ⋅ 10^6.** 

However, based on the provided code snippet, it seems that the actual logic to calculate the number of valid pairs is not present in the given function `func_15`. The function `func_15` is expected to handle the calculation for a single test case, but its implementation is missing. The function `func_10` is also referenced but not defined in the provided code snippet.

Given the problem description and the function signatures, the precondition should focus on the inputs that are expected for the calculation of the number of valid pairs. Here is a more detailed precondition based on the problem statement:

Precondition: **t is an integer such that 1 ≤ t ≤ 10^4, and for each test case, n and m are integers such that 1 ≤ n, m ≤ 2 ⋅ 10^6. It is also guaranteed that the sum of n and the sum of m over all test cases does not exceed 2 ⋅ 10^6.**