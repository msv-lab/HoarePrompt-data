Reasoning:
1. The provided program correctly reads the input data and processes each test case.
2. For each test case, it calculates the residues of each element in the array with respect to `x` and `y`.
3. It uses a dictionary (`residue_map`) to keep track of the occurrences of each unique pair of residues `(r_x, r_y)`.
4. For each element in the array, it checks how many times a matching pair of residues has already been seen, which corresponds to a beautiful pair.
5. The logic for calculating residues and counting pairs is consistent with the problem statement.
6. The final results are correctly printed.

Given the execution summary and the detailed explanation of the program's functionality, the program appears to be correct according to the problem description.

Correctness: **True**