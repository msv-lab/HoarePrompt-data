Certainly! Below are comprehensive test cases for the described interactive problem. These test cases cover both basic and edge scenarios to ensure the robustness, reliability, and scalability of the solution.

### Basic Test Cases

#### Test 1
**Input**: 
```
1
4
```
**Output**: 
```
? 3
0 0
? 2
1 4
? 1
2 3
! 4 3 1 2
```
**Explanation**: This is the example provided in the problem description. It tests the basic functionality with a small graph and typical edge removals.

#### Test 2
**Input**: 
```
1
4
```
**Output**: 
```
? 3
1 0
? 0
4 2
! 4 1 2 3
```
**Explanation**: Another example from the problem description. This tests a different scenario where the graph has different edge removals.

#### Test 3
**Input**: 
```
1
2
```
**Output**: 
```
? 0
1 0
! 2 1
```
**Explanation**: Tests the smallest possible graph with only two vertices. This is a basic scenario ensuring the function can handle minimal input.

#### Test 4
**Input**: 
```
1
3
```
**Output**: 
```
? 2
1 0
? 1
2 3
! 1 2 3
```
**Explanation**: Tests a small graph with three vertices. This scenario checks the function's ability to handle a slightly larger graph.

### Edge Test Cases

#### Test 5
**Input**: 
```
1
100000
```
**Output**: 
```
? 99998
0 0
? 99997
0 0
...
? 0
1 0
! 100000 99999 ... 2 1
```
**Explanation**: Tests the maximum possible value of `n`. This is an edge case to ensure the function can handle the largest input size efficiently.

#### Test 6
**Input**: 
```
1
3
```
**Output**: 
```
? 2
0 0
? 1
1 0
? 0
2 3
! 1 2 3
```
**Explanation**: Tests a scenario where the first query does not find a vertex with the required degree, but subsequent queries do. This scenario checks the function's ability to handle cases where the graph changes after each query.

#### Test 7
**Input**: 
```
1
4
```
**Output**: 
```
? 3
1 0
? 2
0 0
? 1
2 3
! 4 3 1 2
```
**Explanation**: Tests a scenario where the graph is such that the first query finds a vertex with the required degree, but the second query does not. This checks the function's ability to handle varying degrees in the graph.

#### Test 8
**Input**: 
```
1
5
```
**Output**: 
```
? 4
0 0
? 3
0 0
? 2
1 0
? 1
2 3
? 0
4 5
! 1 2 3 4 5
```
**Explanation**: Tests a scenario where multiple queries are needed to find the correct vertices. This checks the function's ability to handle multiple iterations and varying degrees.

#### Test 9
**Input**: 
```
1
10
```
**Output**: 
```
? 8
0 0
? 7
0 0
? 6
0 0
? 5
0 0
? 4
0 0
? 3
0 0
? 2
1 0
? 1
2 3
? 0
4 5
! 1 2 3 4 5 6 7 8 9 10
```
**Explanation**: Tests a larger graph with multiple iterations. This checks the function's ability to handle a larger number of vertices and varying degrees.

#### Test 10
**Input**: 
```
2
2
3
```
**Output**: 
```
? 0
1 0
! 2 1
? 2
0 0
? 1
1 0
? 0
2 3
! 1 2 3
```
**Explanation**: Tests multiple test cases in a single input. This checks the function's ability to handle multiple test cases consecutively.

These test cases cover a wide range of scenarios, ensuring that the solution is robust, reliable, and scalable.