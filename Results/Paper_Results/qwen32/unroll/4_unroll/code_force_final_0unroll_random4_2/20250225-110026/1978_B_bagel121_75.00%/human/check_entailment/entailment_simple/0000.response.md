### Reasoning:

Let's break down the program to see if it correctly computes the maximum profit Bob can obtain by selling all n buns under the given promotion rules.

1. **Input Handling**:
   - The program first reads an integer `t` which represents the number of test cases.
   - For each test case, it reads three integers `n`, `a`, and `b`.

2. **Logic for Maximum Profit**:
   - If `a >= b`, it means the usual price of a bun is greater than or equal to the price of the first bun under the promotion. In this case, Bob should not use the promotion because selling all buns at the usual price `a` will yield the maximum profit.
     - The profit in this case is simply `n * a`.
   - If `a < b`, Bob should consider using the promotion. The profit from the promotion can be maximized by selling as many buns as possible at the decreasing price until the price drops below or equals the usual price `a`.
     - The maximum number of buns `k` that can be sold at the promotional price is `min(b - a + 1, n)`.
     - The profit from the first `k` buns sold at the promotional price is the sum of an arithmetic series: `(b + (b - k + 1)) / 2 * k`.
     - The profit from the remaining `n - k` buns sold at the usual price is `(n - k) * a`.
     - The total profit is the sum of these two profits.

3. **Output**:
   - For each test case, the program prints the maximum profit calculated based on the above logic.

### Verification Against Test Cases:

Let's verify the program against the provided test cases:

1. **Test Case 1**:
   - `n = 4`, `a = 4`, `b = 5`
   - Since `a < b`, calculate `k = min(5 - 4 + 1, 4) = 2`.
   - Profit from first 2 buns: `(5 + (5 - 2 + 1)) / 2 * 2 = 9`.
   - Profit from remaining 2 buns: `(4 - 2) * 4 = 8`.
   - Total profit: `9 + 8 = 17`.
   - The program correctly outputs `17`.

2. **Test Case 2**:
   - `n = 5`, `a = 5`, `b = 9`
   - Since `a < b`, calculate `k = min(9 - 5 + 1, 5) = 5`.
   - Profit from first 5 buns: `(9 + (9 - 5 + 1)) / 2 * 5 = 35`.
   - Profit from remaining 0 buns: `0`.
   - Total profit: `35`.
   - The program correctly outputs `35`.

3. **Test Case 3**:
   - `n = 10`, `a = 10`, `b = 5`
   - Since `a >= b`, the profit is `10 * 10 = 100`.
   - The program correctly outputs `100`.

4. **Test Case 4**:
   - `n = 5`, `a = 5`, `b = 11`
   - Since `a < b`, calculate `k = min(11 - 5 + 1, 5) = 5`.
   - Profit from first 5 buns: `(11 + (11 - 5 + 1)) / 2 * 5 = 45`.
   - Profit from remaining 0 buns: `0`.
   - Total profit: `45`.
   - The program correctly outputs `45`.

5. **Test Case 5**:
   - `n = 1000000000`, `a = 1000000000`, `b = 1000000000`
   - Since `a >= b`, the profit is `1000000000 * 1000000000`.
   - The program correctly outputs `1000000000000000000`.

6. **Test Case 6**:
   - `n = 1000000000`, `a = 1000000000`, `b = 1`
   - Since `a >= b`, the profit is `1000000000 * 1000000000`.
   - The program correctly outputs `1000000000000000000`.

7. **Test Case 7**:
   - `n = 1000`, `a = 1`, `b = 1000`
   - Since `a < b`, calculate `k = min(1000 - 1 + 1, 1000) = 1000`.
   - Profit from first 1000 buns: `(1000 + (1000 - 1000 + 1)) / 2 * 1000 = 500500`.
   - Profit from remaining 0 buns: `0`.
   - Total profit: `500500`.
   - The program correctly outputs `500500`.

### Conclusion:

The program correctly computes the maximum profit for each test case as per the problem description and the annotated states. Therefore, the correctness of the program is:

**Correctness: True**