Functionality: **The function `func` does not accept any input parameters. It interacts with the system through standard input to receive multiple test cases, each starting with an integer `n` (2 ≤ n ≤ 10^5) representing the number of vertices in a graph. The function can make up to `n` queries of the form "? d" (0 ≤ d ≤ n - 1) to gather information about the graph. After gathering the necessary information, the function outputs a Hamiltonian path for each test case in the format "! v_1 v_2 ... v_n". The sum of `n` over all test cases does not exceed 10^5.**