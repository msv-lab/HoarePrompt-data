The function `sol` is intended to take a list of test cases where each test case is represented as a tuple containing an integer `n` (1 ≤ n ≤ 3 · 10^5) and an integer `k` (0 ≤ k ≤ n) representing the size of the chessboard and the number of moves already played, respectively. Following these integers, there are `k` pairs of integers `(r_i, c_i)` (1 ≤ r_i, c_i ≤ n) representing the positions of the rooks placed by the player in the i-th move. It is guaranteed that the k moves and the implied computer moves are valid, and the sum of n over all test cases does not exceed 3 · 10^5.