Let's analyze the provided program and determine if it correctly solves the problem based on the given description and example inputs.

### Problem Analysis

The problem requires calculating the expected value of the sum of friendship values of all pairs chosen for excursions. The expected value can be expressed as a fraction \(\frac{p}{q}\), and we need to output \(p \cdot q^{-1} \bmod (10^9+7)\).

### Key Points

1. **Total number of pairs**: For \(n\) children, there are \(\frac{n(n-1)}{2}\) possible pairs.
2. **Probability of choosing a friend pair**: If there are \(m\) friend pairs, the probability of choosing a friend pair in any excursion is \(\frac{m}{\frac{n(n-1)}{2}}\).
3. **Expected value calculation**:
   - For each excursion, the expected sum of friendship values is the sum of the current friendship values of all friend pairs plus the expected increase in friendship values of the chosen friend pair.
   - The expected increase in friendship values of the chosen friend pair is the probability of choosing a friend pair times the number of excursions left, since each chosen friend pair increases its value by 1.
   - The expected value for all excursions is the sum of these expected values.

### Program Analysis

Let's go through the program line by line and see if it correctly implements the above logic.

```python
def func():
    for i in range(int(input())):
        n, m, k = map(int, input().split())
        
        M = 10 ** 9 + 7
        
        c = pow(n * (n - 1) // 2, -1, M)  # c is the modular inverse of the total number of pairs
        
        s = 0  # This will store the final expected value
        
        a = 0  # This will store the sum of initial friendship values of all friend pairs
        
        for i in range(m):
            u, v, f = map(int, input().split())
            a += f  # Summing up the initial friendship values
        
        for i in range(k):
            s = s + c * i * c * m + c * a  # This line seems incorrect
        
        print(s % M)
```

### Issues in the Program

1. **Incorrect Calculation in the Loop**:
   - The line `s = s + c * i * c * m + c * a` is incorrect. The expected value calculation should consider the probability of choosing a friend pair and the increase in friendship values.
   - The correct expected value for each excursion should be the sum of the current friendship values plus the expected increase in friendship values of the chosen friend pair.

2. **Correct Calculation**:
   - The correct expected value for each excursion can be calculated as:
     \[
     E = \sum_{j=1}^{k} \left( \text{current sum of friendship values} + \frac{m}{\frac{n(n-1)}{2}} \cdot j \right)
     \]
   - This can be simplified to:
     \[
     E = k \cdot \text{current sum of friendship values} + \frac{m}{\frac{n(n-1)}{2}} \cdot \frac{k(k-1)}{2}
     \]

### Corrected Program

Here is the corrected version of the program:

```python
def func():
    for i in range(int(input())):
        n, m, k = map(int, input().split())
        
        M = 10 ** 9 + 7
        
        c = pow(n * (n - 1) // 2, -1, M)  # c is the modular inverse of the total number of pairs
        
        s = 0  # This will store the final expected value
        
        a = 0  # This will store the sum of initial friendship values of all friend pairs
        
        for i in range(m):
            u, v, f = map(int, input().split())
            a += f  # Summing up the initial friendship values
        
        # Correct expected value calculation
        s = (k * a) % M + (m * k * (k - 1) // 2 * c) % M
        s %= M
        
        print(s)

# Example usage:
# func()
```

### Conclusion

The original program is incorrect due to the incorrect calculation of the expected value. The corrected program provided above fixes this issue.

**Correctness: False**