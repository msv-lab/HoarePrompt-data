Functionality: **The function processes multiple test cases, each consisting of an integer `n` and a list of `n` integers. For each test case, it calculates and prints the number of ways to choose three integers from the list such that they are all the same, plus the number of ways to choose two integers that are the same and one that is different, considering certain constraints. If `n` is less than 3, it prints 0.**