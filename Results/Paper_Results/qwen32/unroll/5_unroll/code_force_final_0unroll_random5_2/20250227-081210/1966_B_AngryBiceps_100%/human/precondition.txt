t is a positive integer such that 1 <= t <= 10^4. For each test case, n and m are positive integers such that 1 <= n, m <= 500. The grid is represented by a list of n strings, each of length m, consisting only of the characters 'W' and 'B'. The sum of n * m across all test cases does not exceed 3 * 10^5.