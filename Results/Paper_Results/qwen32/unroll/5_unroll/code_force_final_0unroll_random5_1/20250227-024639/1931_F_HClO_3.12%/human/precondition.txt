t is an integer such that 1 <= t <= 10^4. test_cases is a list of tuples where each tuple represents a test case and is structured as (n, k, screenshots). For each test case, n is an integer such that 1 <= n <= 2 * 10^5, k is an integer such that 1 <= k <= n, and screenshots is a list of lists where each inner list contains n distinct integers each in the range 1 to n. The sum of n * k across all test cases does not exceed 2 * 10^5.