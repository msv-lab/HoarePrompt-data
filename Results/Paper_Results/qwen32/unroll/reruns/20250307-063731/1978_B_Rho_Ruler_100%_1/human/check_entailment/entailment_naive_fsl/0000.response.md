To determine the correctness of the provided program, we need to ensure that it calculates the maximum profit Bob can obtain by selling all \( n \) buns according to the given promotion rules.

### Analysis of the Provided Code

The provided code consists of two functions:

1. **`func_1(k, n, a, b)`**: This function calculates the profit if Bob sells the first \( k \) buns at the modified price and the remaining \( n - k \) buns at the usual price.
2. **`func_2(n, a, b)`**: This function uses binary search to find the value of \( k \) that maximizes the profit by comparing the profit for \( k \) and \( k + 1 \).

#### Function `func_1(k, n, a, b)`

The formula used in `func_1` is:
\[ \text{profit} = k \cdot b - \frac{k \cdot (k - 1)}{2} + (n - k) \cdot a \]

This formula correctly calculates the profit by:
- Selling the first \( k \) buns at prices \( b, b-1, b-2, \ldots, b-k+1 \).
- Selling the remaining \( n - k \) buns at the usual price \( a \).

#### Function `func_2(n, a, b)`

The function `func_2` performs a binary search to find the maximum profit:
- It initializes the range for \( k \) as \( [0, \min(n, b)] \).
- It iteratively narrows down the range by comparing the profit for \( k \) and \( k + 1 \).
- It updates the maximum profit found during the search.

### Verification

Let's verify the correctness of the code by checking if it handles various edge cases and examples provided in the problem description.

#### Edge Cases:
1. **\( k = 0 \)**: All buns are sold at the usual price \( a \).
2. **\( k = n \)**: All buns are sold at the modified price.
3. **\( b < n \)**: The maximum \( k \) is limited by \( b \).
4. **\( a = b \)**: The profit calculation should handle the case where the usual price and modified price are the same.
5. **Large values of \( n, a, b \)**: The code should handle large inputs efficiently.

#### Test Cases:
1. **Input**: \( n = 4, a = 4, b = 5 \)
   - Expected Output: 17
   - Explanation: Selling 1 bun at 5 coins and the remaining 3 buns at 4 coins each.
2. **Input**: \( n = 5, a = 5, b = 9 \)
   - Expected Output: 35
   - Explanation: Selling all 5 buns at modified prices.
3. **Input**: \( n = 10, a = 10, b = 5 \)
   - Expected Output: 100
   - Explanation: Selling all buns at the usual price.
4. **Input**: \( n = 5, a = 5, b = 11 \)
   - Expected Output: 45
   - Explanation: Selling all 5 buns at modified prices.
5. **Input**: \( n = 1000000000, a = 1000000000, b = 1000000000 \)
   - Expected Output: 1000000000000000000
   - Explanation: Selling all buns at the usual price.
6. **Input**: \( n = 1000000000, a = 1000000000, b = 1 \)
   - Expected Output: 1000000000000000000
   - Explanation: Selling all buns at the usual price.
7. **Input**: \( n = 1000, a = 1, b = 1000 \)
   - Expected Output: 500500
   - Explanation: Selling all 1000 buns at modified prices.

### Conclusion

The provided code correctly handles the problem requirements and all the test cases mentioned. It efficiently finds the maximum profit using binary search and correctly calculates the profit for different values of \( k \).

Therefore, the correctness of the program is:

Correctness: **True**

Explanation: The code correctly implements the logic to calculate the maximum profit by selling buns according to the given promotion rules and handles all edge cases and test cases as expected.