Precondition: **user_function is a callable function, and repr_running is a set that keeps track of some representation of the running state or inputs of user_function.**