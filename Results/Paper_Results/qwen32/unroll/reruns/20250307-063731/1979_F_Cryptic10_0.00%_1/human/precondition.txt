t is an integer such that 1 <= t <= 1000. For each test case, n is an integer such that 2 <= n <= 10^5. The sum of n over all test cases does not exceed 10^5. The function `query(d)` can be called no more than n times for each test case, where d is an integer such that 0 <= d <= n - 1.