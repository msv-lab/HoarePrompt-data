The function `func_18` takes a sorted list of integers `p` and an integer `x` as input. It returns the last index in `p` where the element is less than or equal to `x`. If `x` is less than the smallest element in `p`, it returns -1.