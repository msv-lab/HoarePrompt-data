The function `func_4` processes a series of test cases to determine the maximum profit that can be achieved. For each test case, it evaluates a list of items, each associated with a price and a bonus, to optimize the profit under the constraint of selecting up to `k` items. It calculates the maximum possible profit by strategically choosing items and adjusting the profit based on their prices and bonuses. The final output for each test case is the maximum profit found.