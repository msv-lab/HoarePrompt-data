### Reasoning:

The provided Python program aims to solve the problem by precomputing the number of possible final configurations for a given `n` using dynamic programming. Here's a step-by-step breakdown of the logic and correctness:

1. **Dynamic Programming Setup**:
   - The program initializes a list `dp` of size 300007 with all elements set to -1.
   - It then calls `func_1(300000)` to fill this `dp` array using a specific recursive formula.

2. **Recursive Formula**:
   - The base cases are defined as `dp[1] = 1` and `dp[2] = 3`.
   - For `i >= 3`, the formula used is `dp[i] = (dp[i - 1] + 2 * (i - 1) * dp[i - 2]) % 1000000007`.

3. **Processing Each Test Case**:
   - For each test case, the program reads `n` (size of the chessboard) and `k` (number of moves already played).
   - It then reads `k` pairs of `(r, c)` representing the positions of the rooks already placed.
   - It calculates the number of invalid rows and columns by adding `r` and `c` to a set called `invalid`.
   - Finally, it prints the value `dp[n - len(invalid)]`, ensuring that the result is at least 1.

4. **Execution Summary**:
   - The execution summary confirms that `func_1` correctly computes the `dp` values up to `n = 300000` using the given recursive formula.

### Analysis:

- **Correctness of the Recursive Formula**: The recursive formula seems to be derived from combinatorial principles related to the problem, but without deriving the formula independently, we assume it is correct based on the problem constraints and the execution summary.
- **Handling Invalid Positions**: The program correctly identifies invalid rows and columns by adding `r` and `c` to the `invalid` set.
- **Modulo Operation**: The program ensures that all calculations are done modulo `10^9 + 7`, which is necessary due to the large possible values of `n`.

### Conclusion:

Given the assumptions and the provided execution summary, the program appears to correctly implement the solution to the problem. Therefore, the correctness of the program is:

**Correctness: True**