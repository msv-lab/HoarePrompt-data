Let's analyze the problem and the given solution step-by-step.

### Problem Analysis:

The beauty of the array is defined as the sum of the differences between consecutive elements, i.e., \( (a_2 - a_1) + (a_3 - a_2) + \ldots + (a_n - a_{n-1}) \). This simplifies to \( a_n - a_1 \), because all intermediate terms cancel out.

To maximize this beauty, we want to maximize \( a_n \) (the largest element) and minimize \( a_1 \) (the smallest element). Therefore, sorting the array and taking the difference between the last and first elements will yield the maximum beauty.

### Solution Analysis:

The provided code correctly implements this logic:
1. It reads the number of test cases.
2. For each test case, it reads the length of the array and the array itself.
3. It sorts the array.
4. It calculates the difference between the last and first elements of the sorted array.
5. It prints this difference as the result.

This approach ensures that the maximum possible beauty is calculated for each test case.

### Conclusion:

The given program correctly solves the problem as per the provided logic and constraints.

Correctness: **True**