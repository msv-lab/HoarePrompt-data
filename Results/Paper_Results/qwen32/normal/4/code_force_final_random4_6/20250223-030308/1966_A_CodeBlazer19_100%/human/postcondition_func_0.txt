The function processes `t` test cases, each consisting of integers `n` and `k`, and a list `c` of `n` integers. For each test case, it determines if the highest frequency of any integer in `c` is at least `k`. If so, it outputs `k - 1`; otherwise, it outputs `n`.