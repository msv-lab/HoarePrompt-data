Functionality: **The function `func_1` accepts multiple test cases, each defined by an integer `n` (3 ≤ n ≤ 10^5) representing the length of a permutation `p`. The first line of the input contains a single integer `t` (1 ≤ t ≤ 10^3) indicating the number of test cases. For each test case, the function processes the permutation `p` and returns a specific value or result based on the properties of `p`. The sum of `n` over all test cases does not exceed 10^5.**