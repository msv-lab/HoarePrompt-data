Functionality: **The function `func_1` processes a series of operations to build and modify an internal array. It then answers a series of queries by returning the elements from this array based on the query indices. Each operation either appends a value to the array or duplicates the entire array. Each query specifies an index, and the function returns the element at that index in the final array, using modulo arithmetic to handle indices larger than the array size.**