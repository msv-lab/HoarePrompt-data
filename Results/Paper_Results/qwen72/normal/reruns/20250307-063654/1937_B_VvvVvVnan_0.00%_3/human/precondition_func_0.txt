The function should take three parameters: t (an integer representing the number of test cases, where 1 ≤ t ≤ 10^4), a list of n values for each test case (where 2 ≤ n ≤ 2 × 10^5), and a list of 2D binary strings (each of length n) representing the 2 × n grid for each test case. The sum of all n values across all test cases does not exceed 2 × 10^5.