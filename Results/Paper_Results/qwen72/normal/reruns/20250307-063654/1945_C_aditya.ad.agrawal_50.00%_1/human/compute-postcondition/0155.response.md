Functionality: ** The function `func` processes multiple test cases, each containing an integer `n` (3 ≤ n ≤ 3·10^5) representing the number of houses, and a string `a` of length `n` consisting only of '0' and '1', where '0' indicates a resident's preference to live on the left side and '1' indicates a preference to live on the right side. For each test case, the function computes and prints the position `pos` that minimizes the absolute difference between the number of houses on the left and right sides while ensuring that the number of residents on the left side who prefer to live on the left is at least half of the total residents on the left, and the number of residents on the right side who prefer to live on the right is at least half of the total residents on the right. The function handles up to 2·10^4 test cases, and the sum of `n` over all test cases does not exceed 3·10^5. After processing all test cases, the function terminates with `t` being 0. **