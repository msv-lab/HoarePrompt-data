The function `sol` is expected to read input from stdin and write output to stdout. The input consists of multiple test cases, each with an array `a` of integers and a set of queries. For each test case, `n` is the length of the array `a` (2 ≤ n ≤ 2 · 10^5), and the elements of `a` are integers (1 ≤ a_i ≤ 10^6). The number of queries `q` for each test case is (1 ≤ q ≤ 2 · 10^5), and each query is defined by two integers `l` and `r` (1 ≤ l < r ≤ n). The sum of `n` and `q` across all test cases does not exceed 2 · 10^5.