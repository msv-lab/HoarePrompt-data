Output State: **The function `func` is expected to handle multiple test cases for an undirected weighted graph. Each test case includes a graph defined by the number of vertices `n` and the number of edges `m`, where 3 ≤ n ≤ m ≤ min(n·(n - 1)/2, 2·10^5). The edges are represented by tuples (u, v, w) where 1 ≤ u, v ≤ n, u ≠ v, and 1 ≤ w ≤ 10^6, indicating an edge between vertices u and v with weight w. The graph does not contain loops or multiple edges between the same pair of vertices. The number of test cases `t` is an integer such that 1 ≤ t ≤ 10^4, and the sum of the values of m across all test cases does not exceed 2·10^5. The recursion limit has been set to 10^6.**