The function `func` is expected to handle multiple test cases, where each test case contains two integers n and k such that 2 ≤ n ≤ 10^6 and 1 ≤ k ≤ n. The number of test cases t is an integer such that 1 ≤ t ≤ 1000, and the sum of n over all test cases does not exceed 10^7.