Output State: `char_map` is a dictionary where each unique character from `encoded` is mapped to the corresponding character from the end of the `unique_chars` list, in reverse order. The `unique_chars` list remains unchanged, and `len_unique` remains the same as the length of `unique_chars`.