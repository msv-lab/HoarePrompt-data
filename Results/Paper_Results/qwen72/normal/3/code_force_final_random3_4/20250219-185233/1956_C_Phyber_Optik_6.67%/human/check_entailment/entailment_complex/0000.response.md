### Reasoning:

1. **Problem Understanding**:
   - The goal is to maximize the sum of all elements in an \( n \times n \) matrix using at most \( 2n \) operations.
   - The operations allowed are:
     - Type 1: Choose a row \( i \) and a permutation \( p \) of integers from 1 to \( n \), and assign \( a_{i, j} := p_j \) for all \( 1 \le j \le n \).
     - Type 2: Choose a column \( i \) and a permutation \( p \) of integers from 1 to \( n \), and assign \( a_{j, i} := p_j \) for all \( 1 \le j \le n \).

2. **Maximum Sum Calculation**:
   - The maximum sum of the matrix can be achieved by filling the matrix with the maximum possible values, which are the integers from 1 to \( n \) repeated \( n \) times.
   - The sum of the first \( n \) natural numbers is \( \frac{n(n + 1)}{2} \).
   - Therefore, the maximum sum of the matrix is \( n \times \frac{n(n + 1)}{2} = \frac{n^2(n + 1)}{2} \).

3. **Program Analysis**:
   - The function `func` reads the number of test cases \( t \) and processes each test case.
   - For each test case, it reads the matrix size \( n \).
   - It initializes `sum` and `r` to 0.
   - It then iterates from 1 to \( n \) and updates `sum` and `r` based on a condition:
     - If \( \frac{n(n + 1)}{2} > i \times n \), it sets `r` to \( i \) and adds \( \frac{n(n + 1)}{2} \) to `sum`.
     - Otherwise, it adds \( i \times n \) to `sum`.
   - This condition is not necessary for maximizing the sum. The maximum sum can be directly calculated as \( \frac{n^2(n + 1)}{2} \).
   - The function prints `sum` and `n + r`.
   - It then prints a series of operations:
     - For the first \( n \) operations, it prints Type 1 operations for each row, setting the row to the permutation \( [1, 2, \ldots, n] \).
     - For the next \( r \) operations, it prints Type 2 operations for each column, setting the column to the permutation \( [1, 2, \ldots, n] \).

4. **Correctness Check**:
   - The program does not correctly compute the maximum sum. The correct maximum sum for an \( n \times n \) matrix filled with the permutation \( [1, 2, \ldots, n] \) is \( \frac{n^2(n + 1)}{2} \).
   - The number of operations \( n + r \) is also not correctly computed. The program should ensure that the number of operations does not exceed \( 2n \).

### Conclusion:
The program does not correctly compute the maximum sum and the number of operations. Therefore, the correctness of the program is:

Correctness: **False**