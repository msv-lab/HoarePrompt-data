Precondition: **The function `func` is expected to handle multiple test cases, where each test case includes an integer n representing the number of piles, and a list of n integers representing the number of stones in each pile. The function should be able to process an input t (1 ≤ t ≤ 10^4) indicating the number of test cases, and for each test case, n (1 ≤ n ≤ 2·10^5) and the list of integers a_1, a_2, ..., a_n (1 ≤ a_i ≤ 10^9). The sum of n over all test cases does not exceed 2·10^5.**