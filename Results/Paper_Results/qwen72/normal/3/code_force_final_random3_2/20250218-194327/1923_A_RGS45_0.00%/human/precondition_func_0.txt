The function `func` is expected to handle multiple test cases. Each test case includes an integer `n` (2 ≤ n ≤ 50) representing the number of cells in the ribbon, and a list of integers `a` of length `n` where each element is either 0 (free cell) or 1 (cell with a chip). Additionally, at least one cell in each test case contains a chip. The function should be able to process a list of such test cases, where the number of test cases `t` is an integer (1 ≤ t ≤ 1000).