n is an integer such that 2 <= n <= 24. The input is a list of n strings, each of length n, where each character is either 'F', 'S', '?', or '.'. The character at the i-th row and j-th column is the same as the character at the j-th row and i-th column for all i and j, and the diagonal characters (i.e., the i-th character of the i-th string) are always '.'. At most \lfloor \frac{n}{2} \rfloor transition videos are already decided, meaning there are at most 2\lfloor \frac{n}{2} \rfloor 'F' or 'S' characters in the input.