The function `solve` is expected to read input from stdin and write output to stdout. The input consists of multiple test cases, where the first line contains an integer t (1 ≤ t ≤ 5000) representing the number of test cases. Each test case consists of two lines: the first line contains an integer n (2 ≤ n ≤ 50) representing the number of friends, and the second line contains n integers p_1, p_2, ..., p_n (1 ≤ p_i ≤ n; p_i ≠ i; all p_i are distinct) representing the best friends of each friend. The function should output the minimum number of invitations required for each test case.