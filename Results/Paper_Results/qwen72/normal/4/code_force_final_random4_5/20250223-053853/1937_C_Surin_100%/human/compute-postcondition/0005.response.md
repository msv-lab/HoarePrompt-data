Functionality: ** The function `func` operates within an interactive environment to solve multiple test cases. For each test case, it takes an integer `n` (2 ≤ n ≤ 10^4) as input and makes at most 3n queries to find and print two indices `prev` and `v1` such that the bitwise XOR of the elements at these indices in a secret permutation `p` of integers from 0 to n-1 is maximized. After processing all test cases, the function ensures that the sum of `n` over all test cases does not exceed 10^4. The function does not return any value but prints the results in the format `! {prev} {v1}` for each test case. **