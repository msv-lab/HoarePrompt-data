The function `func` accepts multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`. The number of test cases `t` is a positive integer such that 1 ≤ t ≤ 10^4. For each test case:

- `n` is an integer representing the length of the permutation `p` and the array `a`, where 1 ≤ P_B, P_S ≤ n ≤ 2 · 10^5.
- `k` is an integer where 1 ≤ k ≤ 10^9.
- `P_B` and `P_S` are integers where 1 ≤ P_B, P_S ≤ n.
- `p` is a permutation of length `n` with elements 1 ≤ p_i ≤ n.
- `a` is an array of length `n` with elements 1 ≤ a_i ≤ 10^9.

The sum of values of `n` over all test cases does not exceed 2 · 10^5.

The function returns a result for each test case based on the input parameters, but the specific output is not provided in the constraints. Therefore, the functionality of the function `func` is to process multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`, and return a result for each test case.

Functionality: **The function processes multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`, and returns a result for each test case.**