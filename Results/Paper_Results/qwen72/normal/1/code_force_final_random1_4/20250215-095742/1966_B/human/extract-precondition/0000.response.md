Precondition: **t is an integer such that 1 ≤ t ≤ 10^4, representing the number of test cases. Each test case consists of two integers n and m (1 ≤ n, m ≤ 500), representing the dimensions of the grid, followed by n lines, each containing m characters 'W' or 'B', representing the colors of the grid cells. The total number of cells across all test cases does not exceed 3 × 10^5.**