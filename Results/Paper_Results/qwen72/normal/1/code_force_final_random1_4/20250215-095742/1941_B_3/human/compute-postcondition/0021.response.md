The function `func` is designed to process multiple test cases. It accepts no direct parameters within its definition but expects input in a specific structure when called. For each test case, it receives an integer `n` (where 3 ≤ n ≤ 2 · 10^5) indicating the size of an array, followed by a list of `n` integers (each between 0 and 10^9). The function processes each test case according to the given constraints and requirements.

Functionality: **The function processes multiple test cases, each defined by an integer `n` and a list of `n` integers. It returns the result of processing each test case, adhering to the constraints that 1 ≤ t ≤ 10^4 for the number of test cases, 3 ≤ n ≤ 2 · 10^5 for the size of the array, and 0 ≤ a_j ≤ 10^9 for the elements of the array. The total sum of `n` across all test cases does not exceed 2 · 10^5.**