Output State: **After the loop has executed all iterations, `idx` will be `3 + t * (n + 2 * q + 2)`, `results` will contain 'YES' or 'NO' for each query based on the conditions evaluated in the loop, followed by `t` empty strings at the end. The variables `t`, `data`, `n`, `q`, `a`, `pf`, and `mp` will remain unchanged for each iteration but will be reset for the next test case.**

### Explanation:
- **`idx`**: The index `idx` is incremented by `3 + n + 2 * q` for each test case. Since there are `t` test cases, the final value of `idx` will be `3 + t * (n + 2 * q + 2)`.
- **`results`**: For each test case, the loop appends 'YES' or 'NO' for each query and an additional empty string at the end. After `t` test cases, `results` will contain the results of all queries followed by `t` empty strings.
- **Other Variables**: The variables `t`, `data`, `n`, `q`, `a`, `pf`, and `mp` are reset for each test case, so they will remain unchanged for each iteration but will be re-initialized for the next test case.