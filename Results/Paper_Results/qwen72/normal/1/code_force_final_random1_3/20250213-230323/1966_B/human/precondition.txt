t is an integer such that 1 ≤ t ≤ 10^4, representing the number of test cases. For each test case, n and m are integers such that 1 ≤ n, m ≤ 500, representing the dimensions of the grid. The grid is represented by n lines, each containing m characters 'W' or 'B', indicating the initial colors of the grid cells. The total number of cells across all test cases does not exceed 3 * 10^5.