The function `func` reads an integer `t` indicating the number of test cases. For each test case, it reads an integer `n` representing the number of houses and a string `s` of length `n` consisting of '0' and '1'. The function then calculates and prints the smallest index (starting from 0) where the percentage of '0's up to that index and the percentage of '1's from that index to the end of the string are both at least 50%. If no such index exists, it prints 0 if the overall percentage of '1's is at least 50%, otherwise, it prints `n`.