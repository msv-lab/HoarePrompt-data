The function `func` reads an integer `t` indicating the number of test cases. For each test case, it reads an integer `n` and a list of `n` integers `a`. The function checks if the list `a` is non-decreasing. If it is, the function prints 'YES'. If not, it checks if the list can be split into two parts such that the second part is non-decreasing and all elements in the second part are less than or equal to the first element of the original list. If both conditions are met, it prints 'YES'; otherwise, it prints 'NO'. This process is repeated for each of the `t` test cases. After processing all test cases, the function has printed 'YES' or 'NO' for each test case based on the conditions described.