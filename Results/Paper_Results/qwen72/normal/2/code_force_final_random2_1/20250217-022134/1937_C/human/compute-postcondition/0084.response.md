Postcondition: **`n` must be greater than 1, `I` is defined, `R` is defined, `kp` is 1, `g` is 0, `v1` is `n-1`, `v2` is `n-1`, `r` is the new user input, the output buffer has been flushed, `prev` is 0, and the current value of `r` is '>'**.