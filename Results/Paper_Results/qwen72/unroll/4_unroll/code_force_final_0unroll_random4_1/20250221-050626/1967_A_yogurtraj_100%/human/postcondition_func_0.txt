The function `func` reads multiple test cases from standard input (stdin). Each test case consists of an integer `n` and an integer `k`, followed by a list of `n` integers. For each test case, the function computes and prints a single integer result. The result is calculated based on the sorted list of integers and the value of `k`, ensuring that the distribution of `k` among the integers is maximized in a specific way. After processing all test cases, the function terminates, and the variables used within the function are no longer in scope.