### Reasoning:

1. **Understanding the Problem:**
   - The goal is to maximize the sum of all elements in an \( n \times n \) matrix using no more than \( 2n \) operations.
   - Each operation can either fill a row or a column with a permutation of integers from 1 to \( n \).

2. **Analyzing the Program:**
   - The program reads the number of test cases \( t \) and then processes each test case.
   - For each test case, it reads the size of the matrix \( n \).
   - It initializes a matrix `mat` with each row being a permutation of integers from 1 to \( n \).
   - It calculates the maximum possible sum `res` using the formula \( \sum_{i=0}^{n-1} (i + 1) \times (2 \times i + 1) \).
   - It prints the maximum sum `res` and the number of operations \( 2n \).
   - It then prints \( 2n \) operations, where for each \( i \) from \( n \) to 1:
     - It prints a Type 1 operation for row \( i \) with the permutation \( [1, 2, \ldots, n] \).
     - It prints a Type 2 operation for column \( i \) with the permutation \( [1, 2, \ldots, n] \).

3. **Checking the Formula for Maximum Sum:**
   - The formula \( \sum_{i=0}^{n-1} (i + 1) \times (2 \times i + 1) \) is used to calculate the maximum sum.
   - Let's break down the formula:
     - For \( i = 0 \): \( (0 + 1) \times (2 \times 0 + 1) = 1 \times 1 = 1 \)
     - For \( i = 1 \): \( (1 + 1) \times (2 \times 1 + 1) = 2 \times 3 = 6 \)
     - For \( i = 2 \): \( (2 + 1) \times (2 \times 2 + 1) = 3 \times 5 = 15 \)
     - For \( i = 3 \): \( (3 + 1) \times (2 \times 3 + 1) = 4 \times 7 = 28 \)
     - And so on.
   - The sum of these values for \( n = 2 \) is \( 1 + 6 = 7 \), which matches the example provided.

4. **Checking the Operations:**
   - The program prints \( 2n \) operations, which is within the allowed limit.
   - Each Type 1 operation fills a row with the permutation \( [1, 2, \ldots, n] \).
   - Each Type 2 operation fills a column with the permutation \( [1, 2, \ldots, n] \).
   - Since each row and each column will be filled with the permutation \( [1, 2, \ldots, n] \), the matrix will be filled with the maximum possible values.

5. **Conclusion:**
   - The program correctly calculates the maximum sum and prints the operations to achieve it.
   - The number of operations is \( 2n \), which is within the allowed limit.
   - The operations ensure that each row and each column is filled with the permutation \( [1, 2, \ldots, n] \), maximizing the sum.

### Correctness:
Correctness: **True**