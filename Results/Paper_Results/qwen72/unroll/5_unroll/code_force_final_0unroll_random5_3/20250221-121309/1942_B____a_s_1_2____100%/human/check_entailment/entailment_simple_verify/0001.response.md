### Reasoning:

1. **Understanding the Problem**:
   - The problem requires reconstructing a permutation `p` from an array `a` where each element `a_i` is defined as `a_i = MEX(p_1, p_2, ..., p_i) - p_i`.
   - The MEX of an array is the smallest non-negative integer not present in the array.

2. **Reconstructing the Permutation**:
   - The key observation is that `p_i` can be derived from `a_i` using the formula:
     \[
     p_i = MEX(p_1, p_2, ..., p_i) - a_i
     \]
   - To find `MEX(p_1, p_2, ..., p_i)`, we need to keep track of the smallest non-negative integer not yet used in the permutation up to index `i`.

3. **Algorithm**:
   - The program initializes `mex` to `n` (the maximum possible value for MEX in the permutation).
   - It iterates from the last element to the first element of `a` (i.e., from `n-1` to `0`).
   - For each `i`, it sets `p[i]` to `mex - a[i]`.
   - It updates `mex` to be the minimum of `mex` and `p[i]` to ensure that `mex` is the smallest non-negative integer not yet used in the permutation up to index `i`.

4. **Verification**:
   - **Correctness of MEX Calculation**:
     - The program correctly updates `mex` to be the minimum of `mex` and `p[i]` at each step. This ensures that `mex` is always the smallest non-negative integer not yet used in the permutation up to the current index.
   - **Permutation Validity**:
     - The program ensures that `p` is a valid permutation by always assigning the smallest possible value that is not yet used in the permutation.
   - **Example Verification**:
     - For the input `a = [1, 1, -2, 1, 2]`:
       - `i = 4`: `p[4] = 5 - 2 = 3`, `mex = min(5, 3) = 3`
       - `i = 3`: `p[3] = 3 - 1 = 2`, `mex = min(3, 2) = 2`
       - `i = 2`: `p[2] = 2 - (-2) = 4`, `mex = min(2, 4) = 2`
       - `i = 1`: `p[1] = 2 - 1 = 1`, `mex = min(2, 1) = 1`
       - `i = 0`: `p[0] = 1 - 1 = 0`, `mex = min(1, 0) = 0`
     - The resulting permutation `p = [0, 1, 4, 2, 3]` is valid and matches the example provided.

5. **Edge Cases**:
   - **Single Element Case**:
     - If `n = 1`, the program correctly sets `p[0]` to `mex - a[0]` and prints the single element.
   - **Constant Array Case**:
     - If `a` is a constant array (e.g., all elements are 1), the program correctly reconstructs a valid permutation.

### Conclusion:
The provided program correctly reconstructs the permutation `p` from the array `a` based on the given problem description and constraints. The logic and implementation are sound and handle all edge cases correctly.

### Correctness:
**True**