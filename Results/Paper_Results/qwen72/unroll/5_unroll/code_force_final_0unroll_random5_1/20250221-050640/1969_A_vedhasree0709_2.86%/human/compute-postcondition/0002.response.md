The function `func` accepts multiple test cases. Each test case consists of an integer `n` (2 ≤ n ≤ 50) representing the number of friends, and a list of integers `p` of length `n` (1 ≤ p_i ≤ n, p_i ≠ i, all p_i are distinct) where `p_i` represents the best friend of the i-th friend. The function returns the minimum number of invitations required for at least 2 friends to attend the party for each test case.

Functionality: **The function accepts multiple test cases, each consisting of an integer `n` and a list of integers `p`. It returns the minimum number of invitations required for at least 2 friends to attend the party for each test case.**