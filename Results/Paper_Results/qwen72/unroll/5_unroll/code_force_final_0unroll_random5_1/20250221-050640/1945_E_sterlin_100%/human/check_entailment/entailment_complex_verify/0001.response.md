Reasoning:

1. **Problem Understanding**:
   - The problem requires finding a number `x` in a permutation `p` of size `n` using binary search, but the permutation is not sorted. We are allowed to perform up to 2 swaps to make the binary search work correctly.

2. **Binary Search on Permutation**:
   - Binary search is typically used on sorted arrays. For it to work correctly on a permutation, we need to ensure that the elements in the range `[l, r)` are such that the binary search can correctly narrow down the search space.

3. **Algorithm**:
   - The program does contain the logic for reading input and performing the binary search, but it lacks the logic for rearranging the permutation with the allowed swaps.
   - The binary search is implemented correctly, but it assumes that the permutation is already in a state where the search will work, which is not always the case.

4. **Input Reading**:
   - The functions `func_1`, `func_2`, and `func_3` are used to read the number of test cases, the values of `n` and `x`, and the permutation `p`, respectively.
   - These functions are correctly implemented and used in the program.

5. **Output**:
   - The program does output the number of swaps and the indices of the swaps, but the logic for determining the swaps is flawed.
   - The program checks if `p[left] == x` and if `x` is not seen during the binary search. If `x` is not seen, it attempts to swap `x` into the correct position. However, it does not guarantee that the permutation will be in a state where binary search will work correctly after the swaps.

6. **Detailed Analysis**:
   - The program initializes `left` and `right` correctly for binary search.
   - The binary search loop is also correctly implemented, but it does not account for the unsorted nature of the permutation.
   - The logic for determining the swaps is not robust enough to ensure that the binary search will find `x` correctly after the swaps.
   - The program does not consider all possible scenarios where the permutation might need more than one swap to make the binary search work.

7. **Conclusion**:
   - The provided program is incomplete and does not solve the problem as described.
   - It lacks the necessary logic to rearrange the permutation with the allowed swaps to ensure that the binary search will find `x` correctly.
   - Therefore, the program is incorrect based on the problem description.

Final: **False**