The function `func` is expected to take input through a predefined structure, such as reading from standard input, which includes the number of test cases t (1 ≤ t ≤ 10^4), for each test case the integers n, k, P_B, P_S (1 ≤ P_B, P_S ≤ n ≤ 2·10^5, 1 ≤ k ≤ 10^9), a permutation p of length n (1 ≤ p_i ≤ n), and an array a of length n (1 ≤ a_i ≤ 10^9). The sum of values of n over all test cases does not exceed 2·10^5.