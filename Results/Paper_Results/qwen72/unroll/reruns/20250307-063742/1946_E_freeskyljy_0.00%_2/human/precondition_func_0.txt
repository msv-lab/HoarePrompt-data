The function should take three parameters: n, m1, and m2, where n is the length of the permutation, and m1 and m2 are the number of prefix maximums and suffix maximums, respectively. Additionally, it should take two lists, p and s, of integers representing the indices of the prefix maximums and suffix maximums, respectively. The constraints are 1 ≤ m1, m2 ≤ n ≤ 2 · 10^5, and the lists p and s should be sorted in increasing order with 1 ≤ p[i], s[i] ≤ n.