The function `func` accepts three parameters: `t`, an integer representing the number of test cases (1 ≤ t ≤ 10^4); `cases`, a list of tuples where each tuple contains two integers `n` and `k` (1 ≤ n ≤ 2 · 10^5, 1 ≤ k ≤ 10^15) representing the number of ships and the number of attacks by the Kraken, respectively; and `ships`, a list of lists where each inner list contains `n` integers `a_1, a_2, ..., a_n` (1 ≤ a_i ≤ 10^9) representing the durability of the ships. The sum of `n` for all test cases does not exceed 2 · 10^5.

The function returns a list of results, where each result corresponds to a test case. For each test case, the function determines the number of ships that remain after `k` attacks by the Kraken. The Kraken attacks the ships in a specific order, and the function calculates the remaining number of ships based on the given attack count and the initial durabilities of the ships.

Functionality: **The function accepts an integer `t` representing the number of test cases, a list of tuples `cases` where each tuple contains two integers `n` and `k` representing the number of ships and the number of attacks by the Kraken, respectively, and a list of lists `ships` where each inner list contains `n` integers representing the durability of the ships. The function returns a list of results, where each result is the number of ships that remain after `k` attacks by the Kraken for each test case.**