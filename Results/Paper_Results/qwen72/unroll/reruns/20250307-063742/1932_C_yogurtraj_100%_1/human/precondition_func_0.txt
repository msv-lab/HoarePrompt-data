The function `func` is intended to process multiple test cases. Each test case consists of an integer n (1 ≤ n ≤ 2·10^5), an integer m (1 ≤ m ≤ 10^4), a list of n integers a (1 ≤ a_i ≤ 10^4), and a string s of length n consisting of characters 'L' and 'R'. The total sum of n across all test cases does not exceed 2·10^5.