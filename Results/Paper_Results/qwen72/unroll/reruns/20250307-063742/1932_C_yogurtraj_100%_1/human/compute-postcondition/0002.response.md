Functionality: **The function `func` accepts multiple test cases, each consisting of an integer `n` (1 ≤ n ≤ 2·10^5), an integer `m` (1 ≤ m ≤ 10^4), a list of `n` integers `a` (1 ≤ a_i ≤ 10^4), and a string `s` of length `n` containing only the characters 'L' and 'R'. The function processes these test cases and returns a result based on the provided inputs. The total sum of `n` across all test cases does not exceed 2·10^5.**