The function `func` is designed to process multiple test cases. Each test case includes an integer `n` (3 ≤ n ≤ 3·10^5) representing the number of houses, and a string `a` of length `n` consisting only of '0' and '1'. Here, '0' indicates a resident who wants to live on the left side, and '1' indicates a resident who wants to live on the right side. The function should determine the position `i` after which the road should be laid to ensure that at least half of the residents on each side are satisfied with their side, and the road is as close to the middle of the village as possible. The function outputs the position `i` for each test case.

Functionality: **The function processes multiple test cases, each containing an integer `n` and a string `a` of length `n` with characters '0' and '1'. It returns the position `i` for each test case where the road should be laid to satisfy at least half of the residents on each side and is as close to the middle of the village as possible.**