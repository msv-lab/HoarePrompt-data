The function should take three parameters: the number of test cases t (1 ≤ t ≤ 10^4), a list of integers n for each test case (2 ≤ n ≤ 2 × 10^5), and a list of tuples where each tuple contains two binary strings of length n, representing the two rows of the grid. The sum of all n values across test cases does not exceed 2 × 10^5.