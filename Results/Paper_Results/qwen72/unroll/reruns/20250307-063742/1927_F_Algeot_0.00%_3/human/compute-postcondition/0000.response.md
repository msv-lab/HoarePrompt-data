The code snippet `sys.setrecursionlimit(10 ** 6)` sets the maximum depth of the Python interpreter stack to 1,000,000. This change affects the recursion limit but does not alter the values of any variables or the structure of the graph or test cases. The initial state remains the same except for the updated recursion limit.

Output State: **The function `func` is expected to handle multiple test cases. Each test case includes an undirected weighted graph represented by the number of vertices `n` and the number of edges `m` such that 3 ≤ n ≤ m ≤ min(n·(n - 1)/2, 2·10^5). The edges are given as a list of tuples, each containing three integers (u, v, w) where 1 ≤ u, v ≤ n, u ≠ v, and 1 ≤ w ≤ 10^6, representing an edge between vertices u and v with weight w. The graph does not contain loops or multiple edges between the same pair of vertices. The total number of test cases `t` is such that 1 ≤ t ≤ 10^4, and the sum of all values of `m` across all test cases does not exceed 2·10^5. The recursion limit is now set to 1,000,000.**