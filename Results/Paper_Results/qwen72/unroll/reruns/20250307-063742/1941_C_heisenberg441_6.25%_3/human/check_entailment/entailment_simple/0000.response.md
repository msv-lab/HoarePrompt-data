### Reasoning:

1. **Input Handling:**
   - The program correctly reads the number of test cases `t` and processes each test case individually.
   - For each test case, it reads the length `n` of the string `s` and the string `s` itself.

2. **Function `func_1`:**
   - The function `func_1` is designed to count the minimum number of deletions required to make the string `s` beautiful by removing all occurrences of the substrings "map" and "pie".
   - The initial check `if (s == 'mapie') : return 1` is a specific case that is not necessary for the general solution. This condition only handles one specific string and does not cover all cases where "map" or "pie" might be present. Therefore, this check can be removed without affecting the correctness of the program.

3. **Removing Substrings:**
   - The program uses a `while` loop to find and remove all occurrences of the substring "map" from `s`. Each time "map" is found, it is removed by slicing the string, and the counter `ans` is incremented.
   - Similarly, another `while` loop is used to find and remove all occurrences of the substring "pie" from `s`. Each time "pie" is found, it is removed by slicing the string, and the counter `ans` is incremented.

4. **Output:**
   - The function returns the total number of deletions required to make the string beautiful, which is stored in `ans`.

5. **Edge Cases:**
   - The program correctly handles the case where the string is already beautiful (i.e., it does not contain "map" or "pie"). In such cases, `ans` remains 0, and the function returns 0.
   - The program also handles the case where the string contains multiple occurrences of "map" and "pie" by repeatedly removing them until none are left.

6. **Efficiency:**
   - The program is efficient enough to handle the constraints (1 ≤ n ≤ 10^6) because the `find` method and string slicing are both O(n) operations, and the loops will run at most n times in the worst case.

### Conclusion:
The program is correct in its logic and implementation. The specific check `if (s == 'mapie') : return 1` is unnecessary but does not affect the correctness of the program. The program will correctly output the minimum number of deletions required to make the string beautiful for all valid inputs.

### Correctness:
**True**