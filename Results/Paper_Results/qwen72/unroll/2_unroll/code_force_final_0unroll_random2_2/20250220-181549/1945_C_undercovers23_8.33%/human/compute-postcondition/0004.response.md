Functionality: ** The function reads multiple test cases from standard input, where each test case consists of an integer `n` (3 ≤ n ≤ 3·10^5) and a string `a` of length `n` containing only '0' and '1'. For each test case, it calculates and prints the optimal index where the percentage of residents on the left side who want to live on the left side and the percentage of residents on the right side who want to live on the right side are both at least 50%. If no such index exists, it prints either 0 or `n`, depending on which side has a majority of residents who want to live there. The function processes and prints the result for each of the `t` (1 ≤ t ≤ 2·10^4) test cases. **