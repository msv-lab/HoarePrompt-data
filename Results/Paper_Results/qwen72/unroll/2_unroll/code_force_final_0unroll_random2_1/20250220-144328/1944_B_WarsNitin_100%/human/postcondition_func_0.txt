The function `func` processes multiple test cases, each defined by two integers `n` and `k` and an array `a` of length `2n` containing integers from 1 to `n` (each appearing exactly twice). For each test case, it splits `a` into two halves `b` and `c`, sorts them, and then constructs two lists `ans1` and `ans2` by selecting elements based on the value of `k`. The first list `ans1` contains elements from the first half of the sorted array `b` that are either duplicates or unique and not part of the last pair of duplicates. The second list `ans2` contains elements from the second half of the sorted array `c` that are duplicates. Both lists are printed, each containing exactly `k` integers.