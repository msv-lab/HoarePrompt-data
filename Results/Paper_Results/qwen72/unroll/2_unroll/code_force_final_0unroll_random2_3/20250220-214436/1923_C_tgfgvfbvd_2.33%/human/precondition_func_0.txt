The function `func` is expected to handle multiple test cases, where each test case includes an array `c` of length `n` with elements greater than 0, and `q` queries. The input is provided in a specific format: the first line contains the number of test cases `t` (1 ≤ t ≤ 10^4), followed by `t` test cases. Each test case starts with two integers `n` and `q` (1 ≤ n, q ≤ 3 · 10^5), followed by `n` integers `c_1, c_2, ..., c_n` (1 ≤ c_i ≤ 10^9), and then `q` lines each containing two integers `l_i` and `r_i` (1 ≤ l_i ≤ r_i ≤ n) representing the borders of the subarray for the i-th query. The sum of `n` over all test cases does not exceed 3 · 10^5, and the sum of `q` over all test cases does not exceed 3 · 10^5.