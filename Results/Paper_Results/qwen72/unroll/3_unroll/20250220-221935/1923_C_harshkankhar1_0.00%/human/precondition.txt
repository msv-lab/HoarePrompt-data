The function `solve` is designed to handle multiple test cases. Each test case includes an array `c` of positive integers and a set of queries. The input is structured as follows: the first line contains an integer `t` (1 ≤ t ≤ 10^4) indicating the number of test cases. For each test case, the first line contains two integers `n` and `q` (1 ≤ n, q ≤ 3 · 10^5) representing the length of the array `c` and the number of queries, respectively. The second line contains `n` integers `c_1, c_2, ..., c_n` (1 ≤ c_i ≤ 10^9). The next `q` lines each contain two integers `l_i` and `r_i` (1 ≤ l_i ≤ r_i ≤ n) representing the start and end indices of the subarray for the i-th query. The sum of `n` over all test cases does not exceed 3 · 10^5, and the sum of `q` over all test cases does not exceed 3 · 10^5.