Precondition: **The function `func` is intended to solve a game problem but lacks parameters in its definition. The correct function definition should include parameters for the number of test cases `t`, the length of the permutation `n`, the duration of the game `k`, the starting positions of Bodya and Sasha `P_B` and `P_S`, the permutation `p`, and the array `a`. The parameters should satisfy: 1 ≤ t ≤ 10^4, 1 ≤ P_B, P_S ≤ n ≤ 2·10^5, 1 ≤ k ≤ 10^9, 1 ≤ p_i ≤ n, 1 ≤ a_i ≤ 10^9, and the sum of values of n over all test cases does not exceed 2·10^5.**