Reasoning:

1. **Input Handling**: The program correctly reads the number of test cases and, for each test case, the length of the array `n` and the array itself `arr`.

2. **Initial Check for All Elements Being the Same**:
   - The program uses a `flag` to check if all elements in the array are the same. If they are, the array cannot be made non-beautiful by removing elements, so it prints `-1`.
   - This check is necessary because if all elements are the same, no matter how many elements you remove, the array will always be beautiful.

3. **Finding the Minimum Number of Elements to Remove**:
   - The program initializes `ans` to `Decimal('Infinity')` to ensure it starts with a value that will be updated by the minimum count found.
   - It then iterates through the array to find the minimum count of consecutive elements that are equal to the first element of the array (`arr[0]`).
   - This approach is flawed because it only considers sequences of consecutive elements that are equal to the first element, which may not cover all cases where the array can be made non-beautiful.

4. **Handling the Output**:
   - If the `flag` is `True` (all elements are the same), it prints `-1`.
   - If the `flag` is `False`, it prints the minimum count of consecutive elements found.

However, the program has a logical flaw in its approach to finding the minimum number of elements to remove. Specifically, it only considers sequences of consecutive elements that are equal to the first element of the array. This is incorrect because the array can be beautiful even if it contains different elements, as long as the specified operation can be used to make all elements the same.

To correctly solve the problem, the program should:
- Identify the longest subarray where the operation can be applied to make all elements the same.
- Calculate the minimum number of elements to remove to break this property.

Given the current implementation, the program will fail for cases where the array is beautiful but not all elements are the same. For example, the array `[1, 2, 1, 2, 1]` is correctly identified as beautiful, but the program will not correctly determine the minimum number of elements to remove to make it non-beautiful.

Therefore, the program is **incorrect**.

Correctness: **False**