n is an integer such that 2 <= n <= 24. The input is a list of n strings, each of length n, containing characters 'F', 'S', '?', or '.'. The character at the j-th position of the i-th string represents the transition video between the i-th and j-th scenarios. The i-th character of the j-th string and the j-th character of the i-th string are the same for all i and j. The diagonal elements (i.e., the i-th character of the i-th string) are always '.', and at most 2 * floor(n / 2) characters in the input are 'F' or 'S'.