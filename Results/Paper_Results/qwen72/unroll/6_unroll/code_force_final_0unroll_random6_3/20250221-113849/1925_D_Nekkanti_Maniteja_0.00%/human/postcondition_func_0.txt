The function `func` processes multiple test cases, each defined by integers `n`, `m`, and `k` with specific constraints. For each test case, it reads `m` lines of input, each containing integers `a_i`, `b_i`, and `f_i`. The function calculates a value `s` based on these inputs and the modular inverse of `n * (n - 1) // 1` modulo `10^9 + 7`. Finally, it prints `s % (10^9 + 7)` for each test case. The variables `n`, `m`, and `k` are used to define the test case, and `s` and `a` are reset to 0 for each new test case.