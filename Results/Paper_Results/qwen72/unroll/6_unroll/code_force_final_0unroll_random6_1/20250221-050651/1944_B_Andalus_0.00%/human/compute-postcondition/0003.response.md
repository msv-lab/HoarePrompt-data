The function `func` is designed to handle multiple test cases. Each test case includes an integer `n` and an integer `k`, where `2 ≤ n ≤ 5 · 10^4` and `1 ≤ k ≤ ⌊n/2⌋`. Additionally, each test case includes an array `a` that is a list of `2n` integers, with each integer from `1` to `n` appearing exactly twice. The function should process up to `5000` test cases, where the sum of `n` over all test cases does not exceed `5 · 10^4`.

The function returns a result for each test case based on the input parameters `n`, `k`, and the array `a`.

Functionality: **The function accepts multiple test cases, each containing an integer `n`, an integer `k`, and an array `a` of `2n` integers where each integer from `1` to `n` appears exactly twice. It returns a result for each test case based on the values of `n`, `k`, and the array `a`.**