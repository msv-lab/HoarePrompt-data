Reasoning:

The program aims to solve the problem of calculating the expected value of the sum of friendship values for pairs of children chosen for excursions, and then output the result as \( p \cdot q^{-1} \mod (10^9 + 7) \). However, there are several issues with the provided program:

1. **Function Definition and Parameters**: The function `func` is defined without parameters, which is incorrect. It should accept parameters for the number of test cases, the number of children, the number of friend pairs, the number of excursions, and the list of friend pairs with their initial friendship values. However, since the function reads input directly from `input()`, this is not a critical issue for the given context, but it is a design flaw.

2. **Calculation of `c`**: The variable `c` is calculated as \( \left( \frac{n(n-1)}{2} \right)^{-1} \mod (10^9 + 7) \), which is the modular inverse of the number of possible pairs of children. This is correct because the probability of choosing any specific pair of children is \( \frac{1}{\binom{n}{2}} \).

3. **Sum of Initial Friendship Values**: The variable `a` is used to store the sum of the initial friendship values of all pairs. This is correctly calculated by summing up the friendship values from the input.

4. **Expected Value Calculation**: The expected value of the sum of friendship values is calculated in a loop for each excursion. However, the formula used in the loop is incorrect. The expected value for each excursion should be based on the current friendship values of the pairs, not just the initial values. The program incorrectly multiplies `c` by `i` and then by `c * m` and `c * a`, which does not correctly reflect the expected value calculation.

5. **Modular Arithmetic**: The program uses modular arithmetic correctly by taking the result modulo \( 10^9 + 7 \) at the end of each test case.

6. **Output**: The program prints the result for each test case, which is correct.

Given these points, the main issue is in the expected value calculation. The correct expected value for each excursion should be the sum of the current friendship values of all pairs, divided by the number of possible pairs, and then summed over all excursions.

Correctness: **False**

The program does not correctly calculate the expected value of the sum of friendship values for the pairs chosen for excursions. The formula used in the loop is incorrect, leading to an incorrect result.