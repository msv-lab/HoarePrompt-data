The function `func` reads input from the user to process multiple test cases. For each test case, it reads the number of children (`n`), the number of friend pairs (`m`), and the number of excursions (`k`). It then calculates a value `s` based on these inputs and the initial friendship values of the friend pairs. The final value of `s` is computed modulo \(10^9 + 7\) and printed. The function does not return any value. The state of the function resets for each new test case, and the variables `n`, `m`, `k`, `M`, `c`, `a`, and `s` are updated accordingly for each test case.