The function `what_the_mex` is expected to handle multiple test cases, where each test case involves an integer n (1 ≤ n ≤ 2 · 10^5) and an array a of length n with elements a_i (-n ≤ a_i ≤ n). The input is structured such that the first line contains the number of test cases t (1 ≤ t ≤ 10^4), followed by t test cases, each with two lines: the first line of each test case contains the integer n, and the second line contains the array a. It is guaranteed that at least one valid permutation p exists for the given data, and the sum of n over all test cases does not exceed 2 · 10^5.