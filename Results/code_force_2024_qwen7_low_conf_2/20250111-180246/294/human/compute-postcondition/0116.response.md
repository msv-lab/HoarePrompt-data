Output State: **The program returns results which is a list containing `segment_count` if `valid` is `True`, otherwise `results` is `[-1]`**