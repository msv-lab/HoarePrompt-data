Postcondition: ***`valid` is a boolean, `results` is a list. If `valid` is true, `results` contains `segment_count`. If `valid` is false, `results` is [-1].***