Postcondition: ***`i` is `n - 1`, `dp[i]` is either `dp[n]` if `along[i] < 0`, or `max(dp[n], aseg[n - 1] + dp[along[n - 1]])` if `along[i] >= 0`. `n` must be greater than or equal to 1.***