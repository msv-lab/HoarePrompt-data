node is an integer representing a vertex in the tree, parent is an integer representing the parent of the current node in the traversal, tree is a dictionary where keys are integers (representing nodes) and values are lists of integers (representing neighbors), and student_types is a list of strings of length n, where each string represents the type of the student in the corresponding room ('P', 'S', or 'C').