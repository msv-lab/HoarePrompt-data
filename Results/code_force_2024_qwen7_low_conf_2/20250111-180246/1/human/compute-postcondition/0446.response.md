Functionality: **The function processes multiple test cases, each defined by positive integers `n` and `k`, and an array `a` of length \(2n\) where each integer from 1 to \(n\) appears exactly twice. For each test case, it calculates two lists, `res1` and `res2`, based on the counts of occurrences of elements in `a`. Specifically, `res1` contains elements that appear exactly once in the first half of `a` followed by elements that appear exactly twice in the second half of `a`, while `res2` contains elements that appear exactly twice in both halves of `a`. The function then prints these lists for each test case.**

**Edge Cases and Missing Functionality:**
- If `k` is greater than the total number of unique elements in `a` that can contribute to the required pairs and singles, the function will raise an assertion error due to `assert found`. This indicates that the function expects `k` to be within a valid range that can be satisfied by the counts in `a`.
- The function does not handle cases where `k` is 0 or negative, which might be important depending on the problem constraints.
- There is no explicit handling for when `n` or `k` are at their extreme values (i.e., `n = 5 × 10^4` and `k = ⌊n/2⌋`), although the function should theoretically work for these cases given the constraints.