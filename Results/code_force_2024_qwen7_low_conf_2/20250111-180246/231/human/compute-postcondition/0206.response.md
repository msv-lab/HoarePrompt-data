Postcondition: **`i` is in the range `[0, n + m - 1]`, `val` is `ans - a[types[i]][i]`, either `bad == -1` or `i >= bad` or `types[i] != badType`**