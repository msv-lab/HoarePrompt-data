Postcondition: ***`res` is a list of length `n + m`, `bounds` is `[n, m]`, `bad` is `-1` (unchanged unless set to `i`), `badType` is `-1` (unchanged unless set to `1`), `cur` is `[0, 0]`, `ans` is `0`, `types` is a list of length `n + m + 1` with all elements set to `0`, `curType` is `0`. If `bad` equals `-1`, then it is set to `i` and `badType` is set to `1`. Otherwise, the variables remain unchanged.***