Postcondition: **`res` is an empty list, `i` is 0, and `val` is updated according to the following rules: if `bad` is not equal to -1, `i` is less than `bad`, and `types[i]` is equal to `badType`, then `val` is set to `val + a[badType][bad] - a[1 - badType][bad] + a[1 - badType][n + m]`. Otherwise, `val` is updated by adding `a[types[i]][n + m]` to its current value.**