Correctness: **False**

Explanation: The program does not handle the case where completing all subtasks of a task and earning the extra point might still not be optimal. Specifically, the program breaks the loop as soon as the time used exceeds M, without considering whether partially solving more tasks could yield a higher score.

For example, consider the following input:
```
3 4 15
1 2 3 4
```

- According to the problem description, Polycarp can complete all 4 subtasks of the first task and earn 5 points, and then partially solve one subtask of the second task and earn an additional point, totaling 6 points.
- However, the current implementation might not consider this scenario because it breaks the loop once the time exceeds M, without checking if partially solving more tasks could yield a higher score.

To fix this, the program needs to ensure it checks all possible combinations of completed and partially solved tasks to maximize the points.