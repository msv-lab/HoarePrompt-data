Reasoning:

1. **Input Handling**: The program correctly reads the input and initializes the decks for the two players. It ensures that the number of cards matches the expected input format.
2. **State Tracking**: The program uses a set `seen` to track the states of the game (i.e., the current configuration of both decks). This helps in detecting cycles, which is crucial for identifying if the game will continue indefinitely.
3. **Game Logic**: The game logic is implemented correctly. Each turn involves comparing the top cards of both decks, and the winner of the turn adds both cards to the bottom of their deck. The order of adding the cards (opponent's card first, then the winner's card) is also correct.
4. **Winning Condition**: The program checks if either deck is empty after each turn. If one deck is empty, the other player is declared the winner, and the number of fights (which is the number of unique states encountered) is returned along with the winner.
5. **Cycle Detection**: If a cycle is detected (i.e., the same state is encountered again), the function correctly returns `-1` to indicate that the game will continue indefinitely.

Based on the above points, the program appears to handle all the required cases and follows the rules of the game correctly.

Correctness: **True**