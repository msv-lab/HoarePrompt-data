n is an integer such that 1 ≤ n ≤ 100, m is an integer such that 0 ≤ m ≤ 100, and flats_memory is a list of m tuples (k_i, f_i) where each k_i is an integer such that 1 ≤ k_i ≤ 100 and each f_i is an integer such that 1 ≤ f_i ≤ 100, with all k_i being distinct.