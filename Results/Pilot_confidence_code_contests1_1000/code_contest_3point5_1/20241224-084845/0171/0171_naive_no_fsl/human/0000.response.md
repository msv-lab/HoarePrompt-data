Correctness: **False**

Explanation: The provided program does not correctly implement the required logic for determining if the shuffling process results in exactly one guest per room. Specifically, the program sorts the resulting positions and checks for duplicates, but this approach is flawed. Here’s why:

1. **Incorrect Logic**: The program sorts the resulting positions and checks for duplicates, which is not the correct approach. The goal is to ensure that each room ends up with exactly one guest, not to check for duplicates in the sorted list.

2. **Test Case Analysis**:
   - For the input `2 1 -1`, the program should correctly identify that the assignment is still unique, but it might fail due to the sorting and comparison logic.
   - For the input `4 5 5 5 1`, the program should also correctly identify that the assignment is still unique, but it might fail in similar ways.

To properly solve this problem, you should track the final position of each guest and ensure that no two guests end up in the same room. Here’s a corrected version of the program:

```python
import sys

def func():
    input = sys.stdin.readline
    for _ in range(int(input())):
        n = int(input())
        seq = [int(x) for x in input().split()]
        room_assignments = [0] * (2 * n)  # Initialize an array to track room assignments
        
        for k in range(n):
            new_position = (k + seq[k % n]) % n
            if room_assignments[new_position] != 0:
                print("NO")
                return
            room_assignments[new_position] = 1
        
        print("YES")

func()
```

This corrected program directly tracks the final position of each guest and ensures that no two guests end up in the same room. If a conflict is detected, it immediately prints "NO" and returns, ensuring that the program correctly identifies if the assignment is unique for each room.