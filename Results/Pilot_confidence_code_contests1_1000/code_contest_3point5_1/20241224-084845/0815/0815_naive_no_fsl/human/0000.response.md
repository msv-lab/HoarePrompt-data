Correctness: **False**

Explanation: The program does not handle all potential cases correctly. Specifically, the program fails to consider the general case where more than two unique values exist in the array. For instance, consider the input `[1, 3, 3, 7]`. According to the problem description, the correct output should be `-1` because it's impossible to make all elements equal with a single `D`. However, the current implementation incorrectly outputs `2`, which is not the correct answer. This indicates that the program needs to check if all unique values can be made equal by finding a common difference `D`, and if not, it should return `-1`.

To fix this, the program needs to check if the differences between the smallest and largest elements can be evenly distributed among the unique values. Here is a corrected version of the function:

```python
def func():
    n = int(input())
    arr = list(map(int, input().split()))
    unique_values = sorted(set(arr))
    
    if len(unique_values) == 1:
        print(0)
    elif len(unique_values) == 2:
        diff = unique_values[1] - unique_values[0]
        if diff % 2 == 0:
            print(diff // 2)
        else:
            print(diff)
    else:
        min_diff = unique_values[-1] - unique_values[0]
        for i in range(len(unique_values) - 1):
            if unique_values[i+1] - unique_values[i] != unique_values[1] - unique_values[0]:
                print(-1)
                return
        print(min_diff)
```

This corrected version ensures that the program handles all cases as described in the problem statement.