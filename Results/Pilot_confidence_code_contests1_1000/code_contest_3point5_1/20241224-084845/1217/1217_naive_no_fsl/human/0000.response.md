Correctness: **False**

Explanation: The program does not correctly handle the case where the value of a vertex can be changed to 0 to maximize the beauty. Specifically, in the function `func_2`, the logic to update `tor1` and `ifr1` does not properly account for setting the value to 0. For example, consider the following input:

Input:
```
3
6 2 3
1 2
1 3
```

Expected Output:
```
6 6 6 
```

However, the program's output will be incorrect because it does not consider setting the value to 0 to achieve the maximum possible beauty for all vertices. This oversight leads to an incorrect result for at least one potential case.