f is a function, and stack is an optional parameter initialized as an empty list.