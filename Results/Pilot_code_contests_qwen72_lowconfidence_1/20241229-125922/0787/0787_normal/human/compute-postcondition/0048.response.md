The function `func` accepts four parameters: `n`, `m`, `a`, `l`, and `r`. 

- `n` and `m` are non-negative integers such that 1 ≤ n, m ≤ 2·10^5.
- `a` is a list of `n` integers where each element `ai` is either -1 or 1.
- `l` and `r` are lists of `m` integers each, representing the queries, where for each `i`, 1 ≤ li ≤ ri ≤ n.

The function returns a list of results corresponding to each query defined by the pairs (li, ri) from the lists `l` and `r`.

Functionality: **The function accepts parameters `n`, `m`, `a`, `l`, and `r`. It returns a list of results for each query defined by the pairs (li, ri) from the lists `l` and `r`, where `n` and `m` are non-negative integers, `a` is a list of `n` integers each being -1 or 1, and `l` and `r` are lists of `m` integers each, with 1 ≤ li ≤ ri ≤ n.**