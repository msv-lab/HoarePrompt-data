f is a function, stack is an optional parameter initialized as an empty list.