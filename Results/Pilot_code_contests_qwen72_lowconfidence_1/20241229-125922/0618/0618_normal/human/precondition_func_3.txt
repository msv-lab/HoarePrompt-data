f is a callable object, dim is a tuple of non-negative integers.