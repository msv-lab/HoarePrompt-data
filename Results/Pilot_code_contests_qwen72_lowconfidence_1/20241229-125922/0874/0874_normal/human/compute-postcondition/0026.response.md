Postcondition: ***All other variables (`A`, `B`, `n`, `l`, `t`, `m`, `ans`, `en`, `all`, `val`) remain unchanged. If `val` <= `t`, `be` is `md + 1` and `ans` is `md`. Otherwise, `en` is `md - 1`. In both cases, `md` is updated to `(be + en) // 2`. Additionally, `all` is updated to `a * (md - l + 1) + b * (sum_n(md - 1) - sum_n(max(l - 2, 0)))`.***