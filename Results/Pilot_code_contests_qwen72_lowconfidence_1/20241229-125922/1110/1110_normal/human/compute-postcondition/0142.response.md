Postcondition: ***`_` is incremented by 1, `one` is either `[next_ix]` or remains the same, `to` is either `[next_ix, ix]` or `[ix]` or `[next_ix]` depending on the initial state if `ix > (to[-1] if to else -1)`, otherwise `to` is either `[next_ix]` or remains the same, `idx` is a list of integers from 0 to `n-1` where `n` must be greater than 0, `val` is updated to the value returned by `gbs()`, the sum of the lengths of `one` and `to` is 0, 1, 2, or 3 (less than or equal to `n`), `n` is the value returned by `gil()`, `ix` is the next element in `idx`, and if the condition is not met, we break out of the most internal loop or if statement.***