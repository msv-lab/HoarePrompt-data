Postcondition: ***`_` is incremented by 1, `ix` is the next element in `idx`, `one` and `to` may be updated based on the conditions, `idx` is a non-empty list of indices with at least one more element, `val` is the value returned by `gbs()`, `inf` is `float('inf')`, `n` is the value returned by `gil()`. If `ix` is greater than the last element in `to` (or -1 if `to` is empty), `to` includes the new element `ix`. Otherwise, we break out of the most internal loop or if statement.***