Functionality: ** The function `func` processes a series of events represented as tuples `(typei, xi or ti)`. It maintains a list of notifications and a count of unread notifications for each index. The function supports three types of events:
1. **Event Type 1 (`typei == 1`)**: Adds a notification for the given index `xi`, increments the unread count for `xi`, and increases the total unread notification count.
2. **Event Type 2 (`typei == 2`)**: Marks all notifications for the given index `xi` as read, resets the unread count for `xi`, and decreases the total unread notification count.
3. **Event Type 3 (`typei == 3`)**: Marks all notifications up to the given index `x` as read, decrementing the unread counts for the corresponding indices and reducing the total unread notification count.

After processing all events, the function prints the total count of unread notifications after each event. The final state of the program includes:
- `n` and `q` remain unchanged as positive integers within the specified range.
- `notifications` contains the indices for which `typei == 1` was encountered.
- `unread` is a list of length `n + 1` representing the number of unread notifications for each index.
- `last_unread` is the last value of `x` for which `typei == 3` was encountered or 0 if no such operation occurred.
- `ans` is the final count of unread notifications. **

Potential Edge Cases and Missing Functionality:
- If `typei == 3` and `x` is less than or equal to `last_unread`, the loop in the `else` block will not execute, and `ans` will not be decremented unnecessarily.
- If `typei` is not 1, 2, or 3, the function will not handle it, potentially leading to unexpected behavior. However, the problem constraints ensure that `typei` is always 1, 2, or 3.
- The function assumes that `x` and `ti` are valid indices within the specified ranges, and no validation is performed to check this. If invalid indices are provided, the function may raise an error or produce incorrect results. **