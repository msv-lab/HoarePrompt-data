Output State: **`s` is a string of length `n` (1 ≤ n ≤ 10^6) consisting of characters "*", "?", and digits "0", "1", or "2"; `line` is the input string `s` and must be non-empty; `big_prime` is 1000000007; `t` is a tuple where each element represents the count of valid sequences ending in a specific pattern, modulo `big_prime`. Specifically, `t[0]` is the count of sequences ending in "0", `t[1]` is the count of sequences ending in "1" that have been used, `t[2]` is the count of sequences ending in "1" that have not been used, `t[3]` is the count of sequences ending in "2", and `t[4]` is the count of sequences ending in "*". If `s` is empty, `t` remains `None`.**