dp1 and dp2 are 2D lists initialized to -1, matrix is a 2D list of characters ('.' or '#') representing the image, n and m are positive integers representing the dimensions of the matrix, x and y are positive integers where 1 ≤ x ≤ y ≤ 1000, black_cost and white_cost are lists of integers of length m, index is an integer starting from 0, w and b are integers representing the current widths of white and black segments, respectively.