Postcondition: ***`n` is an integer such that 3 ≤ n ≤ 500000, `c` and `d` are integers such that 0 ≤ c ≤ d ≤ 10^9. If `(mid * c - (n - mid) * d) >= 0`, then `l = -1`, `r = (n - 3) / 4`, and `mid = (n - 7) / 8`. Otherwise, `l = (-1 + n) // 2`, `r = n`, and `mid = (3 * n - 1) / 4`.***