Precondition: **n is an integer where 3 ≤ n ≤ 150,000, and m is a non-negative integer representing the number of friendship pairs. The friendship pairs are represented as a list of m tuples (ai, bi), where 1 ≤ ai, bi ≤ n and ai ≠ bi, and no pair appears more than once in the list.**