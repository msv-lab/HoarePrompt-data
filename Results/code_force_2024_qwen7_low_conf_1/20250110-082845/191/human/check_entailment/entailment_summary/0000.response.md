Reasoning:
1. The program correctly reads the input and processes each test case separately.
2. For each test case, it initializes sets to keep track of used rows and columns based on the given rook placements.
3. It accounts for the mirrored placement of rooks by the computer, ensuring that if a rook is placed at `(r, c)`, the computer places a rook at `(c, r)` (if `r != c`).
4. The program calculates the number of free rows and columns after placing the initial rooks.
5. It determines the minimum number of additional non-attacking rooks that can be placed (`m`), which is the smaller of the free rows and columns.
6. The program then calculates the factorial of this minimum value (`m`) modulo `10^9 + 7`, which represents the number of different final configurations.
7. The implementation correctly handles edge cases where the number of available rows or columns might be zero.
8. The program prints the result for each test case, which matches the problem requirements.

Given that the program logic aligns with the problem description and the execution summary accurately reflects the intended behavior, the program is correct.

Correctness: **True**