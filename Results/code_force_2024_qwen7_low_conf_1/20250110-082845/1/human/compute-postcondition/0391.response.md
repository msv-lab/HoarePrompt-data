Output State: **`cnts` is a non-empty dictionary where each key is an element from `half` and each value is the count of that element in `half`. `hs` is the total count of elements in `half` that appear exactly once, `res1` contains all unique elements from `half` (each appearing exactly once), and `res2` contains these elements repeated twice. `found` is True, `ws` is the value of `wanted_singles`, and `wp` is `(k - wanted_singles) // 2` if a valid combination is found, otherwise `0`.**

Explanation:
- The loop continues to increment `hs` and append elements to `res1` and `res2` until `hs` equals `ws`.
- After the loop completes, `hs` will be equal to the total number of elements in `half` that appear exactly once.
- `res1` will contain all such elements (each appearing exactly once).
- `res2` will contain these elements repeated twice.
- `found` will be set to `True` since a valid combination was found.
- `ws` will be the value of `wanted_singles` if a valid combination is found.
- `wp` will be `(k - wanted_singles) // 2` if a valid combination is found, otherwise `0`.

If the loop does not execute (i.e., no elements in `half` appear exactly once):
- `hs` will remain `0`.
- `res1` and `res2` will remain empty.
- `found` will be `False`.
- `ws` and `wp` will remain `0`.