Reasoning:
- The program correctly follows the interaction protocol specified in the problem statement.
- `func_1` generates `n` distinct magic words, each consisting of characters 'X' and 'O' with lengths ranging from 1 to 30*n.
- `func_2` accurately calculates the number of unique non-empty substrings of a given string, which is essential for determining the power of a spell.
- `func_3` correctly finds and returns the indices of the two magic words that, when concatenated, produce a spell with the given power.
- The program reads `n` and prints `n` distinct magic words, ensuring that the initial part of the interaction is handled correctly.
- After printing the magic words, the program reads `q` and processes each of the `q` queries by reading the power of the spell and calling `func_3` to determine the indices of the magic words used to create the spell.
- The output format for each query matches the required format (u, v).

Given the execution summaries and the implementation details of the functions, the program meets all the requirements specified in the problem statement.

Correctness: **True**