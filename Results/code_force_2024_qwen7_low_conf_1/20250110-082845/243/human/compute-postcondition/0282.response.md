Postcondition: ***`i` is `n + 1`, `j` is at least 2 but less than `n + 1`. If `xx[i][j - 1]` is not '?', then `nx` is `'F'`. Otherwise, if either `i` or `j` is in `sb[:n // 4 - 1]`, then `nx` is either `'S'` (if `xx[i][j - 1]` is not '?') or `'SS'` (if `nx` was originally `'S'`) or `'FS'` (if `nx` was originally `'F'`). Otherwise, `nx` is either `'SF'` or `'FF'`.***