The function processes multiple test cases, where for each test case, it reads a positive integer `n` and a binary string `s` of length `n`. It then calculates the range of values that a counter `cur` takes, starting from 0, while iterating over the characters of `s`. The counter `cur` increments by 1 if the current character and the previous value of `cur` have the same parity (both even or both odd), and decrements by 1 otherwise. The function keeps track of the minimum and maximum values of `cur` across all test cases. Finally, it prints the difference between the maximum and minimum values of `cur` for each test case.