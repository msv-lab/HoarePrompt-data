Postcondition: ***`res` is an empty list. If `bad` is not equal to -1 and `i` is less than `bad` and `types[i]` is equal to `badType`, then `val` is `ans - a[badType][i] + a[badType][bad] - a[1 - badType][bad] + a[1 - badType][n + m]`. Otherwise, `val` is `ans - a[types[i]][i] + a[types[i]][n + m]`.***