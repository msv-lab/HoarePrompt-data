Output State: **`n` is an integer such that \(1 \leq n \leq 5000\), `i` is \(n\), and `max_balls` is the maximum value among all elements in the list `a` if any bit in `mask` is set (i.e., `mask & 1 << i` evaluates to true for at least one \(i\) from 0 to \(n-1\)). If no bits in `mask` are set, `max_balls` remains 0.**