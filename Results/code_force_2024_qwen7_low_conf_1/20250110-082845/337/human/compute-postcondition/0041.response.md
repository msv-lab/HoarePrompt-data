Postcondition: **`mask` is `mask + n`, `max_balls` is the maximum of `max_balls` and `a[i]` if the bit at position `i` in `mask` is set, otherwise `max_balls` remains the same, `total_value` is `(total_value + max_balls) % MOD` if the bit at position `i` in `mask` is set, otherwise `total_value` remains the same**