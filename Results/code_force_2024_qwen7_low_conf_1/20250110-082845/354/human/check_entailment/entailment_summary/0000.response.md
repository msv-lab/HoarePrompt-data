Reasoning:
1. The problem involves constructing a chain of puzzle pieces, where each piece can connect to another if their connections match the specified criteria.
2. The provided `func_1` computes the number of ways to arrange the puzzle pieces using dynamic programming. It correctly initializes a DP table and updates it based on the available counts of each piece type.
3. The base case (`dp[0][0] = 1`) ensures that if no pieces are used, there's exactly one way to do so (by not using any pieces).
4. Each piece type updates the corresponding DP row based on the previous row's values, considering the constraints provided by the problem statement.
5. The final result is obtained by summing up the values in the last row of the DP table, modulo 998244353.
6. `func_2` reads the number of test cases and processes each test case by calling `func_1` and storing the results. It correctly handles multiple test cases and outputs the results in the required format.

Given the above analysis, the implementation of both functions correctly solves the problem as described. There are no logical errors or omissions that would make the program incorrect.

Correctness: **True**