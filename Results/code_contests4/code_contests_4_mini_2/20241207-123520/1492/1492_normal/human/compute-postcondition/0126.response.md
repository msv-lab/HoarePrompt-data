Postcondition: ***`maxstack` contains only elements that are greater than or equal to `x` and `maxidx` contains the indices corresponding to these elements. If `minstack` is not empty and its top element equals `x`, then `dp[i]` remains unchanged if `maxidx` is empty or is updated to the minimum of its current value and `dp[maxidx[-1]] + 1` if `maxidx` is non-empty. Additionally, `minstack` has one less element after popping the top element, which was equal to `x`.***