Output State: **`maxstack` has one less element, `maxidx` is updated if it is non-empty, `minstack` has one less element, `dp[i]` is updated to the minimum of its current value and `dp[maxidx[-1]] + 1` if `maxidx` is non-empty, otherwise it remains unchanged.**