The function accepts two integers `n` and `m`, and a list of strings `grid`. It counts and returns the total number of connected components in the grid where each component is represented by contiguous '#' characters (black cells), connected either horizontally or vertically. The function assumes that the grid dimensions are valid and does not handle cases where `grid` may not conform to the expected format.