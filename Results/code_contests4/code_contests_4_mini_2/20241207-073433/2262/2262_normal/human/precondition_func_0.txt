t is an integer representing the number of test cases (1 ≤ t ≤ 100), n is an integer representing the size of the grid for each test case (1 ≤ n ≤ 300), and each grid is represented by n strings of length n containing characters '.' or 'X', with at least one cell not empty. The total sum of n across all test cases does not exceed 300.