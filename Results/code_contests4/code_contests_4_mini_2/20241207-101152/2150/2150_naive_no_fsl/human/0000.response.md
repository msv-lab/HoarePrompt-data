To determine the correctness of the provided program, let's analyze the logic step-by-step.

### Understanding the Problem

1. **Tree Definition**: A tree with `n` vertices has `n - 1` edges and is connected with no cycles.
2. **Even Size Components**: We want to remove edges such that all resulting connected components have an even number of vertices. 
3. **Output**: The program must output the maximum number of edges that can be removed under the condition specified, or `-1` if it's impossible to achieve the desired property.

### Key Points to Consider

- If `n` is odd, immediately print `-1` because you cannot split an odd-sized tree into even-sized components.
- The program counts the size of subtrees and checks for even-sized components based on the sizes of the vertices connected by edges.

### Program Analysis

1. **Input Handling**: It reads the number of vertices and the edges, creating a dictionary `E` to represent the adjacency list of the tree.
2. **Odd Size Check**: It correctly checks if `n` is odd and prints `-1` in that case.
3. **DFS for Size Calculation**: The program uses a depth-first search (DFS) approach in `func_2` to calculate the sizes of the subtrees.
4. **Cut Count**: The program iterates through each edge and counts how many can be cut such that both resulting components have even sizes.

### Edge Cases and Potential Issues

The program seems logically structured, but we need to ensure it handles all edge cases correctly:

- **Minimum Input Size**: 
    - For `n = 1`, the program will not enter the edge reading loop and will directly print `-1`, which is correct behavior since a single vertex can't form a component.
    
- **Two Nodes (n = 2)**:
    - For `n = 2`, the only edge can be removed, resulting in two components of size `1`, which leads to the correct output of `0` for edges that can be removed since both components must be even-sized.
    
- **Three Nodes (n = 3)**:
    - The program correctly returns `-1`, as discussed previously.

- **General Case**:
    - For larger trees, the logic used to count subtree sizes and determine removable edges appears to be correct.

### Conclusion

After analyzing the program against various inputs, including edge cases, it consistently yields correct outputs according to the problem description. There are no identified edge cases where the program fails to satisfy the requirements.

Correctness: **True**