The function accepts a positive integer `n` and returns:
- 1 if `n % 4` equals 1,
- `n + 1` if `n % 4` equals 2,
- 0 if `n % 4` equals 3, and
- `n` if `n % 4` equals 0.