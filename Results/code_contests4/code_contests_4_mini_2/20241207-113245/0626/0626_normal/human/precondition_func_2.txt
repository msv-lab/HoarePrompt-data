n is an integer such that 2 ≤ n ≤ 10^5, a is a list of n integers where each integer ai (0 ≤ ai ≤ 10^8) represents the number of apples in the leaf vertices, and the edges are defined by n-1 pairs of integers (xi, yi) representing connections between vertices, where 1 ≤ xi, yi ≤ n and xi ≠ yi.