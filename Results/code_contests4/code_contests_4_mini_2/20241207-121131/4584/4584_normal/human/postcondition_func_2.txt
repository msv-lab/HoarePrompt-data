The function accepts three parameters: `n` (an integer between 1 and 50), `w` (an integer between 100 and 1000), and `m` (an integer between 2 and 50). It creates `n` bottles and `m` cups, and attempts to fill the cups with the contents of the bottles. The function returns a list of ingredients for each cup if all cups are full; otherwise, it returns an empty list. If there are not enough bottles to fill all cups, or if the bottles are empty before filling all cups, it will return an empty list.