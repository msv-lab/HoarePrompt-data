Output State: **`pidx` is equal to the number of elements in `p` that are less than or equal to `furthestright`; value of `alsotoright` is `max(0, avg - getbacktime)`; `leftime` is either `0` or `curpos - leftget`; `remtime` is `max(0, (avg - leftime) // 2)`; `furthestright` is `curpos + max(alsotoright, remtime)`; if `pidx` reaches `len(p)`, it indicates all elements in `p` have been checked against `furthestright`; `hidx` is incremented by 1.**