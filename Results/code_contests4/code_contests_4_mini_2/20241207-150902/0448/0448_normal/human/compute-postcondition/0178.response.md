Postcondition: ***`hidx` is 1, `pidx` is equal to the length of `p`, and `curpos` cannot be assigned a value due to an IndexError. If `curpos - leftget > avg`, then `works` is set to False, and we break out of the most internal loop or if statement.***