Output State: **`alsotoright` is assigned `max(0, avg - getbacktime)`; `leftime` is either `0` or `curpos - leftget`; `remtime` is assigned `max(0, (avg - leftime) // 2); `furthestright` is assigned `curpos + max(alsotoright, remtime)`; `pidx` is incremented by 1.**