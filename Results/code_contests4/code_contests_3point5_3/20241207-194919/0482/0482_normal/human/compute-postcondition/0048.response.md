Postcondition: ***`n` and `k` are positive integers such that 1 ≤ `k` ≤ `n` ≤ 4·10^5. If `k` == 1, `count` is calculated as described. If `k` is not equal to 1, `count` is the total sum of all `leftmost` values + 1 after each iteration, `d` contains keys `val` and values `[i]` where `i` is the index of `val` in `vals`, `leftmost` is the maximum index value from the last `k` occurrences of each `val` in `vals`.***