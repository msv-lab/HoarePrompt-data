Correctness: **True**

Explanation: 
1. The program correctly reads the input for multiple test cases.
2. It implements the optimal strategy as described in the problem statement to find the largest integer x that can be guaranteed.
3. The recursive function `func_8` handles the selection of elements based on the fixed choices and calculates the maximum value that can be obtained.
4. The program outputs the correct result for each test case.