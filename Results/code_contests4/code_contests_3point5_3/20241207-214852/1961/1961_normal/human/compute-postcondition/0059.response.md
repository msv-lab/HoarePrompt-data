Postcondition: ***`ans` is updated, `r` is greater than or equal to `l`, `i` is adjusted, `seglen` is adjusted. If `i + seglen - 1 > r`, the most internal loop or if statement is exited.***