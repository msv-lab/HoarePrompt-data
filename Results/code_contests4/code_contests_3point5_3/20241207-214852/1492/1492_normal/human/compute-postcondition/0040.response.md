Output State: **`n` is an integer where 2 <= n <= 3*10^5; `first` is the first element of the list `ar`; `dp` is a list of n integers where dp[i] = dp[i - 1] + 1 for the loop to execute the first time; `ar` is a list with at least 1 element; `i` is 0; `x` is the first element in the list; `maxstack` is empty; `maxidx` is a non-empty list; `minstack` is an empty list; `minidx` is an empty list; dp[i] is updated to the minimum value between dp[i] and dp[minidx[-1]] + 1.**