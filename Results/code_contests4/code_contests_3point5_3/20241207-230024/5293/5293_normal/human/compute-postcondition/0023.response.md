Postcondition: ***If `at_start` is False, then after executing the if block, `args` is an iterable with at least one element where `x` is the last element, `at_start` remains False, and `flush` is removed from `kwargs`. If `at_start` is True, after executing the if block, `args` is an empty iterable, `at_start` remains True, and `flush` is removed from `kwargs`.***