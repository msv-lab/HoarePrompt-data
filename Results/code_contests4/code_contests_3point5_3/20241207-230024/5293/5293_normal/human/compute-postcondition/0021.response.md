Postcondition: ***If `at_start` is False, `args` is an iterable with at least one element, `x` is the last element in `args`, `at_start` is False, and `flush` is popped from `kwargs`. Otherwise, if `at_start` is True, `args` is an empty iterable, `at_start` is True, and `flush` is popped from `kwargs`.***