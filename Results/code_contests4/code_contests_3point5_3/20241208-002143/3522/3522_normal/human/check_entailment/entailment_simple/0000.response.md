Correctness: **True**

The annotated program consists of three functions that implement the required operations for the given problem description: changing characters in the string and counting the number of different characters in a substring.

- Function 1 (`func_1`) initializes the tree data structure based on the input array.
- Function 2 (`func_2`) updates the tree data structure with a new value at a specific position.
- Function 3 (`func_3`) calculates the sum of values in the tree data structure within a specific range.

Each function follows the logic required by the problem description and correctly implements the operations specified. The functions handle the queries according to the defined types and constraints, ensuring that the output corresponds to the expected results.

Therefore, the program is correct as it adheres to the problem description and produces the desired output for the given input queries.