Correctness: **False**

The code provided does not fully adhere to the problem description for every potential case. The annotations mention the use of a tree data structure and manipulation of values within the tree, but the actual implementation of the functions `func_1`, `func_2`, and `func_3` does not directly relate to the problem description of handling queries to change characters in a string and count the number of different characters in a substring.

Additionally, the code lacks the necessary input reading and query processing logic as described in the problem description. The functions in the code do not seem to be directly applicable to solving the given problem.

Therefore, based on the mismatch between the code functionality and the problem description, the correctness of the code is **False**.