Output State: **`n` is a positive integer, `m` is a positive integer, `buy` is a dictionary, `counts` is a sorted list, `maxi` is the sum of the product of elements in `cs` and `counts` from the end, `mini` is the sum of the product of elements in `cs` and `counts` from the beginning**