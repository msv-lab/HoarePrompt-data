Output State: **`works` is True, `avg` is updated based on the formula, `hidx` is equal to the length of `h`, `pidx` is not equal to the length of `p`, `curpos` is assigned the value of the last element in `h`, `ll` is assigned the value of `avg`**