Output State: **`works` is true, `avg` is updated based on the formula, `hidx` is 0, `pidx` is 0**