Output State: **`works` is a boolean, `hidx` is incremented by the number of elements in list `h`, `pidx` is equal to the number of elements in list `p` that are less than or equal to the final `furthestright`, `leftget` is assigned the value of the last element in list `p`, `curpos` is the last element in list `h`, `getbacktime` is a non-negative integer based on the calculation mentioned above, `alsotoright` is the result of the operation max(0, avg - getbacktime), `leftime` is the result of max(0, curpos - leftget), `remtime` is the result of max(0, (avg - leftime) // 2), `furthestright` is assigned the value of `curpos + max(alsotoright, remtime)`**