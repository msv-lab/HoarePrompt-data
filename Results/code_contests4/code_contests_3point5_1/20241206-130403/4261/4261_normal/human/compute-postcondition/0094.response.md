Postcondition: ***`j`, `i` are updated based on the calculation. `j` is not in `req`, `i` is updated based on the calculation***