Output State: minstack contains the element `x`, minidx contains the appended value `i`, maxstack contains the appended element `x`, maxidx contains the appended value `i`, dp[i] is updated based on the calculation dp[i] = min(dp[i], dp[maxidx[-1]] + 1.