Correctness: **True**

Explanation: 
- The program reads the input string and counts the number of '(' ')' and '#' characters.
- It then initializes a list `ans` with [1] repeated `sh-1` times and the last element in the list is calculated based on the counts of '(' ')' and '#'.
- It then iterates through the string and adjusts the counts of '(' and ')' based on the character encountered.
- If at any point the count of ')' becomes greater than '(' then it prints -1 and exits.
- Otherwise, it prints the elements of the `ans` list which contains the number of ')' characters to replace '#' with, satisfying the conditions of a beautiful string. 

The program covers all cases and correctly determines the number of ')' characters to replace '#' with to make the string beautiful.