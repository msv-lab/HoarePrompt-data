Output State: **`s` is a string of length at least 1, `left`, `right` is decreased by 1, `sh`, `ans`, `p` are integers**