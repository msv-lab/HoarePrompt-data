To determine the correctness of the provided program against the problem description, let's first analyze the logic of the code.

The program aims to find the minimal number of discrete jumps from the first skyscraper to the last. Here’s a breakdown of the key components and logic:

1. **Input Handling**: The program reads the number of skyscrapers and their heights. It uses the `input()` function to gather the heights into a list.

2. **Dynamic Programming Array**: An array `dp` is initialized where `dp[i]` represents the minimum number of jumps needed to reach the i-th skyscraper from the first.

3. **Stacks for Min/Max Heights**: The program maintains two stacks, `minstack` and `maxstack`, to keep track of the smallest and largest heights seen so far, allowing efficient checking of the conditions for discrete jumps.

4. **Iterative Logic**: The program iterates through each skyscraper and updates the `dp` array based on:
   - The possible jump from the previous skyscraper.
   - The possibility of jumping from the most recent skyscrapers that satisfy the conditions for discrete jumps based on height.

5. **Output**: Finally, it prints the value stored in `dp[n-1]`, which represents the minimum number of jumps needed to reach the last skyscraper.

Now, let's identify potential edge cases where the program might not work as expected:

- **Case with Equal Heights**: The program may not handle cases where there are many skyscrapers of equal height appropriately, especially if they are in between taller skyscrapers. For instance, consider the input:
  ```
  5
  1 2 2 2 5
  ```
  According to the problem description, one should be able to jump directly from the first to the last skyscraper (1 → 5), but the program's logic may incorrectly count the jumps due to the equal heights in between.

- **Case with Local Maximums**: If the heights create a situation where there are multiple peaks and valleys, the program may not correctly identify the best path. For example:
  ```
  6
  1 3 1 4 1 5
  ```
  The expected discrete jumps would be 1 → 2 → 4 → 6, which is 3 jumps, but the logic might miscalculate due to the conditions it checks.

Given these considerations, it seems that the program does not handle certain edge cases correctly where the heights of skyscrapers are equal or form complex patterns.

Thus, the conclusion is:

Correctness: **False** 

There are cases where the program does not correctly calculate the minimal number of discrete jumps, particularly with equal heights or more complex height distributions that violate the conditions for discrete jumps.