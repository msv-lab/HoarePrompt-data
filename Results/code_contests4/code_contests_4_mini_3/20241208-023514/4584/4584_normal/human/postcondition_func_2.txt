The function accepts three integer parameters `n`, `w`, and `m`, where `n` is the number of bottles (1 ≤ n ≤ 50), `w` is the weight of each bottle (100 ≤ w ≤ 1000), and `m` is the number of cups (2 ≤ m ≤ 50). It creates `n` Bottle instances and `m` Cup instances, then attempts to fill the cups from the bottles. If a cup is full or if there are no more bottles with contents left to fill, it returns an empty list. If all cups are successfully filled, it returns a list of ingredients from each cup. However, due to the potential for early returns when a cup is full or when there are insufficient bottles, the function may frequently return an empty list instead of a list of ingredients.