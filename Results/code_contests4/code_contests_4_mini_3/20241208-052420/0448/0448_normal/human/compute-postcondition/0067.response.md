Output State: **`hidx` is equal to the length of `h`, `pidx` is equal to the number of elements in `p` that are less than or equal to `furthestright` after all iterations, `works` is True if all positions were valid, and `p` is not empty. If any position was invalid, `works` is False.**