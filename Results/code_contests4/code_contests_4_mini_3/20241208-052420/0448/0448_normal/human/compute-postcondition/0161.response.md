Output State: **`hidx` is 0, `pidx` is 0, `leftget` is `p[0]`, `curpos` is `h[0]`, `getbacktime` is either 0 or a positive value based on the comparison of `curpos` and `leftget`; `alsotoright` is max(0, avg - getbacktime).**