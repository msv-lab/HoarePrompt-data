Output State: **`leftget` is assigned the value of `p[pidx]`, `curpos` is assigned the value of `h[hidx]`, `getbacktime` is either 0 or `2 * (curpos - leftget)` depending on the values of `curpos` and `leftget`; `alsotoright` is assigned the value of max(0, avg - getbacktime)**