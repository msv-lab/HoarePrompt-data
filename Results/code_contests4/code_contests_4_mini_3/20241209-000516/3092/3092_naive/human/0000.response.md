Correctness: **False**.

The provided program does not correctly solve the problem as described. Specifically, it does not account for situations where the number of changes needed to make all substrings distinct exceeds the available distinct characters (which is limited to 26 lowercase English letters).

For instance, consider the input:

```
n = 27
s = "aaaaaaaaaaaaaaaaaaaaaaaaaaa"  # 27 'a's
```

In this case, it is impossible to change the string such that all substrings are distinct because we have more characters in the string than the available 26 different lowercase letters. However, the program will incorrectly return `-1` because it only checks if `n <= 26` to decide if it can make the substrings distinct, rather than checking if `n` is greater than 26 and handling that case appropriately.

Thus, the logic for determining the minimum number of changes is flawed, leading to incorrect outcomes in cases where `n > 26`.