To determine the correctness of the provided Python program in relation to the problem description, let's analyze the program step by step and see if it adheres to the requirements.

### Problem Requirements Recap:
1. **Input Structure**:
   - The program accepts three integers: `n` (number of vertices), `m` (number of edges), and `D` (the required degree of vertex 1).
   - It then reads `m` edges that connect pairs of vertices.

2. **Output Requirements**:
   - If it's possible to form a spanning tree where vertex 1 has a degree exactly equal to `D`, the program should print "YES" and the edges of the spanning tree.
   - If it's not possible, it should print "NO".

### Program Analysis:
1. **Initial Variable Setup**:
   - The program reads `n`, `m`, and `D` correctly.
   - It constructs two adjacency lists: `ds` for edges not involving vertex 1 and `dmain` for all edges including those connected to vertex 1.

2. **Degree Check**:
   - It checks whether the degree of vertex 1 (i.e., the length of `dmain[1]`) is less than `D`. If so, it outputs "NO" and exits, which is correct.

3. **Connected Components Check**:
   - The program counts the number of distinct connected components reachable from vertex 2 onwards and stores this in `cur`.
   - It checks if this count exceeds `D`. If it does, it outputs "NO" and exits. This is a valid check because if the number of components exceeds `D`, it's impossible to connect them to vertex 1 to achieve the required degree.

4. **Edge Selection**:
   - It uses a set `sviaz` to track distinct components reachable from vertex 1's neighbors and removes any edges that would create duplicates.
   - It then constructs the spanning tree starting from vertex 1, ensuring it only adds edges to vertices that haven't been visited yet.

5. **Final Output**:
   - If the spanning tree construction succeeds, it outputs "YES" followed by the edges of the spanning tree.

### Conclusion on Correctness:
The program implements the required functionality as described in the problem statement:
- It correctly checks for the degree of vertex 1.
- It verifies the number of connected components and ensures it can connect them to vertex 1.
- It constructs a spanning tree and outputs it correctly.

### Edge Cases:
The program appears to handle edge cases well, such as:
- When vertex 1 has fewer edges than required (outputs "NO").
- When there are too many distinct components (outputs "NO").
- It also ensures that no duplicate edges are added to the result.

Given this thorough analysis, the program correctly implements the requirements of the problem description.

### Final Verdict:
Correctness: **True**