Output State: **`res` is updated to the maximum of its current value and `n_moves`, where `n_moves` is calculated based on the value of `i1`.**