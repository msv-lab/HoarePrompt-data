The function accepts a non-negative integer `n` and returns 0 if `n` is 0. For positive values of `n`, it computes two sums: `f`, which is the sum of contributions for even indices, and `s`, which is the sum of contributions for odd indices, based on the powers of 2. Finally, it returns the value of `f` squared plus `s` multiplied by `(s + 1)`. The loop iterates at most 100 times, and it breaks early if `n` becomes non-positive.