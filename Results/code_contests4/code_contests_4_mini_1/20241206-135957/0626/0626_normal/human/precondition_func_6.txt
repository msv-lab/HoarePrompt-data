a is a list of integers representing the number of apples at each leaf vertex, with 0 ≤ ai ≤ 10^8, and b is an integer representing the number of edges in the tree, where 2 ≤ n ≤ 10^5. The edges are defined as pairs of integers representing connections between vertices.