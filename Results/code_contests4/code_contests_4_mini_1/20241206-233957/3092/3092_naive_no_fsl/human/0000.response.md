Correctness: **False**

The program fails to correctly calculate the minimum number of changes needed to ensure all substrings of the input string `s` are distinct. The logic used is overly simplistic and does not account for situations where the string length exceeds the number of unique lowercase English letters (26). 

For example, consider the input:

```
n = 27
s = "aaaaaaaaaaaaaaaaaaaaaaaaa"  # 27 'a's
```

In this case, it is impossible to make all substrings distinct since there are not enough unique characters (only 26 possible lowercase letters) to replace the repeated characters. The program would output `-1` correctly in this case. However, if we consider a string like:

```
n = 27
s = "abcdefghijabcdefghijklmno"  # 27 characters with some duplicates
```

The program would incorrectly compute the result as follows:

1. It checks if `n` is less than or equal to 26, which it is not.
2. It then sets `result` to `-1`, which is correct in this case. However, it does not address how to calculate the minimum changes required when `n` is less than or equal to 26. 

The program fails to handle scenarios where characters can be changed strategically to reduce the number of duplicates, leading to an incorrect logic implementation for the task at hand. 

Thus, the program does not meet the requirements as stated in the problem description for all potential cases.