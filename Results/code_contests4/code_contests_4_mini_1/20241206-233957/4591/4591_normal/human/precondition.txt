q is a positive integer such that 1 <= q < 2^31. The input ends with -1, and there can be up to 50 datasets.