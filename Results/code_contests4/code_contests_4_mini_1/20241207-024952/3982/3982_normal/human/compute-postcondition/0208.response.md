Output State: **`n` is greater than `ans + 3`, `i` is `ans + 3`, `x` is `rel_lights_x[ans + 3]`, `y` is `rel_lights_y[ans + 3]`, `sp` is max(0, ans - y); `ep` is min(ans, rel_lights_x[ans + 3])**