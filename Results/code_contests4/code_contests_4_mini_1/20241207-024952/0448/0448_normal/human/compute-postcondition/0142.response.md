Postcondition: ***`hidx` is equal to the length of `h`, `pidx` is equal to the length of `p` if all elements in `p` are less than or equal to the last calculated `furthestright`; otherwise, `pidx` is the first index in `p` that exceeds `furthestright`. `works` is False if the condition `curpos - leftget > avg` was met in any iteration; otherwise, it remains True. If `pidx` is not equal to the length of `p`, the state of the variables is updated accordingly.***