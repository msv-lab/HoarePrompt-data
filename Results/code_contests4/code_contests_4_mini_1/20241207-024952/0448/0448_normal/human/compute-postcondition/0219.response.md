Postcondition: ***`hidx` is equal to the length of `h`, `pidx` is equal to the length of `p`, and all elements in `p` are less than or equal to `furthestright` for the last `hidx`. If `works` is True, then `ss` is equal to `avg`, `avg` is calculated as `(ss + ll) // 2`, and `ll` is equal to `avg`. If `works` is False, then `ss` is equal to `avg + 1`, and `avg` is still calculated as `(ss + ll) // 2`. In both cases, if `pidx` is not equal to the length of `p`, the condition is satisfied.***