Correctness: **True**

The provided program adheres to the problem description and correctly implements the logic for distributing milk from the bottles into cups according to the constraints specified. 

### Explanation:
1. **Input Parsing and Validation**: The program reads the input values for `n`, `w`, and `m`, ensuring they fall within the expected ranges.

2. **Bottle and Cup Classes**: The classes `Bottle` and `Cup` are defined to manage the state of each bottle and cup, including methods to check if they are empty or full.

3. **Distribution Logic**:
   - The program calculates the capacity of each cup based on the total volume of milk and the number of cups.
   - It attempts to pour milk into each cup from the bottles while ensuring that milk from each bottle is only poured into at most two different cups.
   - The `func_2` method handles the pouring logic, updating the state of both the bottle and the cup accordingly.

4. **Output Generation**: If successful, the program outputs "YES" followed by the distribution of milk. If it fails to distribute the milk according to the rules, it outputs "NO".

### Edge Cases:
- The logic accounts for situations where the number of cups is insufficient to hold the total volume of milk, leading to a "NO" output when appropriate.
- The program handles all required precision for the output, ensuring that the volumes are printed with at least six decimal places.

Given that the code satisfies all requirements of the problem statement and handles edge cases effectively, I conclude that the implementation is correct.