Output State: **`x` is equal to `i`, `j` is equal to the length of the substring processed, `res` is updated based on the calculations involving all relevant `item` elements, with `res` being the accumulated result modulo `998244353`.**