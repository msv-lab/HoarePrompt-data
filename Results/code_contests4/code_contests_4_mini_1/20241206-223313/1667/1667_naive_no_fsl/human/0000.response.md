To verify the correctness of the provided program against the problem description, let's analyze the program step by step, considering the requirements and constraints given.

### Problem Understanding:

1. **Objective**: Maximize the points earned by deleting elements from the sequence. When an element `ak` is chosen, all occurrences of `ak`, `ak - 1`, and `ak + 1` are removed from the sequence and the player earns `ak` points for each occurrence of `ak`.

2. **Input Constraints**:
   - `n` (1 ≤ n ≤ 105): the number of integers in the sequence.
   - `ai` (1 ≤ ai ≤ 105): the value of each integer in the sequence.

3. **Output**: A single integer representing the maximum points that can be earned.

### Program Analysis:

- The program uses dynamic programming to track the maximum points that can be earned. 
- It calculates the frequency of each integer in the sequence using the `freq` array.
- It initializes a `dp` list where `dp[i]` represents the maximum points that can be earned using numbers up to `i`.
- The recurrence relation used is:
  - `dp[i] = max(dp[i - 1], dp[i - 2] + freq[i] * i)`, which means:
    - Either skip the current number `i` and take the maximum points up to `i-1`, or
    - Take the current number `i` (adding its points) and the points up to `i-2` (since `i-1` would be removed).

### Edge Cases and Potential Issues:

1. **Single Element Case**: If the input is `1` and the sequence is `[1]`, the output should be `1`. The program handles it correctly.
  
2. **Elements with Gaps**: Consider a case like `5` and the sequence `[1, 3, 5, 7, 9]`. 
   - Here, the optimal points would be `1 + 3 + 5 + 7 + 9 = 25`. The program should account for skipping elements (e.g., it cannot take `3` and `1` together). The logic in the code should handle this correctly as it considers non-adjacent selections.

3. **Multiple Occurrences of Same Number**: If the input is `3` and the sequence is `[2, 2, 2]`, the points should be `2 * 3 = 6`. The program does handle this correctly.

4. **Handling Maximum Values**: Given the maximum constraints (up to `10^5`), the program should still function correctly without exceeding memory or time limits.

### Conclusion:

After analyzing the program and considering edge cases and examples, I find that the program implements the dynamic programming solution correctly. It handles all potential cases as per the problem description without any missing logic or edge cases that would lead to incorrect outputs.

Therefore, the correctness of the program is:

Correctness: **True** 

The program efficiently calculates the maximum points by maintaining the necessary state through dynamic programming, ensuring that all given scenarios and constraints are satisfied.