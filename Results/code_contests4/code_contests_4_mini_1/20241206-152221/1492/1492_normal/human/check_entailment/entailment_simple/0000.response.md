To determine the correctness of the given Python program according to the problem description, we need to analyze the functionality of the code and see if it adheres to the requirements outlined.

### Problem Description Recap:
The task is to calculate the minimum number of discrete jumps Vasya must make to reach the last skyscraper from the first one. A jump is discrete if:
1. The jump is between two skyscrapers that are adjacent (i + 1 = j).
2. The heights of all skyscrapers between the two are either strictly lower than the minimum of the two or strictly higher than the maximum of the two.

### Analysis of the Provided Program:
1. **Input Handling**: The program reads an integer n (number of skyscrapers) and a list of integers representing the heights of these skyscrapers.
2. **Dynamic Programming Setup**: The program uses a dynamic programming approach where `dp[i]` represents the minimum number of discrete jumps needed to reach the i-th skyscraper.
3. **Logic for Calculating Discrete Jumps**:
   - The outer loop iterates through each skyscraper, starting from the second one.
   - For each skyscraper, it initializes the jump count from the previous skyscraper (`dp[i] = dp[i - 1] + 1`).
   - It maintains stacks (`minstack` and `maxstack`) to track the minimum and maximum heights seen so far, along with their indices.
   - The program checks conditions to update the jump count based on the height comparisons and the discrete jump conditions specified in the problem.

### Correctness:
- The program correctly implements the logic for counting jumps based on the discrete jump conditions.
- It uses stacks to efficiently track the heights and their indices, which allows it to fulfill the requirements of jumps being valid based on the relative heights of skyscrapers.
- The final output (`print(dp[n - 1])`) gives the minimum number of jumps needed to reach the last skyscraper.

### Conclusion:
The program adheres to the problem description by correctly calculating the minimum number of discrete jumps needed based on the given conditions. Therefore, it is correct.

Correctness: **True**