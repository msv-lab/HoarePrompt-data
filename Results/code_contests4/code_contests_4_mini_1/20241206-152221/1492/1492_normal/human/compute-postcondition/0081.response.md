Postcondition: ***`minstack` is not empty, and the top element of `minstack` is equal to `x`. `maxstack` has all values less than or equal to `x` removed, `maxidx` has corresponding values removed, `minidx` is not empty, and `dp[1]` is updated to the minimum of its current value and `dp[minidx[-1]] + 1`. If `maxidx` is not empty, `dp[i]` is updated based on the values from `dp[maxidx[-1]]`.***