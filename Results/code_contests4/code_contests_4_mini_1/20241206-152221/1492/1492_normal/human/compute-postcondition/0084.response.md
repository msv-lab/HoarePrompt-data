Postcondition: ***`minstack` is not empty and its top element is equal to `x`. The `maxstack` remains unchanged, `maxidx` remains unchanged, `minidx` has had its top element removed, and `dp[1]` is updated to the minimum of its current value and `dp[minidx[-1]] + 1`. If `maxidx` is not empty, `dp[i]` is also updated based on the values from `dp[maxidx[-1]]`.***