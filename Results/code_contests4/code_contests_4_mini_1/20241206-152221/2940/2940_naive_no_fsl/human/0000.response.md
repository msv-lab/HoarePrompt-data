Correctness: **False**

The provided program does not correctly handle the conditions outlined in the problem description. Here are the issues:

1. **Direction Validation**: The program only validates movements in the "South" and "North" directions but ignores movements in the "East" and "West" directions. According to the problem description, moving "East" or "West" is valid as long as Limak is not at the North or South Pole. However, the program does not implement any logic to handle those directions.

2. **Movement Logic**: The movement logic does not enforce the restriction that if Limak is at the North Pole (height = 0), he can only move South. The program continues to process input regardless of Limak's position.

3. **Final Position Check**: The program checks if the final height matches `HEIGHT` (20000), but it does not account for scenarios where Limak might be at the North Pole during the journey. The journey must end at the North Pole, but the program does not enforce this rule properly.

4. **Edge Cases**: For example, consider the input:
   ```
   2
   20000 South
   1000 East
   ```
   In this case, Limak starts at the North Pole, moves to the South Pole, and then tries to move East. The program would incorrectly output "YES" because it does not check the direction restrictions properly.

Due to these failures to adhere to the problem's requirements, the program is incorrect.