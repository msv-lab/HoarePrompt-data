Correctness: **False**

The provided program does not correctly implement the requirements outlined in the problem description for the following reasons:

1. **Ignoring Invalid Directions**: The program only considers movements in the "South" and "North" directions and ignores any segments with directions "West" or "East". However, the problem description does not state that movements in these directions are to be ignored. Instead, it implies that any movement in these directions should result in an immediate failure to satisfy the conditions since Limak can only move vertically (North or South) when he is at the poles.

2. **Movement from North Pole**: The first condition states that if Limak is at the North Pole, he can only move South. The program does not check if he is at the North Pole (height == 20000) before allowing any movement in the "South" direction. Instead, it permits any "South" movement regardless of the current height.

3. **Movement from South Pole**: Similarly, the second condition states that if Limak is at the South Pole (height == 0), he can only move North. The program fails to enforce this condition as well, allowing movements North even when Limak could be at the South Pole.

4. **Final Position Check**: The program correctly checks if the final height equals 20000, but it does not enforce the conditions required throughout the journey. Therefore, it could end up at the North Pole without adhering to the movement restrictions outlined in the problem.

In summary, the program does not enforce the directional movement restrictions based on Limak's position (North Pole or South Pole) and ignores directions that should inherently cause the journey to be considered invalid. As a result, the program does not fully comply with all the requirements of the problem description, leading to an overall correctness of **False**.