Postcondition: ***`pidx`, `hidx` are the indices of elements in `p` and `h` respectively, `leftget`, `curpos` are the values assigned to the corresponding variables. If `curpos - leftget > avg`, `works` is set to False and the loop breaks out. Otherwise, no changes occur.***