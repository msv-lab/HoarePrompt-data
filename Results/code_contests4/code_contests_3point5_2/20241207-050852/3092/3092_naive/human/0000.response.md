Correctness: **True**

Explanation: 
The program correctly determines the minimum number of changes needed to make all substrings distinct. If the length of the string is less than or equal to 26, it calculates the result by subtracting the length of the set of characters in the string from the length of the string. This works as expected because if the number of unique characters in the string is less than the length of the string, then changing some characters will make all substrings distinct. If the length of the string is greater than 26, it correctly outputs -1, indicating that it is impossible to make all substrings distinct. The program handles all potential cases as described in the problem description.