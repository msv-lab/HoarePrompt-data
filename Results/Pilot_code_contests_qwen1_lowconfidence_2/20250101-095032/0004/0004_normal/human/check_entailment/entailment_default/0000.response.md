Correctness: **False**

Explanation: The code does not seem to correctly restore the permutation based on the given problem description. The key issue lies in the implementation of the functions and how they process the input data. Let's break down the potential issues:

1. **Reading Input**: The functions `func_1` and `func_2` correctly read the input values for `n` and the list `s`. However, the remaining functions and logic do not seem to align with the problem requirements.

2. **Processing `s_i` Values**: The problem requires constructing a permutation `p` such that for each index `i`, `s_i` is the sum of all `p_j` such that `j < i` and `p_j < p_i`. The provided code does not appear to have any logic that constructs the permutation based on the `s_i` values. Instead, it seems to involve BITTree operations, which are typically used for efficient range queries and updates, but there is no clear connection to restoring the permutation.

3. **Binary Indexed Tree (BIT) Operations**: The functions `func_6` and `func_7` are used to perform range sum queries and updates on the BITTree. These operations do not directly relate to the problem of constructing the permutation based on the `s_i` values. The BITTree operations are likely intended to support the construction process, but the code does not show how these operations are used to derive the permutation.

4. **Restoring the Permutation**: The function `func_8` attempts to construct the permutation, but the logic inside `func_8` does not seem to correctly map the `s_i` values to the correct permutation elements. Specifically, the logic for updating `ret` and `sm` does not appear to be correctly aligned with the problem requirements.

Given these observations, the code does not appear to correctly implement the logic required to restore the permutation based on the given `s_i` values. Therefore, the code does not meet the problem description for every potential case, resulting in **False** correctness.