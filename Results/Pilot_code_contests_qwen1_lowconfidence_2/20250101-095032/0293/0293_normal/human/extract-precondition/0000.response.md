Precondition: **a is an integer representing the number of switches (N), and b is a list of tuples. Each tuple represents the connections of each bulb (k_i, s_{i1}, s_{i2}, ..., s_{ik_i}), and the last element of the list is a list of integers (p_1, p_2, ..., p_M) representing the modulo condition for each bulb.**