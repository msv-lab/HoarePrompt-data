graph is a dictionary where each key is an integer (representing a room) and its value is a list of integers (representing the rooms directly connected by passages), start is an integer representing the starting room (default is 0), and N and M are integers such that 2 ≤ N ≤ 10^5 and 1 ≤ M ≤ 2 × 10^5.