Postcondition: ***`cur` is the first element of `q` (after removing its first element), `e[cur]` must contain at least one element, and `dep[to]` is either equal to `dep[cur] + 1` (if `len(e[to]) == 2`) or remains as -1 (if `len(e[to]) != 2`). Additionally, if `len(e[to]) == 1`, the function breaks out of the most internal loop or if statement. Otherwise, `q` now contains all its original elements plus `to`.***