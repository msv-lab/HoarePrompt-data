Postcondition: ***`deg` is `[-1] * (n + 1)`, `cur` is undefined or the last node processed, `q` is empty or contains remaining nodes, `dep` contains the correct depth for each node based on its parent's depth, `top` is the last leaf node found or undefined if no leaf node was found, `n` is a positive integer, `bad` is `True`, `i` is `1`, `deg[dep[i]]` is equal to `len(e[i])` if the condition `deg[dep[i]] != len(e[i])` is false, otherwise `deg[dep[i]]` remains unchanged.***