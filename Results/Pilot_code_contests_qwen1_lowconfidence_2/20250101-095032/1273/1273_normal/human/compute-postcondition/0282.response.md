Postcondition: ***`e[cur]` must contain at least one element, and there must exist at least one `to` in `e[cur]` such that `len(e[to]) != 1`. If `len(e[to]) == 2`, then `dep[to]` is `dep[cur] + 1` and `q` contains an additional element `to`. Otherwise, `top` is equal to `to`, `q` is an empty list, and the most internal loop or if statement is broken.***