Postcondition: ***`q` is a queue where its first element is removed and potentially appended with some elements plus `to`, `cur` is equal to the first element that was removed from `q`, `e[cur]` contains at least one element, `dep[cur]` remains unchanged, `dep[to]` is updated to `dep[cur] + 1`, and the condition for appending `to` to `q` still holds.***