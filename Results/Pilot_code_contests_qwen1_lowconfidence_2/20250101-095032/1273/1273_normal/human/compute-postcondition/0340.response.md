Postcondition: ***`cur` is the next value of `to` from `e[cur]`, `q` is a non-empty queue with `cur` potentially modified, `dep` remains the same, and `top` is set to `to` if `len(e[to]) == 1`. If `len(e[to]) == 1`, `q` becomes an empty queue and the most internal loop or if statement is exited. Otherwise, `q` remains non-empty.***