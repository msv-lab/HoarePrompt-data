t is an integer such that 1 ≤ t ≤ 10^4, n is an integer such that 2 ≤ n ≤ 10^5, m is an integer such that 1 ≤ m ≤ 10^5, H is an integer such that 1 ≤ H ≤ 10^9, l_i is an integer such that 0 ≤ l_i ≤ H-1, s_i is an integer such that 0 ≤ s_i ≤ H-1, and the passages are pairs of integers representing connected platforms.