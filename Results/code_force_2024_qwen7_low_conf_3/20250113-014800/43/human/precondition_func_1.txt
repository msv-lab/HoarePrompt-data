node is an integer representing a vertex in the tree, parent is an integer representing the parent vertex of node in the tree (None if node is the root), tree is a dictionary representing the tree structure where keys are vertices and values are lists of adjacent vertices, student_types is a list of strings of length n where each string represents the type of the student in the corresponding vertex ('P', 'S', or 'C').