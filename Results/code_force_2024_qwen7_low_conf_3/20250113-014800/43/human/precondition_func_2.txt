t is a positive integer indicating the number of test cases. For each test case, n is a positive integer representing the number of vertices in the tree, edges is a list of integers representing the parent-child relationships in the tree, and student_types is a string of length n consisting of characters 'P', 'S', and 'C', where 'P' indicates a student who wants to party, 'S' indicates a student who wishes to sleep, and 'C' indicates a student who doesn't care.