Postcondition: ***`total_value` is `total_value % MOD`, `max_balls` is the maximum value between `max_balls` and `a[i]` (if `a[i] > 0`), and `i` is `i + 1`. This holds true whether `mask & 1 << i` is non-zero or zero.***