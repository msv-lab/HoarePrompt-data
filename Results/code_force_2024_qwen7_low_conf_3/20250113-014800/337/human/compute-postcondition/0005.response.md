Postcondition: ***`total_value` is 0, `max_balls` is 0, `i` is 0, `n` must be at least 1, and the mask and 1 shifted left by `i` bits is not equal to 0***