tree is a dictionary representing an undirected tree where keys are vertex numbers (integers from 1 to n) and values are lists of adjacent vertex numbers. start_node is an integer representing the starting vertex, with 1 <= start_node <= n.