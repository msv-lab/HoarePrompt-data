n is a positive integer such that 1 <= n <= 2 * 10^3, edges is a list of tuples representing the edges of the tree where each tuple (u, v) indicates an edge connecting vertices u and v, and distances is a dictionary mapping each vertex to its distance from vertex 1.