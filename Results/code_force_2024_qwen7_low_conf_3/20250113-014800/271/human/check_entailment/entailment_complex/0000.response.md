Reasoning:
1. **Function `func_1`**: Generates `n` distinct magic words, each composed of random sequences of 'X' and 'O' characters. The function ensures that the words are unique and meet the specified length constraints. This part is correct and fulfills the requirement of creating distinct magic words.

2. **Function `func_2`**: Calculates the number of unique non-empty substrings of a given string `s`. This is implemented correctly by generating all possible substrings and counting them using a set to ensure uniqueness. The function correctly computes the power of a spell as defined by the problem statement.

3. **Function `func_3`**: Searches for two magic words whose concatenation results in a spell with the given power. The function iterates over all possible pairs of magic words, concatenates them, and checks if the resulting power matches the target power using `func_2`. If a match is found, the function returns the 1-based indices of the two magic words. If no match is found, it returns `(-1, -1)`. The logic is correct and should handle all possible cases, including edge cases.

4. **Interaction Protocol**: The program interacts correctly with the judge by reading input and printing outputs as specified. It reads `n` and prints `n` magic words, followed by reading `q` and processing each query to determine the indices of the magic words used to form each spell.

Given the analysis above, the program meets all the requirements and constraints specified in the problem statement. All functions perform their intended operations correctly, and the overall structure of the program is appropriate for the interaction protocol.

Correctness: **True**