### Reasoning:

1. **Magic Word Generation:**
   - The `func_1` function generates `n` distinct magic words of random lengths between 1 and \(30 \cdot n\) characters. Each character in the magic words is either 'X' or 'O'. This part is correct and ensures the generation of distinct strings as required.

2. **Power Calculation:**
   - The `func_2` function calculates the number of different non-empty substrings of a given spell. This function correctly implements the logic to find all unique substrings using nested loops, which is accurate.

3. **Spell Power Verification:**
   - The `func_3` function attempts to find the indices of the two magic words that produce a spell with the given power. It does so by iterating over all pairs of magic words, concatenating them, and checking if the power of the resulting spell matches the given power. If a match is found, it returns the indices of the two words. This logic is sound and works as intended.

4. **Interaction Protocol Compliance:**
   - The program correctly reads the input values `n` and `q`, prints `n` magic words, and then processes `q` queries. For each query, it reads the spell power and prints the indices of the two magic words that form the spell with the given power. This interaction follows the specified protocol.

5. **Edge Cases and Validations:**
   - The program handles the constraints and edge cases correctly. It ensures that the generated magic words are distinct, have valid lengths, and the indices returned are within the required bounds.

### Conclusion:

Given that all parts of the program adhere to the problem description and constraints, and there are no apparent logical flaws or bugs, the provided program is correct.

### Correctness:
**True**