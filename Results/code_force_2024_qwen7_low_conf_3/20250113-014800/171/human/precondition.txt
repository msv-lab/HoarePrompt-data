t is an integer such that 1 ≤ t ≤ 5 × 10^4. For each test case, n and l are integers such that 1 ≤ n ≤ 2000 and 1 ≤ l ≤ 10^9. Each message is characterized by two integers a_i and b_i such that 1 ≤ a_i, b_i ≤ 10^9. The list of messages for each test case is provided as input, and the sum of n^2 over all test cases does not exceed 4 × 10^6.