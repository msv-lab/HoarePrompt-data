T is an integer representing the number of test cases; n, k are integers such that 1 ≤ k, n ≤ 2 ⋅ 10^5; a is a list of integers where 1 ≤ a_i ≤ n; the sum of the values of n across all test cases does not exceed 2 ⋅ 10^5; the list a has length equal to n; and max_subarray_sum is a function that returns the maximum subarray sum using Kadane's algorithm applied to the list a.