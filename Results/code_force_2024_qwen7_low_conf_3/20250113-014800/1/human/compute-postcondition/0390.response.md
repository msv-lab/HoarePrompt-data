Postcondition: ***`ai` is the next element in `half`, `singles`, `pairs`, `found`, `ws`, `wp`, `res1`, and `res2`, and `hs` is increased by 1. If `cnts[ai]` equals 1, `res1` is updated by appending `ai`, and `res2` contains the elements of `res2` before appending `ai` plus `ai`. Otherwise, the program state remains unchanged with no specific changes to `res1` and `res2`.***