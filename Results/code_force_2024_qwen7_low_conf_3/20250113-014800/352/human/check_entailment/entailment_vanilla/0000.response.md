Reasoning:
1. The problem requires us to determine if we can make all containers have the same amount of water using the allowed operations.
2. The key observation is that the total amount of water is always divisible by the number of containers \(n\), meaning the target amount of water per container would be \( \frac{\text{sum}(a)}{n} \).
3. The program iterates through each test case, calculates the target amount of water per container, and then checks if the water distribution allows for such an equal distribution.
4. For each test case, the program:
   - Reads the number of containers and their respective water amounts.
   - Computes the target amount of water per container.
   - Initializes `d` to track the difference between the current total water and the target total water.
   - Uses a bitmask `f` to check if the difference `d` ever becomes negative. If `d` ever goes negative, it means it's impossible to balance the water amounts using the given operations.
5. The condition `print('YNEOS'[f < 0::2])` prints "YES" if `f` is non-negative (meaning `d` never went negative), indicating the water can be evenly distributed, otherwise it prints "NO".
6. Given the constraints and logic, the program correctly implements the solution as required by the problem statement.

Correctness: **True**