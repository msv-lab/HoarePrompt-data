Postcondition: ***`i` is 3, `j` is 2, `xx[1][n - 1]` is either `val` or `?`. If either `i` or `j` is in `sb[:n // 4 - 1]`, then `nx` is `'FS'`. Otherwise, `nx` is either `'SF'` or `'FF'`***