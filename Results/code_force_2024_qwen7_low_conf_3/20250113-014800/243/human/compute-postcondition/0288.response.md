Postcondition: **`i` is 3, `j` is 3, `xx[1][n - 1]` is either `val` or `?`, depending on `xx[3][2]` and `sb[:n // 4 - 1]`. If `xx[i][j - 1]` is not `?`, then `nx` is `nx` + `xx[3][2]`. Otherwise, if `i` or `j` is in `sb[:n // 4 - 1]`, then `nx` is either `'FSS'`, `'SFs'`, or `'FFS'`. Otherwise, `nx` is `xx[3][0] + xx[3][1] + 'F'` if `nx` was `xx[3][0] + xx[3][1]`, `'FSF'` if `nx` was `'FS'`, `'SFF'` if `nx` was `'SF'`, and `'FFF'` if `nx` was `'FF'`.**