Postcondition: ***`i` is 3, `j` is 2, `xx[1][n - 1]` is either `val` or `?`. If `xx[i][j - 1]` is not `?`, then `nx` is `xx[3][0] + xx[3][1]`. Otherwise, if either `i` or `j` is in `sb[:n // 4 - 1]`, then `nx` is `'FS'`. Otherwise, `nx` is either `'SF'` or `'FF'`.***