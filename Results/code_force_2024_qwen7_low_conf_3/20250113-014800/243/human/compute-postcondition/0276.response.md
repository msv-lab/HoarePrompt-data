Postcondition: ***`i` is 3, `j` is 1, `xx[1][n - 1]` is either `val` or `?`, and `nx` is either `xx[3][0]` if `xx[3][0]` is not `?`, otherwise `nx` is `'S'` if either `i` or `j` is in `sb[:n // 4 - 1]`, otherwise `nx` is `'F'`.***