Postcondition: **`n` is the length of the string `s`, `s` is a string with a length greater than 0, `res` is a list of \(2 * n - 1\) elements, all set to 0, `l` is -1, `r` is -1, `z` is 0, `i` is \(2 * p + 1\), `j` is 0, `p` is the maximum value that satisfies the condition \(j + p + 1 < n\) and \(i - p - 1 \geq 0\), and the current value of `j` is such that \(j + p > r\)**