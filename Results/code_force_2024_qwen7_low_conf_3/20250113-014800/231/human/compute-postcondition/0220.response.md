Postcondition: **`res` is `[-a[1][1] + a[0][-1] - a[1][-1] + a[1][n + m], -a[1][1] + a[1][n + m]]`, `ans` is `ans - a[types[i]][i]`, `i` is either 2 or 3, `cur[0]` is `bounds[0] + 1`, `types` is `[0, 1]`, `bad` is -1, `badType` is undefined, `val` is `ans - a[types[i]][i]` (or `ans - a[types[i]][i] + a[badType][-1] - a[1 - badType][-1] + a[1 - badType][n + m]` if the condition `bad != -1 and i < bad and (types[i] == badType)` is true), `curType` is 1**