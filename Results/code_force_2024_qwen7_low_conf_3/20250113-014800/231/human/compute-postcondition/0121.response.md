Postcondition: ***`curType` is 0 or 1. If `cur[curType]` equals `bounds[curType]`, then `curType` changes to its opposite. `n + m` remains greater than 0. `ans` is increased by `a[1][i+1]`. `cur[types[i+2]]` is increased by 1. If `cur[curType] + 1` equals `bounds[curType]`, then `bad` is set to `i + 1` and `badType` is set to 1; otherwise, the original state is retained. `types[i+1]` is 1, and `cur[1]` is increased by 1. If `bad == -1`, then `bad` is set to `i` and `badType` is set to `1 - curType`; otherwise, the original state is retained.***