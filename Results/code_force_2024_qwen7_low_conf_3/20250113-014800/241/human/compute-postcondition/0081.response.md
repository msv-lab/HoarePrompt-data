Output State: **`grid` is a 2D list of strings representing the grid, `r` and `c` are positive integers indicating the dimensions of the grid, `initial_position` and `final_position` are tuples indicating the starting and ending coordinates, `visited` is a 2D list marking the visited positions, `q` is a deque containing all positions that can be reached from `final_position` based on the movement directions specified by `[(1, 0), (-1, 0), (0, 1), (0, -1)]`, `parent` is a dictionary mapping each position in `q` to its parent position, all positions reachable from `final_position` and all positions that can reach `initial_position` are marked in `visited` and `parent`, and `current_position` is the last position dequeued from `q`.**

Explanation:
- The loop continues to execute until `q` is empty, meaning all positions reachable from `final_position` have been explored.
- Each iteration dequeues a position from `q`, checks if it matches `final_position`, and if so, breaks out of the loop.
- If the position does not match `final_position`, the function `func_1` is called to check if the neighboring positions are valid and not yet visited.
- If the condition is met, the neighboring positions are added to `q`, marked as visited, and their parent is updated in the `parent` dictionary.
- After all iterations, `q` will be empty, and all positions reachable from `final_position` and all positions that can reach `initial_position` will be marked in `visited` and `parent`.