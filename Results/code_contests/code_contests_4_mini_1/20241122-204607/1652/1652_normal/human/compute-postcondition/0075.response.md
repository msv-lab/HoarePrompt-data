Output State: **`n` is an integer such that 2 ≤ `n` ≤ 128; `idx` is equal to its previous value plus 1; `list_divisors` has at least 4 elements; `a` and `b` remain unchanged or are updated based on the conditions applied to `d`, and then `a` and `b` are swapped if `a > b`.**