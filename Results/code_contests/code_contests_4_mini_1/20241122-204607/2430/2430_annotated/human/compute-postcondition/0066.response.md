Postcondition: ***`queue` is non-empty or empty, `res` remains a list of `n` zeros, `val` is less than or equal to `HM`, `n` remains unchanged, and at least one element in `res` is less than or equal to `HM`.***