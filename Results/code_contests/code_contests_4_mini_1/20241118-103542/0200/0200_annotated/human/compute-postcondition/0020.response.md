Output State: **`n` is a positive integer such that 1 ≤ `n` ≤ 200000; `a` is a list of `n` integers where each integer `ai` satisfies 1 ≤ `ai` ≤ 10^9; `m` is a dictionary; `cnt` is an integer; `diff` is an integer; `ans` is updated based on the formula `ans += sm - diff - a[i] * (n - i - 1 - cnt)`**