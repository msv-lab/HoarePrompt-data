Correctness: **False**

The given program does not correctly calculate the expected number of unique elements in the chosen segment of the array. The program simply calculates the number of unique elements in the array and then adds 1 and divides by 2, which does not match the expected value as described in the problem statement.

For example, if the input is:
```
2
1 1
```
The expected output should be 1.000000, but the program will output 1.500000. 

Therefore, the program is incorrect and does not meet the requirements of the problem description.