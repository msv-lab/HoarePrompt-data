Correctness: **False**

The given program does not correctly implement the process described in the problem. The program calculates the value of `res` incorrectly by using the wrong logic. The program computes the value of `res` based on the number of prefix sums that are negative, which is not the correct approach as per the problem description.

An example where the program does not work as expected:
Input:
```
1
++---
```

Expected Output:
```
10
```

For the given input, the correct value of `res` after the process ends should be 10, but the program does not produce the correct output for this case.