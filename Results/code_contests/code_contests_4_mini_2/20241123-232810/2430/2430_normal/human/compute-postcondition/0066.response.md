Postcondition: ***The queue is either empty or contains elements to process, `res` remains unchanged or contains values that are not greater than `HM` for all relevant nodes. If `res` contains values greater than 0 for all neighbors of any current node, the queue does not change. `val` is less than or equal to `HM`, and the loop continues until the queue becomes empty.***