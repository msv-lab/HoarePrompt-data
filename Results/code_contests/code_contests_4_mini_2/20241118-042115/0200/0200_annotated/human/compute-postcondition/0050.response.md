Output State: **`n` is a positive integer (1 ≤ n ≤ 200000), `i` is `n - 3`, `sm` is updated accordingly, `cnt` is increased by the value of `m[a[i] + 1]`, and `diff` is updated if necessary; state of `sm`, `ans`, and `m` reflects any previous updates.**