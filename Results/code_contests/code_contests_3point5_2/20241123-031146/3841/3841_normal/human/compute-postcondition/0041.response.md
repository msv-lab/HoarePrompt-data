Output State: **n is a positive integer where 1 <= n+2 <= 10^5, arr is a list of n+2 integers with at least 3 elements, freq is a dictionary with keys representing elements in arr and values modified by subtracting 1 for the next element in arr, vis is a dictionary with keys representing elements in arr and values updated based on the next element in arr, rem is recalculated based on the next element in arr if the frequency is zero, ans is updated by adding rem if vis[i] was not previously set for the next element in arr, and vis[i] is set to 1 for the next element in arr.**