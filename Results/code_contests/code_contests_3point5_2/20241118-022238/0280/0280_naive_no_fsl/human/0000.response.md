Correctness: **True**

Explanation: 
- The program correctly reads the input for the number of regiments and the positions of the moles.
- It then iterates through all possible combinations of rotations for each mole in a regiment to find the minimal number of moves required to make the regiment compact.
- The program checks if a regiment can be made compact by calculating the distances between all pairs of moles and ensuring that there is only one distinct distance.
- Finally, the program prints the minimal number of moves required for each regiment, or -1 if it cannot be made compact.

Overall, the program logic aligns with the problem description and handles all potential cases as described.