Output State: **`n` is a positive integer, `a` is a list of n integers, `sm` is increased by the value of `a[i-1]`, `m` and `m[a[i-1]]` are updated based on the value of `a[i-1]`, `cnt` is updated by adding the value of `m[a[i]]`, `diff` is updated by adding the product of `a[i]` and `m[a[i]]`, `ans` is updated based on the changes in `m`, `i` is decremented by 1**