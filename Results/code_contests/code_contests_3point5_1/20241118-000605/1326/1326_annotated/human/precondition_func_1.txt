**Precondition**: 
- The input array p contains 2n integers where each integer is in the range [1, 2n].
- The input array p is a permutation.
- The number of test cases t is in the range [1, 1000].
- The length of each array a and b is n where n is in the range [1, 2000].
- The sum of n across all test cases does not exceed 2000.