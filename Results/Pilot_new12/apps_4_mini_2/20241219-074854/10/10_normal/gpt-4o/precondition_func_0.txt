d is an integer such that 1 ≤ d ≤ 10^5, n and m are integers such that 1 ≤ n, m ≤ 10^5, and each sofa's coordinates (x1, y1) and (x2, y2) are integers satisfying 1 ≤ x1, x2 ≤ n, 1 ≤ y1, y2 ≤ m with (x1, y1) ≠ (x2, y2). Also, cnt_l, cnt_r, cnt_t, and cnt_b are non-negative integers such that 0 ≤ cnt_l, cnt_r, cnt_t, cnt_b ≤ d - 1.