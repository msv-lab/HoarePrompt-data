Correctness: **False**

The program fails to correctly handle the requirement that all coins gifted to Ivan must be different and that at least `L` coins must be new to his collection. 

One potential case where the logic of the program does not hold is when the total number of friends `M` exceeds the number of unique coins `N`. If `M` > `N`, then it's impossible for each friend to gift a different coin, and the output should be `-1`. 

However, the current program only checks if `M >= N - K + 1` (implying more friends than the remaining unique coins after considering Ivan's collection). It does not check if `M` is greater than `N` itself. 

For example, if we take inputs like:
```
Input: 5 7 2 3
```
We have:
- N = 5 (total different coins)
- M = 7 (friends)
- K = 2 (coins Ivan has)
- L = 3 (coins must be new)

In this case, since `M` (7) > `N` (5), it is impossible for the friends to give distinct coins to Ivan. The program would still output `1` because it would incorrectly suggest that it's possible for each friend to gift at least one coin, which contradicts the uniqueness requirement.

Thus, due to the incomplete checks, the program does not meet the problem conditions correctly.