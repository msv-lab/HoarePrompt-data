The function accepts an integer `n` (where 1 ≤ n ≤ 3) and a list `cubes` consisting of `n` lists, each containing exactly 6 integers between 0 and 9. It returns the maximum number of distinct consecutive integers starting from 1 that can be formed using the faces of the cubes, stopping when a number cannot be formed. If `can_form_number(1)` is false, the function will return 0, indicating that no numbers can be formed.