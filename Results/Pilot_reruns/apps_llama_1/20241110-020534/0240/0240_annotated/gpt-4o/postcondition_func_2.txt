The function generates all permutations of a given string of digits `chars` and yields all valid numbers that contain a given substring `sub`. If `sub` is not found in any permutation of `chars` or if `chars` is empty, the function does not yield any values.