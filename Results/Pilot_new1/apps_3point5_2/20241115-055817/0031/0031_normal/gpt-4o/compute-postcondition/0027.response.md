Output State: **`A` is the result of the calculation `(p_total - p_no_shared + MOD) % MOD` divided by `g`, `B` is the updated value of `B` divided by `g`**