The function accepts a string of digits `chars` and a substring `sub`, generating all possible permutations of `chars`. It yields each permutation as a candidate if it is deemed valid by the `is_valid_number` function when compared to `sub`. The function does not return a list; instead, it uses a generator to yield valid candidates one at a time. If `chars` is empty, no candidates are yielded. If `sub` is not compatible with any permutation of `chars`, no candidates will be yielded despite the permutations being generated. Additionally, the function does not replace occurrences of `sub` in `chars` with digits from 0 to 9 as stated in the annotations; it only checks the validity of the permutations.