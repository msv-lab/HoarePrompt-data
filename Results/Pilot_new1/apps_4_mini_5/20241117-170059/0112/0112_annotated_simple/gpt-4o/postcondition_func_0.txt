The function accepts an integer `n` (where 1 ≤ n ≤ 3) and a list `cubes` containing `n` lists of 6 integers each (where each integer is between 0 and 9). It returns the highest integer value `x` for which `can_form_number(x)` is True. If no numbers can be formed (i.e., `can_form_number(1)` is False), it returns 0. The function does not handle cases where `cubes` does not contain the expected number of lists or where the integers in the lists are outside the specified range.