The function accepts an integer `n` and a list of `n` sets of integers representing the faces of cubes. It returns the highest integer `x` such that the function `can_form_number(x)` is true. If `can_form_number(1)` is false initially, the function will return 0. The value of `x` can vary based on the implementation of `can_form_number`, but it is guaranteed to be at least 0.