The function accepts an integer `n` (1 ≤ n ≤ 3) and a list of `n` lists `cubes`, where each list contains 6 integers (0 to 9). It counts how many consecutive integers starting from 1 can be formed using the `can_form_number` function. The function returns the highest integer `x` such that `can_form_number(x)` is True, or 0 if no integers can be formed.