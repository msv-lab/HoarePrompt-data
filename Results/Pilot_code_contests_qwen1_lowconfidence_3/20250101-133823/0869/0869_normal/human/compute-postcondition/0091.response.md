Postcondition: ***`v` is a valid key in `nbr`, `nbr[v]` is not empty, `i` is marked or added to `marked`, `res` contains the value of `i` followed by `i`, `Q` contains `i` in addition to its previous contents, `marked` contains `i`. This holds true whether `i` is already in `marked` or not, as the else part does not change these conditions.***