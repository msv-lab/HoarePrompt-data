Output State: **`Q` is a non-empty list, `v` is the last element of `Q` before the final append operation, `nbr[v]` must be non-empty, `marked` contains all elements that were added to `Q` during the loop, and `res` contains all unique elements from `nbr[v]` that were not already in `marked`.** 

Explanation:
- The loop continues to iterate as long as there are unmarked neighbors (`i` not in `marked`) of the current vertex `v`.
- Each iteration adds a new unmarked neighbor `i` to both `marked` and `res`, and appends `i` to `Q`.
- Once the loop finishes, `Q` will contain all the neighbors found, `v` will be the last element added to `Q` (since it is the last unprocessed vertex), `nbr[v]` must be non-empty, `marked` will include all unique neighbors encountered during the process, and `res` will contain all these unique neighbors.
- If the loop does not execute at all (which happens when `nbr[v]` is empty), then `Q` remains as it was initially (except for the last element `v` being added), `v` is the last element of `Q`, `nbr[v]` is empty, `marked` is empty, and `res` is also empty.