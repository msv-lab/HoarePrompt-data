Postcondition: ***`v` is a valid key in `nbr`, `nbr[v]` is not empty, and `i` is either marked or added to `marked`, `res` contains the value of `i`, and `Q` contains `i` if `i` is not already in `marked`***