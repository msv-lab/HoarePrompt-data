Output State: **`v` is a valid key in `nbr`, `nbr[v]` is not empty, `res` contains all nodes reachable from `v` without cycles, `Q` is empty, and `marked` contains all nodes reachable from `v` without cycles.**

Explanation:
- The loop iterates over the neighbors of `v` in `nbr[v]`.
- Each neighbor `i` is added to `marked` and appended to `res` if it is not already in `marked`.
- `i` is also added to `Q` if it is not already in `marked`.
- The loop continues until there are no more unmarked neighbors of `v`.

Since the loop processes all nodes reachable from `v` without cycles, `res` will contain all such nodes, and `marked` will also contain all such nodes. Once all reachable nodes are processed, `Q` becomes empty because no new elements are added to it after all nodes are processed.