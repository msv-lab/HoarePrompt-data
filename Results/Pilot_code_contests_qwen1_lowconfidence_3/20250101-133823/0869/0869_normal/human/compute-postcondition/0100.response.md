Postcondition: ***`Q` is non-empty with an additional element `i`, `v` is the second last element of `Q` before the append operation, `nbr[v]` must be non-empty, `marked` contains the value of `i`, and `res` contains `marked`. If `i` is not in `marked`, `i` is added to `marked`.***