Postcondition: **`q` is a non-empty list with its first element removed, and an additional element `to`. `cur` is the first element of the original `q`. `e[cur]` must have at least one element, `dep[cur]` is `v`, and `dep[to]` is `v + 1`.**