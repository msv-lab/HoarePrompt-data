Postcondition: ***`q` is a non-empty list or iterable, `cur` is the first element of `q`, `e[cur]` is a non-empty iterable, and `dep[to]` is updated to `dep[cur] + 1`, where `dep[cur]` is a non-negative integer.***