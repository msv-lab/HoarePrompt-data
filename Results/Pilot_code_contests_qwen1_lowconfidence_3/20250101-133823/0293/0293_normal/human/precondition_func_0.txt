a is an integer representing the number of switches (N), b is a list of length M, where each element is a sublist containing the connected switches for each bulb and an integer representing the modulo condition (p_i) for that bulb.