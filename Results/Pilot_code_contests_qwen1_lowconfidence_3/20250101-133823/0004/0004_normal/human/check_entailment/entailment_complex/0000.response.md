Correctness: **False**

Explanation: The provided code does not fully implement the logic required to restore the permutation based on the given `s_i` values. Specifically, the function `func_7` and `func_8` do not correctly handle the restoration of the permutation.

Here is a detailed analysis:

1. **Function `func_7`**: This function updates the Binary Indexed Tree (BIT) with a value `v` at index `i`. However, the function does not account for the fact that the `v` value should be subtracted from the BITTree when reversing the process to restore the permutation.

2. **Function `func_8`**: This function aims to find the correct value to place at index `i` in the restored permutation. While it correctly uses the BIT to find the smallest value that fits the criteria, it does not ensure that the values placed back into the BITTree maintain the correct order and sum properties required by the problem.

To illustrate, consider the following example:

- Input: `n = 3`
- `s = [0, 0, 0]`

The expected output is `[3, 2, 1]`.

However, the provided code does not correctly restore this permutation because:

- After processing `s[0] = 0`, the BITTree should indicate that `p_1 = 3`.
- After processing `s[1] = 0`, the BITTree should indicate that `p_2 = 2`.
- After processing `s[2] = 0`, the BITTree should indicate that `p_3 = 1`.

The code does not correctly update the BITTree to reflect the order of the elements being restored, leading to incorrect results.

Given this, the provided code does not follow the problem description for every potential case, and thus the correctness is **False**.