Postcondition: **`kwargs` does not contain 'end' key, or the value of 'end' is '\n' after pop operation, file contains the written string, and the current value of `kwargs` does not include 'flush' key or the value of 'flush' is `False`**