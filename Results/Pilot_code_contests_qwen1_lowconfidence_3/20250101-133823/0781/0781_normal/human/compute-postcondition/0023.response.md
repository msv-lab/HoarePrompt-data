Postcondition: ***`kwargs` does not contain 'end' key, or the value of 'end' is '\n' after pop operation, file contains the written string, and the file write buffer is flushed, regardless of whether the 'flush' key is present in `kwargs` or not.***