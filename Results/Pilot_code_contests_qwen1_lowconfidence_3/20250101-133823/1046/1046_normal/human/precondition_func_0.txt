n is an integer such that 1 ≤ n ≤ 10^3, and P is a list of n integers where each integer p_i satisfies 0 ≤ p_i < i.