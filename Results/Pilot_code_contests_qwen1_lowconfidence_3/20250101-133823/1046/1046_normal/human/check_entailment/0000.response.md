Correctness: **False**

Explanation: The program does not correctly implement the logic described in the problem statement. Specifically, the recurrence relation used in `func_2` is incorrect. According to the problem description, Vasya uses the second portal if the current room has an odd number of crosses and the first portal otherwise. However, the provided implementation does not accurately reflect this behavior.

To illustrate the issue, consider the following example:

**Input:**
```
n = 3
P = [1, 1, 3]
```

According to the problem description, the sequence of moves would be:
1. Start at room 1 (odd crosses, so use second portal to room 1).
2. Room 1 again (even crosses, so use first portal to room 2).
3. Room 2 (odd crosses, so use second portal to room 1).
4. Room 1 again (even crosses, so use first portal to room 2).
5. Room 2 again (even crosses, so use first portal to room 3).

This results in a total of 6 portal moves.

However, the program incorrectly calculates the number of moves. The calculation in `func_2` does not properly account for the alternating use of portals based on the number of crosses. This can be seen in the loop where the sum is calculated without correctly reflecting the logic of the problem.

Therefore, the program does not work correctly for this and potentially other cases, leading to a **False** correctness verdict.