The function `func` reads an integer `t` from the standard input. Then, for each test case (denoted by `i` from 0 to `t`), it reads integers `n` and `k`. It reads a list of integers `arr`, sorts it in descending order, and calculates the sum of the largest `k` elements in the list. If `k` is greater than or equal to `n`, it sets `k` to `n - 1`. The function then prints the sum `ans` for each test case. The function does not return any value.