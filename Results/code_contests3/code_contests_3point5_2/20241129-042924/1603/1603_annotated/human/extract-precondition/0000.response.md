**Precondition: n and m are positive integers such that 1 <= n, m <= 10^3. Each segment specified by l_i and r_i contains at least one flower.**