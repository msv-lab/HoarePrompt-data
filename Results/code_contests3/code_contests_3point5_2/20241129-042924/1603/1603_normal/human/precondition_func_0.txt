**Precondition**: **n and m are integers such that 1 ≤ n, m ≤ 10^3. Each segment specified by l_i and r_i contains valid indices within the range of flowers (1 ≤ l_i ≤ r_i ≤ n).**