**Precondition**: 
- n is an integer representing the number of trolleybuses (1 ≤ n ≤ 105).
- a is an integer representing the maximum acceleration of the trolleybuses (1 ≤ a ≤ 10^6).
- d is an integer representing the distance from the depot to the final station (1 ≤ d ≤ 10^6).
- For each trolleybus i (1 ≤ i ≤ n):
  - ti is an integer representing the time when the trolleybus leaves the depot (0 ≤ t1 < t2... < tn - 1 < tn ≤ 10^6).
  - vi is an integer representing the maximum speed of the trolleybus (1 ≤ vi ≤ 10^6).