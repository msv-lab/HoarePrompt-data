S is a string of length N consisting of the characters 'A', 'C', 'G', and 'T', N is an integer such that 2 <= N <= 100000, and each query consists of two integers l_i and r_i (1 <= l_i < r_i <= N) that define valid substring indices.