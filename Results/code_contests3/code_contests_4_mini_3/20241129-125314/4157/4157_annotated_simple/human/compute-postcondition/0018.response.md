The function `func` accepts the following parameters:
- `n`: a positive integer representing the number of trolleybuses, constrained such that \(1 \leq n \leq 10^5\).
- `a`: a positive integer representing the maximum acceleration of the trolleybuses, constrained such that \(1 \leq a \leq 10^6\).
- `d`: a positive integer representing the distance to the final station, constrained such that \(1 \leq d \leq 10^6\).
- `ti`: a list of departure times for each trolleybus, where each departure time \(ti\) is a positive integer satisfying \(0 \leq ti \leq 10^6\) and the list is sorted in increasing order (i.e., \(0 \leq t1 < t2 < ... < tn\)).
- `vi`: a list of maximum speeds for each trolleybus, where each maximum speed \(vi\) is a positive integer satisfying \(1 \leq vi \leq 10^6\).

The function processes these inputs and returns the result based on specific calculations involving the trolleybuses' accelerations, distances, and departure times.

Functionality: **The function accepts parameters n (number of trolleybuses), a (maximum acceleration), d (distance to the final station), a list of departure times ti, and a list of maximum speeds vi, and returns results based on the calculated arrival times of the trolleybuses at the final station.**