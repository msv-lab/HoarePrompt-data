Output State: **`T` is between 4 and 100, `n` must be at least 1, `index` must be valid (previous value + 3), `s` is data[index + 2] and must be valid, `x` is data[index + 1] and must be valid, `balance` is calculated from `s`, `prefix_balances[i]` is updated to `prefix_balances[i - 1] + (1 if s[i - 1] == '0' else -1), `i` is incremented to (previous i + 1)**