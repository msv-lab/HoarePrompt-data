Output State: **`chars` is a string of digits with a length not exceeding 1,000,000 and must not be empty; `perm` is the last permutation of `chars` that was generated; `candidate` is a valid permutation of `chars` that was yielded if it satisfies the validity condition according to `is_valid_number(candidate, sub)`. If no valid permutations exist, no candidates are yielded.**