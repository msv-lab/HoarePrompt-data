To address the given problem, we need to implement a function that checks whether it is possible to make all squares in the grid the same color using the described operations. Below are the comprehensive test cases covering basic and edge scenarios.

### Basic Test Cases

#### Test 1
**Objective**: Verify a simple 2x1 grid with different colors.
**Input**:
```
2 1
W
B
```
**Output**:
```
NO
```
**Explanation**: It is impossible to perform any operation that would make all squares the same color since there is only one column and the squares are of different colors.

#### Test 2
**Objective**: Verify a simple 1x1 grid with a single white square.
**Input**:
```
1 1
W
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 3
**Objective**: Verify a simple 2x2 grid with all squares the same color.
**Input**:
```
2 2
BB
BB
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 4
**Objective**: Verify a simple 2x2 grid with all squares the same color.
**Input**:
```
2 2
WW
WW
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 5
**Objective**: Verify a simple 2x2 grid with alternating colors.
**Input**:
```
2 2
BW
WB
```
**Output**:
```
YES
```
**Explanation**: We can perform two operations to make all squares the same color. First, select (1,1) and (2,2) to make the top-right and bottom-left squares white, then select (1,2) and (2,1) to make the remaining squares black.

### Edge Test Cases

#### Test 6
**Objective**: Verify a large grid with a single row and alternating colors.
**Input**:
```
1 5
WBBWB
```
**Output**:
```
NO
```
**Explanation**: Since the grid has only one row, no operations can change the color of the squares to make them uniform.

#### Test 7
**Objective**: Verify a large grid with a single column and alternating colors.
**Input**:
```
5 1
W
B
W
B
W
```
**Output**:
```
NO
```
**Explanation**: Since the grid has only one column, no operations can change the color of the squares to make them uniform.

#### Test 8
**Objective**: Verify a large grid with a single row and all squares the same color.
**Input**:
```
5 1
W
W
W
W
W
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 9
**Objective**: Verify a large grid with a single column and all squares the same color.
**Input**:
```
1 5
BBBBB
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 10
**Objective**: Verify a large grid with all squares the same color.
**Input**:
```
3 4
WWWW
WWWW
WWWW
```
**Output**:
```
YES
```
**Explanation**: The grid is already uniform, so no operations are needed.

#### Test 11
**Objective**: Verify a large grid with a single row and alternating colors.
**Input**:
```
5 1
W
B
W
B
W
```
**Output**:
```
NO
```
**Explanation**: Since the grid has only one column, no operations can change the color of the squares to make them uniform.

#### Test 12
**Objective**: Verify a large grid with a single column and alternating colors.
**Input**:
```
1 5
WBBWB
```
**Output**:
```
NO
```
**Explanation**: Since the grid has only one row, no operations can change the color of the squares to make them uniform.

### Summary of Test Cases

```python
# Test 1
**Input**: 
```
2 1
W
B
```
**Output**: 
```
NO
```

# Test 2
**Input**: 
```
1 1
W
```
**Output**: 
```
YES
```

# Test 3
**Input**: 
```
2 2
BB
BB
```
**Output**: 
```
YES
```

# Test 4
**Input**: 
```
2 2
WW
WW
```
**Output**: 
```
YES
```

# Test 5
**Input**: 
```
2 2
BW
WB
```
**Output**: 
```
YES
```

# Test 6
**Input**: 
```
1 5
WBBWB
```
**Output**: 
```
NO
```

# Test 7
**Input**: 
```
5 1
W
B
W
B
W
```
**Output**: 
```
NO
```

# Test 8
**Input**: 
```
5 1
W
W
W
W
W
```
**Output**: 
```
YES
```

# Test 9
**Input**: 
```
1 5
BBBBB
```
**Output**: 
```
YES
```

# Test 10
**Input**: 
```
3 4
WWWW
WWWW
WWWW
```
**Output**: 
```
YES
```

# Test 11
**Input**: 
```
5 1
W
B
W
B
W
```
**Output**: 
```
NO
```

# Test 12
**Input**: 
```
1 5
WBBWB
```
**Output**: 
```
NO
```
```