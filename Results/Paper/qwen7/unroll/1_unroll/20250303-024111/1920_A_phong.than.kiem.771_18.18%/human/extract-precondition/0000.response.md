The provided function `func_4` does not seem to relate to the problem description given. The function `func_4` searches for all occurrences of a substring within a string and returns their indices. However, the problem description is about finding the number of integers `k` that satisfy a set of constraints. Therefore, the function `func_4` is not relevant to the problem and does not contribute to solving it.

Given the problem description, here is the precondition for the function that would solve the problem:

Precondition: **t is an integer such that 1 ≤ t ≤ 500, n is an integer such that 2 ≤ n ≤ 100, and for each constraint, a is an integer in {1, 2, 3} and x is an integer such that 1 ≤ x ≤ 10^9.**