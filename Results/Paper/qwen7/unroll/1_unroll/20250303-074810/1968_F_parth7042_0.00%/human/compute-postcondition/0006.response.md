Output State: `idx` is 4, `t` is an integer derived from `data[0]`, `data` is a list of strings representing the split input, `n` and `q` are integers derived from the input, `a` is a list of `n` integers, `pf` is a list of `n+1` integers, `mp` is a dictionary with keys as integers and values as lists of integers, and `results` is a list containing 'YES' or 'NO' for each query followed by an empty string.