The function reads multiple test cases from standard input, where each test case consists of an integer t (1 ≤ t ≤ 10^4), two integers n and k (1 ≤ n, k ≤ 2⋅10^5) such that the sum of n and k across all test cases does not exceed 2⋅10^5, and an array a of n integers (-10^9 ≤ a_i ≤ 10^9). For each test case, it calculates a value based on the sum of the array and a specific transformation of its elements, applies a series of modular arithmetic operations, and prints the result. After processing all test cases, it outputs the final results for each test case, each taken modulo 1000000007.