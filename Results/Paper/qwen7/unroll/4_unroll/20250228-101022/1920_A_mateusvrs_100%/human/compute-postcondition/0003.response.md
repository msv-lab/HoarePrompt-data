Output State: `t` is an integer such that 1 ≤ t ≤ 500, and `n` is an integer such that 2 ≤ n ≤ 100; `r` is a list containing up to `t` integers, each calculated based on the conditions inside the loop. Each element in the list represents the result of processing each test case according to the given logic.