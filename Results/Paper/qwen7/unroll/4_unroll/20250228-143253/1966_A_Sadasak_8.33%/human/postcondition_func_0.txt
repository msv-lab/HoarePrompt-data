The function accepts a list of integers `arr` and an integer `k`. It returns a dictionary where each key is a number from the list `arr` and its value is the maximum occurrence of that number up to `k`. If any number's occurrence exceeds `k`, it is capped at `k`.