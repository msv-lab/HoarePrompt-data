Postcondition: `i` is 0, `n` is `idx - 1`, `ans` is increased by `cnt * v[i] * (v[i] - 1) // 2`, and `v[i]` is greater than or equal to 3.