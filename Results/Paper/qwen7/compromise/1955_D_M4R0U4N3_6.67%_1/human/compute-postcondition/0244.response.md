Postcondition: `ans` is 1 if the length of `done` is greater than or equal to `k - 1`, else `ans` is 0; `r` is `m + 1`; `todo` contains `old`, and `done` has removed `old` if `old` was in `done`.