Output State: `len_unique` is the length of `unique_chars`, `unique_chars` is a list of the sorted unique characters from `encoded`, `char_map` is a dictionary where each key is a character from `unique_chars` at index `i` and its corresponding value is the character from `unique_chars` at index `len_unique - 1 - i`.