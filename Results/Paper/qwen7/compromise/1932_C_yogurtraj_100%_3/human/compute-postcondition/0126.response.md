Postcondition: `i` is `n-3`, `n` must be greater than 2, and `k` is updated as follows: if the current value of `t[i]` is 'R', then `k` is `k * a[q2] % m`. Otherwise, `k` is `k * a[q1] % m`.