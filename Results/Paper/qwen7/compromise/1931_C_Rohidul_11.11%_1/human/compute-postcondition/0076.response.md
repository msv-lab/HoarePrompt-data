Postcondition: `l` is equal to `n - 1`, `r` is `n - 1`, `st` is `n - 1`, `end` is `2 * n - 2`, and either `st` is not equal to 0 or `end` is not equal to 0 or the first element of `a` is equal to the last element of `a`.