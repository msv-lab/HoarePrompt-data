Postcondition: **`i` is 2, `v2` is `n-1`, `v1` is `n-1`, `prev` is either 0 or 1, the system output buffer is flushed.**