Postcondition: `max_heap` does not contain the item that was popped; `item` is the highest value item from `max_heap` before it was popped; `ans` is increased by either `diff1` or `diff2` depending on whether `diff1` is greater than `diff2`; if `item[2]` equals `tp1`, then `tp1` is incremented by 1; otherwise, `tp1` remains unchanged; `tp2` is decremented by 1 if `diff1` is not greater than `diff2`; `ans` is further increased by `-item[0]`.