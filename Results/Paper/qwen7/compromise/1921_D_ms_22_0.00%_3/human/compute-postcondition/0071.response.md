Postcondition: `ans` is increased by the negative of the highest value element that was popped from `max_heap`, `tp1` is increased by 1 if `item[2]` equals `tp1`, otherwise `tp2` is decreased by 1.