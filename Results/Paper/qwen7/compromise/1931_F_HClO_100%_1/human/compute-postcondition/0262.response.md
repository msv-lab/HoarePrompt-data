Postcondition: `idx2` is `n - 2`, `idx1` is `n - 2`, and `p2` is 1. If `idx2` equals `-1` and `idx1` does not equal `-1`, the function sets `idx2` to `n - 2`, `idx1` to `n - 2`, and `p2` to 1. Otherwise, the original values of `idx2`, `idx1`, and `p2` remain unchanged.