Postcondition: `r` is `m + 2`, `m` is less than or equal to `n`, and `n` is greater than `m`; if `old` (which is `a[2]`) is in `extra`, then `extra` has the element `a[2]` removed. If `old` is not in `extra`, then `old` is checked against `done`. If `old` is in `done`, then `todo` contains `old` and `old` is removed from `done`. If `old` is not in `done`, then no changes occur in `todo` and `done`.