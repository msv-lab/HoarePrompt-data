The function `find_max` accepts a list of integers `cur_arr` and an integer `bit`. It returns the length of `cur_arr` if `bit` is -1. Otherwise, it processes `cur_arr` to create a new list `new_arr` containing cumulative XOR values under certain conditions. Depending on the value of `x` at the `bit` position, it either returns the maximum value between the result of another call to `find_max` with `bit-1` and the length of `new_arr`, or it returns -1 or the maximum value in `new_arr` where the `bit`-th bit is 0.