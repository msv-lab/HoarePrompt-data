Postcondition: `nx` is either 'S' or 'F', `i` is incremented by 1, `n` is greater than or equal to 1, `j` is 1. If `xx[i][j - 1]` is not '?', then `nx` is set to `xx[i][j - 1]`. If `xx[i][j - 1]` is '?', then `nx` is either 'S' or 'F' depending on whether `i` or `j` is in the range `sb[:n // 4 - 1]`. If so, `nx` is 'S'; otherwise, `nx` is 'F'.