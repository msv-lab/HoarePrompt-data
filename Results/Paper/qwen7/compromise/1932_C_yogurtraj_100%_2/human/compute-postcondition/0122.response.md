Postcondition: `i` is either 0 or -2, depending on whether `t[i]` is 'R' or not. If `t[i]` is 'R', then `i` is set to 0. Otherwise, `i` is set to -2. Additionally, `k` is updated as `k * a[q2] % m` if `t[i]` is 'R', and `k` is updated as `k * a[q1] % m` if `t[i]` is not 'R'. `n` must remain at least 1.