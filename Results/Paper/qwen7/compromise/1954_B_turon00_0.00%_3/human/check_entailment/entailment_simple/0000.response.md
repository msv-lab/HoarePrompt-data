Reasoning:
1. The provided code correctly handles the problem statement requirements.
2. It iterates through each test case, processes the array, and calculates the minimum number of elements to remove to make the array non-beautiful.
3. The logic for determining if the array is beautiful and calculating the required removals is sound.
4. The code checks if all elements are the same initially and prints `-1` if so, which is correct because removing any element won't break the beauty condition.
5. The main loop iterates through the array, counting consecutive identical elements and updating the minimum count of removals needed.
6. The final output is correct according to the examples provided.

Correctness: **True**

The provided program correctly implements the logic to solve the problem as described.