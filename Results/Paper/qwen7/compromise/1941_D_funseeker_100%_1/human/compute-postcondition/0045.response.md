Postcondition: `q` is `x`, the value of `c` is either '1' or '?', `temp` contains elements `(x + r) % n` and `(x - r) % n`, and if `c` is '0' or '?' then `temp` will also contain `(q + r) % n`. `ans` must contain at least one element.