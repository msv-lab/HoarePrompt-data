Postcondition: `q` is `x`, the value of `c` is either '0' or '?', `temp` contains an element `(x + r) % n`.