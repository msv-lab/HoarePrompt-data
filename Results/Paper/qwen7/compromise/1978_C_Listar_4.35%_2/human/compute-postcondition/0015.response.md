Postcondition: `n` is an integer, `k` is an even integer. `max_k` is set to `n`.