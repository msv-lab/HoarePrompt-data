Postcondition: `l`, `r`, `st`, and `end` are all equal to `n - 1`, `ans` is either `n - 3` or `0` depending on whether the first element of `a` is equal to the last element of `a`, and the first element of `a` is not equal to the last element of `a`.