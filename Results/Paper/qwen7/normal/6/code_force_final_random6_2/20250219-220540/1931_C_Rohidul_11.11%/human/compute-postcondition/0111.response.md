Postcondition: `l` is `n - 2`, `r` is 0, `st` is `n - 3`, `end` is increased by 3, the first element of `a` is equal to the last element of `a`.