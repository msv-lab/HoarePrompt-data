Reasoning:
1. The program correctly reads the number of test cases and processes each test case individually.
2. For each test case, the program initializes variables to track the current value (`tmp`), the count of consecutive identical elements (`cnt`), and the minimum count of consecutive identical elements found (`ans`).
3. The program iterates through the array and updates `cnt` and `ans` accordingly.
4. After processing the array, the program checks if the array has only one element or if the minimum count of consecutive identical elements equals the length of the array. If either condition is true, it prints -1. Otherwise, it prints the calculated minimum count.
5. The program handles multiple test cases as specified and exits correctly after processing all test cases.

Given the problem description and the execution summary, the program appears to follow the correct logic to solve the problem. It correctly identifies whether an array is beautiful and calculates the minimum number of elements that need to be removed to make it non-beautiful.

Correctness: **True**