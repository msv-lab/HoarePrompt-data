Postcondition: `dif` is `a[i + 1] - a[i]`, `res` has not been decreased by 1, and `k` is less than `dif * (i + 1)`.