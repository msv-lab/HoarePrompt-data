The function processes multiple test cases, where for each test case, it reads integers n, m, and k. It then reads m lines of input, each containing three integers a_i, b_i, and f_i. The function calculates a value s based on the modular inverse of n*(n-1) modulo \(10^9 + 7\), the total sum of all f_i values, and the number of test cases and edges. Finally, it prints the result of s modulo \(10^9 + 7\) for each test case.