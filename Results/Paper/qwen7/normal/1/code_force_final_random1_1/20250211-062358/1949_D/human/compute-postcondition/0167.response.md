Postcondition: `n` must be between 2 and 24, `xx[i][j - 1] == '?'`, `i` is not in `sa[:n // 4]` and `j` is not in `sa[:n // 4]`