Reasoning:

The given program correctly processes each test case as per the problem statement. Here's a breakdown of the logic:

1. **Input Handling**: The program reads the number of test cases (`ntest`) and then iterates over each test case. For each test case, it reads the size of the array (`n`) and the array itself (`a`).

2. **Sorting**: The array `a` is sorted in ascending order.

3. **Beauty Calculation**: The maximum beauty of the array is calculated as the difference between the largest and smallest elements in the sorted array. This is because the beauty is defined as the sum of `(a_i - a_{i-1})` for `i` from 2 to `n`. Sorting ensures that the differences between consecutive elements are minimized except for the first and last elements, thus maximizing the overall sum.

4. **Output**: The result is printed for each test case.

Given these points, the program correctly implements the solution to find the maximum beauty of the array by sorting and calculating the difference between the maximum and minimum values in the sorted array.

Therefore, the program is correct.

Correctness: **True**