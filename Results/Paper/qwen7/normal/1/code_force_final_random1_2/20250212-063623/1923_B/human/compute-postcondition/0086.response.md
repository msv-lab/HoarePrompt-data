Postcondition: `rest` is equal to `rest - 2*delta`, `pos` is increased by 1, `pos` is less than `len(sorted_indices) - 3`, `a[sorted_indices[pos]]` is equal to `a[sorted_indices[pos]] - delta`, and `delta` is equal to `min(rest - 2*delta, a[sorted_indices[pos]] - delta)`.