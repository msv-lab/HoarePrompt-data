The function accepts a string and a non-empty substring as inputs. It returns a list containing all the starting positions where the substring appears within the string. If no more occurrences of the substring are found, it returns a list of all previously found positions and an index value of -1.