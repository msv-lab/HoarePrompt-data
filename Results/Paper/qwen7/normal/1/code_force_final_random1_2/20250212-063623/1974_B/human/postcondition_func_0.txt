The function accepts a string `s` consisting of lowercase Latin letters. It returns a new string where each character in `s` that appears in the resulting `unique_chars` list is replaced by the corresponding character from `unique_chars` based on its last occurrence index in `s`. Characters not present in `unique_chars` are inserted into `unique_chars` at their correct positions, and `j` is set to the length of `unique_chars`.