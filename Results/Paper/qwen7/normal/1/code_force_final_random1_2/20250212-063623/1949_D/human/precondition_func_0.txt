n is an integer where 2 ≤ n ≤ 24, and the input consists of n lines, each containing n characters representing the partial transition video plan. The characters can be F (funny), S (scary), ?, or . (no transition video). At most \lfloor \frac{n}{2} \rfloor transition videos are already decided (i.e., at most 2\lfloor \frac{n}{2} \rfloor characters are F or S).