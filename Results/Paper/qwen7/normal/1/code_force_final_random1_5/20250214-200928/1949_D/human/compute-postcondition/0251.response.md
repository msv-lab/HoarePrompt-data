Postcondition: `nx` is either 'FF', 'SF', 'FS', or 'SS', and `j` is in the range from `2` to `n/4`. If `xx[i][j - 1]` is not '?', then `nx` is updated to include the value of `xx[i][j - 1]`. Otherwise, if `i` is in the first quarter of `sa` or `j` is in the first quarter of `sa`, then `nx` is either 'FFF', 'SFF', 'FFS', or 'SSF'. Otherwise, `nx` remains as 'FFS', 'SFS', 'FSF', or 'SSS'.