The function `ask(a, b, c, d)` is used to query the result of comparing (p_a | p_b) with (p_c | p_d), where p is a fixed permutation of {0, 1, ..., n-1}. The function can only be called up to 3n times, and n is an integer such that 2 <= n <= 10^4.