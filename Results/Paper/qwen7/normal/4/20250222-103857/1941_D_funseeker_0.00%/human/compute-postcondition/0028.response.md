Postcondition: `ans` must contain at least one element (excluding the first element, which was `q`), `q` is the next element from `ans`, `temp` contains an element equal to either `((q - r) % n)` or `((q + r) % n)`, depending on whether `c` is '1' or '?' respectively.