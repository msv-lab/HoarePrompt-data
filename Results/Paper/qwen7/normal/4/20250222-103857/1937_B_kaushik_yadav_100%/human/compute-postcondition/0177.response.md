Postcondition: `counter` is either 3 or 1, `j` is `j_prev + 1`, `i`, `n`, `a`, `b`, `ans`, `work`, `t` retain their original states, and we break out of the most internal loop or if statement.