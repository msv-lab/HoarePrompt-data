Postcondition: `r` is `m`, `old` is `a[m - m]`, and `old` is not in `extra`. The current value of `old` is in `done`.