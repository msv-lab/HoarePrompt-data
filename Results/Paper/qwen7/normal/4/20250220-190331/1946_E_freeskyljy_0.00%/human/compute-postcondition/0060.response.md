Postcondition: `ans` is 0, `nums_left` is `N - R[0] - 1`, `cur` is either `R[0] + 2` or 1, `i` is either `R[1]` or `R[0] + 1`, and `i` is not equal to `R[cur]`.