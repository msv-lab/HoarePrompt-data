Postcondition: `i` is `next_next_i`, and `ans` is updated to `m - hmp[next_i] + (m - hmp[i])` if `hmp[i] < m`. Otherwise, `ans` remains `m - hmp[next_i]`.