Postcondition: `nodes[key]` is a list, and `ends` is a list with an additional element `key`, regardless of the length of `nodes[key]`. If `nodes[key]` has exactly one element, `ends` already contains the element `key`. If `nodes[key]` does not have exactly one element, `ends` remains unchanged.