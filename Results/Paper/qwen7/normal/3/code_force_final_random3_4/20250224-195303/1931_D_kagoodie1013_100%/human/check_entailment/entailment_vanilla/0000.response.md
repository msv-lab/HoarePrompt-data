Reasoning:
1. The provided program reads multiple test cases from standard input, which matches the problem statement.
2. It correctly parses each test case, extracting the necessary values (n, x, y, and the array).
3. The `func_1` function is responsible for calculating the number of beautiful pairs for each test case.
4. In `func_1`, it uses a dictionary (`residue_map`) to keep track of the residues of each element modulo x and y.
5. For each element in the array, it calculates the required residues and checks if there are any previous elements with matching residues, incrementing the count accordingly.
6. The logic for calculating residues and checking conditions is correct according to the problem statement.
7. The program outputs the results for each test case as specified.

Given the above points, the program appears to implement the solution correctly based on the problem description.

Correctness: **True**