Reasoning:
1. The program correctly reads the input and organizes it into test cases.
2. The `func_1` function processes each test case to find the number of beautiful pairs.
3. For each number in the array, it calculates the residues `r_x` and `r_y` as specified.
4. It uses a dictionary `residue_map` to keep track of the counts of these residue pairs.
5. The count of beautiful pairs is incremented by the count of existing pairs with the same residues.
6. The function returns the results for all test cases.

Given the logic and the steps involved, the program appears to correctly implement the solution for finding the number of beautiful pairs as per the problem statement.

Correctness: **True**