Postcondition: `x` is 0, `x_rev` is 0, and either `rev_res` is 0 or `rev_val` contains the reversed string of `x`.