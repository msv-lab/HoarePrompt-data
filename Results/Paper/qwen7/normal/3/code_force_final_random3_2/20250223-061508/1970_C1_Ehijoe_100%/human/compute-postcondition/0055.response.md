Postcondition: `prev` is equal to `curr` appended to `tree`, `curr` is either `nodes[curr][1]` or `nodes[curr][0]`, `s` is the first element from the `ends` list, `e` is the second element from the `ends` list, `tree` is a list containing `s`, `curr`, and `curr` is not equal to `e`. If `nodes[curr][0]` equals `prev`, then `curr` is updated to `nodes[curr][1]`. Otherwise, `prev` is updated to `nodes[curr][0]`.