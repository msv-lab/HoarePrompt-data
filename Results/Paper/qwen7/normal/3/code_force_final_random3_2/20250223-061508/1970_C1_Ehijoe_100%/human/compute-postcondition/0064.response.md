Postcondition: `prev` is equal to `nodes[curr][1]`, `curr` is updated to either `nodes[curr][0]` or `nodes[curr][1]`, `s` is the first element from the `ends` list, `e` is the second element from the `ends` list, `curr` is not equal to `e`, and `tree` now includes `curr` appended to it.