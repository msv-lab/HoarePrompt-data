Postcondition: `i` is 0, `cnt` is decreased by `adv`, and `cur` is decreased by `adv`.