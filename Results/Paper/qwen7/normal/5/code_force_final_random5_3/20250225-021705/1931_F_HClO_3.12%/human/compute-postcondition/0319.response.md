Postcondition: `m` must be at least 5, `idx1` is -1, `idx2` is -1, `p1` is 0, `p2` is 0, `n` must be greater than or equal to 1, and the current value of `i + max(p1, p2)` is `n - 1`.