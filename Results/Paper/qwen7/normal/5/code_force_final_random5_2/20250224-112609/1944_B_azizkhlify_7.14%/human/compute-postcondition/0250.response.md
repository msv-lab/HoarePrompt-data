Postcondition: **All elements in `res` have been printed, `i` is `2 * n`, `n` is less than or equal to the length of `res`, and `ul` is equal to `ur` plus twice the number of times the condition `r[a[i] - 1] == 2` was true.**