For each test case, the function processes a list of 2n integers where each integer from 1 to n appears exactly twice. It prints `k` pairs of numbers from the first half of the list if possible, followed by additional individual numbers if needed, and then pairs of numbers from the second half of the list to balance the number of pairs printed from both halves.