The function processes multiple test cases, each consisting of a string of lowercase English letters. For each string, it determines if the string contains more than one unique character. If it does, the function outputs 'YES' followed by the lexicographically smallest or largest version of the string, depending on whether the string is already in lexicographically smallest order. If the string contains only one unique character, it outputs 'NO'.