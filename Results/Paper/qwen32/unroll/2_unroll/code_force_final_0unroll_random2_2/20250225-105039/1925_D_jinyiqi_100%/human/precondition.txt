test_cases is a list of test case descriptions where each test case is a tuple consisting of (n, m, k, friendships) with n being the number of children (2 <= n <= 10^5), m being the number of pairs of friends (0 <= m <= min(10^5, n*(n-1)/2)), k being the number of excursions (1 <= k <= 2 * 10^5), and friendships being a list of m tuples (a_i, b_i, f_i) where a_i and b_i are indices of the pair of friends (1 <= a_i, b_i <= n, a_i != b_i) and f_i is the initial friendship value (1 <= f_i <= 10^9). It is guaranteed that all pairs of friends are distinct. The sum of n and m over all test cases does not exceed 10^5 and the sum of k over all test cases does not exceed 2 * 10^5.