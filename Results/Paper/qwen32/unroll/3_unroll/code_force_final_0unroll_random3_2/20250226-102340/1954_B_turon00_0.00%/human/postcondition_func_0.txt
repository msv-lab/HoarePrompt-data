The function processes multiple test cases, each consisting of an integer `n` and a list `a` of `n` integers. For each test case, it determines the minimum length of consecutive subarrays in the list `a` that contain the most frequent element. If all elements in `a` are the same, it outputs `-1`.