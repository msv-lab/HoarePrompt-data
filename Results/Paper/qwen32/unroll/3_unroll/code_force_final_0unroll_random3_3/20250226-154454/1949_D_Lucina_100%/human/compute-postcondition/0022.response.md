Functionality: **The function accepts an integer `n` (where 2 <= n <= 24) and a grid of size n x n consisting of characters 'F' (funny), 'S' (scary), '?' (undecided), or '.' (same scenario). The grid is symmetric, meaning the j-th character of the i-th line is the same as the i-th character of the j-th line for all i and j. At most floor(n/2) characters in the grid are 'F' or 'S'. The function returns a modified grid where each '?' is replaced by either 'F' or 'S' such that the constraints are maintained.**