Certainly! Below are comprehensive test cases for the given problem, covering both basic and edge scenarios.

# Test 1
**Input**: 
```
2
4
? 0 2 3 1
<
? 1 1 2 3
=
? 1 2 0 3
>
```
**Output**: 
```
? 0 2 3 1
? 1 1 2 3
? 1 2 0 3
! 3 2
! 0 1
```
**Explanation**: This is the example provided in the problem statement. It covers a basic scenario with a permutation of size 4.

# Test 2
**Input**: 
```
1
2
```
**Output**: 
```
? 0 1 0 1
! 0 1
```
**Explanation**: The smallest possible permutation size (n=2). The only possible permutation is [0, 1] or [1, 0], and the maximum XOR is always 1.

# Test 3
**Input**: 
```
1
3
? 0 1 1 2
>
? 0 2 0 1
>
```
**Output**: 
```
? 0 1 1 2
? 0 2 0 1
! 0 2
```
**Explanation**: A permutation of size 3. The queries determine that the maximum XOR is between indices 0 and 2.

# Test 4
**Input**: 
```
1
10
? 0 1 2 3
<
? 4 5 6 7
<
? 8 9 0 1
>
? 2 3 4 5
<
? 6 7 8 9
<
? 0 1 2 3
<
? 4 5 6 7
<
? 8 9 2 3
>
? 6 7 4 5
<
? 0 1 6 7
<
? 8 9 4 5
<
? 0 1 8 9
>
```
**Output**: 
```
? 0 1 2 3
? 4 5 6 7
? 8 9 0 1
? 2 3 4 5
? 6 7 8 9
? 0 1 2 3
? 4 5 6 7
? 8 9 2 3
? 6 7 4 5
? 0 1 6 7
? 8 9 4 5
? 0 1 8 9
! 8 9
```
**Explanation**: A permutation of size 10. The queries help to identify that the maximum XOR is between indices 8 and 9.

# Test 5
**Input**: 
```
1
100
? 0 1 98 99
<
? 0 2 98 99
<
? 0 3 98 99
<
...
? 0 97 98 99
<
? 1 2 98 99
<
? 1 3 98 99
<
...
? 1 97 98 99
<
? 2 3 98 99
<
...
? 97 98 98 99
<
```
**Output**: 
```
? 0 1 98 99
? 0 2 98 99
? 0 3 98 99
...
? 0 97 98 99
? 1 2 98 99
? 1 3 98 99
...
? 1 97 98 99
? 2 3 98 99
...
? 97 98 98 99
! 98 99
```
**Explanation**: A permutation of size 100. The queries help to identify that the maximum XOR is between indices 98 and 99. This test case is designed to ensure that the algorithm can handle larger permutations efficiently.

# Test 6
**Input**: 
```
1
10000
? 0 1 9998 9999
<
? 0 2 9998 9999
<
...
? 0 9998 9998 9999
<
? 1 2 9998 9999
<
...
? 1 9998 9998 9999
<
...
? 9998 9999 9998 9999
<
```
**Output**: 
```
? 0 1 9998 9999
? 0 2 9998 9999
...
? 0 9998 9998 9999
? 1 2 9998 9999
...
? 1 9998 9998 9999
...
? 9998 9999 9998 9999
! 9998 9999
```
**Explanation**: A permutation of the maximum size (n=10000). The queries help to identify that the maximum XOR is between indices 9998 and 9999. This test case is designed to ensure that the algorithm can handle the maximum input size efficiently.

# Test 7
**Input**: 
```
1
5
? 0 1 2 3
<
? 0 1 3 4
<
? 0 1 4 2
<
? 0 2 3 4
<
? 0 2 4 1
<
? 0 3 4 1
<
? 0 3 4 2
<
? 1 2 3 4
<
? 1 2 4 3
<
? 1 3 4 2
<
? 2 3 4 1
<
```
**Output**: 
```
? 0 1 2 3
? 0 1 3 4
? 0 1 4 2
? 0 2 3 4
? 0 2 4 1
? 0 3 4 1
? 0 3 4 2
? 1 2 3 4
? 1 2 4 3
? 1 3 4 2
? 2 3 4 1
! 3 4
```
**Explanation**: A permutation of size 5. The queries help to identify that the maximum XOR is between indices 3 and 4.

# Test 8
**Input**: 
```
1
6
? 0 1 2 3
<
? 0 1 3 4
<
? 0 1 4 5
<
? 0 2 3 4
<
? 0 2 3 5
<
? 0 2 4 5
<
? 0 3 4 5
<
? 1 2 3 4
<
? 1 2 3 5
<
? 1 2 4 5
<
? 1 3 4 5
<
? 2 3 4 5
<
```
**Output**: 
```
? 0 1 2 3
? 0 1 3 4
? 0 1 4 5
? 0 2 3 4
? 0 2 3 5
? 0 2 4 5
? 0 3 4 5
? 1 2 3 4
? 1 2 3 5
? 1 2 4 5
? 1 3 4 5
? 2 3 4 5
! 4 5
```
**Explanation**: A permutation of size 6. The queries help to identify that the maximum XOR is between indices 4 and 5.

These test cases cover a range of scenarios, from the smallest permutation to the largest, and include various configurations to ensure the robustness and efficiency of the solution.