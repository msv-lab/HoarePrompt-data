grid is a list of lists of characters where each inner list represents a row in the grid and contains only 'W' or 'B'. The length of grid (number of rows) is n (1 ≤ n ≤ 500), and the length of each inner list (number of columns) is m (1 ≤ m ≤ 500). The sum of n * m across all test cases does not exceed 3 * 10^5.