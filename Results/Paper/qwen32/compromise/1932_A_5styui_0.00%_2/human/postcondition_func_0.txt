The function reads an integer `a` representing the number of test cases. For each test case, it reads another integer `d` and a string `b` of length `d` consisting of '.', '@', and '*'. It counts the number of '@' characters in the string `b` until it encounters a '*', at which point it stops counting for that test case. It then prints the count for each test case and resets the count for the next test case.