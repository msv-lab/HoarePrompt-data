The function reads an integer `t` representing the number of test cases. For each test case, it reads an integer `n` and a list of `n` integers. If `n` is less than 3, it outputs 0. Otherwise, it calculates and outputs the number of ways to choose 3 elements from the list such that at least two of them are the same.