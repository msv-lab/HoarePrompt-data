The function processes multiple test cases, each consisting of an integer `n` and a string `s` of length `n`. For each test case, it calculates the number of non-overlapping occurrences of the substrings 'map' and 'pie' in `s`, subtracts the number of non-overlapping occurrences of the substring 'mapie', and prints the result.