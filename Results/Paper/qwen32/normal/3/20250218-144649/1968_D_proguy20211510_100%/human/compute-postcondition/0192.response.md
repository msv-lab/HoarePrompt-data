Postcondition: **`t` is a positive integer such that 1 <= t <= 10^4; `n` and `k` are integers; `pb` and `ps` are the values causing the cycle detection; `p` and `a` are lists of integers obtained from the input; `pathb` is a list containing the sequence of values from `a` before the cycle was detected; `paths` is a list containing the sequence of values from `a` including the newly appended value `a[ps - 1]` up to the value causing the cycle detection; `vis` is a list of integers with all elements set to 0 except `vis[ps - 1]` which is 1; `preb` is the sum of `pathb` elements up to the point where the loop terminates; `pres` is the sum of the first `i` elements of `paths`; `i` is the number of completed iterations of the loop, which is the minimum of `len(paths)` and `k`; `resb` is the maximum value of `preb + pathb[i] * (k - i)` for all `i` in the range of the loop; `ress` is the maximum value of `pres + paths[j] * (k - j)` for `j` in the range of the loop; and `resb` is the maximum of `resb` and `ress`.**