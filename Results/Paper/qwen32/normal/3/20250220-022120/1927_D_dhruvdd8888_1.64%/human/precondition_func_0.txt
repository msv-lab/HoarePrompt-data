t is an integer such that 1 <= t <= 10^4. Each test case consists of an integer n such that 2 <= n <= 2 * 10^5, followed by a list a of n integers where each element a_i satisfies 1 <= a_i <= 10^6. Each test case also includes an integer q such that 1 <= q <= 2 * 10^5, followed by q queries, each query being a pair of integers (l, r) such that 1 <= l < r <= n. The sum of all n across all test cases does not exceed 2 * 10^5, and the sum of all q across all test cases does not exceed 2 * 10^5.