Postcondition: **`nodes` is a defaultdict where each key `u` has a list of connected nodes `v` and must have at least one key-value pair. `key` is the next key in `nodes` after `key_next` that has not been processed yet. If the list associated with `key` has exactly one element, then `leaves` includes `key` as one of its elements. If the list associated with `key` has exactly one element, `leaves` now includes `key` as one of its elements. Otherwise, `leaves` remains unchanged.**