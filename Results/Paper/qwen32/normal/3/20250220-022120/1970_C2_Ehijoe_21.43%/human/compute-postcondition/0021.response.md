Postcondition: **`nodes` is a defaultdict where each key `u` has a list of connected nodes `v` and must have at least one key-value pair. If the list associated with `key` has exactly one element, then `leaves` includes `key` as one of its elements.**