Let's analyze the program step by step to determine its correctness based on the problem description.

### Analysis:
1. **Input Reading:**
   - The program correctly reads the number of test cases `t`.
   - For each test case, it reads the number of cards `n` and the integer `k`.
   - It then reads the list of card numbers `nums`.

2. **Handling Edge Case (`k > n`):**
   - The program correctly identifies the edge case where `k` is greater than `n`. In this scenario, no operations can be performed, so the number of cards remains `n`.

3. **Frequency Calculation:**
   - The program uses the function `func_1` to calculate a frequency table of the card numbers.
   - However, the function `func_1` has a critical flaw: it incorrectly caps the frequency of each number to `k`. This is not required by the problem statement. The frequency should reflect the actual count of each number in the list.

4. **Determining the Minimum Number of Cards:**
   - The program checks if `k` is in the values of the frequency table. If it is, it prints `k - 1`. However, this logic is flawed. The correct approach involves using the frequency table to determine the minimum number of cards left after performing the operations optimally.
   - The logic should involve reducing the counts of card numbers by multiples of `k-1` (since each operation reduces the count by `1`), and summing up the remaining counts.

### Correct Approach:
To find the minimum number of cards left:
- Calculate the actual frequency of each card number.
- For each unique card number, reduce its frequency by multiples of `k-1` (since each operation reduces the count by `1`).
- Sum up the remaining counts to get the minimum number of cards.

### Conclusion:
The provided program is incorrect due to the flawed frequency calculation and the incorrect logic for determining the minimum number of cards. The frequency should not be capped to `k`, and the logic for reducing the counts needs to be corrected.

### Correctness:
Correctness: **False**