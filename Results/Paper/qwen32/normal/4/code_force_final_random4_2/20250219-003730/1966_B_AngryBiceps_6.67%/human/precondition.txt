t is an integer such that 1 <= t <= 10^4. For each test case, n and m are integers such that 1 <= n, m <= 500. The grid is represented by a list of n strings, each of length m, where each character is either 'W' or 'B'. The sum of n * m over all test cases does not exceed 3 * 10^5.