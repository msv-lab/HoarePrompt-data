### Reasoning:

Let's analyze the provided Python program step-by-step to ensure it meets the requirements of the problem statement.

1. **Input Handling:**
   - The program correctly reads the number of test cases `t` and iterates through each test case.
   - For each test case, it reads the number of houses `n` and the string `s` representing the preferences of the residents.

2. **Calculation of `pk`:**
   - `pk` is calculated as `n // 2`. This value represents the midpoint of the village, which is used later to find the closest valid split point to the middle.

3. **Counting '0's and '1's:**
   - The total counts of '0's (`z`) and '1's (`o`) in the string are determined using `count`.

4. **Iterating Through Possible Split Points:**
   - The program iterates through each possible split point `i` from `0` to `n-2`.
   - It keeps track of the cumulative counts of '0's (`zero`) and '1's (`one`) up to the current split point.
   - It calculates the percentage of '0's and '1's on both sides of the split point.
   - If both percentages meet the requirement (at least 50%), the split point `i + 1` is added to the list `lst`.

5. **Finding the Optimal Split Point:**
   - The program finds the minimum absolute difference between each valid split point and `pk` (the midpoint).
   - It collects all split points that have this minimum difference.
   - It sorts these split points and selects the smallest one.
   - If no valid split point is found, it checks the overall majority of '0's and '1's in the entire string to decide whether to place the road before the first house (`0`) or after the last house (`n`).

6. **Output:**
   - The program outputs the optimal split point for each test case.

### Analysis of the Program Logic:
- The logic correctly identifies valid split points based on the given conditions.
- It ensures that the selected split point is as close to the midpoint as possible.
- If multiple valid split points are equidistant from the midpoint, it selects the smallest one.
- The handling of edge cases (e.g., when no valid split point is found) is also correct.

### Conclusion:
The provided program correctly implements the logic required to solve the problem as described. Therefore, the correctness of the program is:

Correctness: **True**