n is an integer such that 2 ≤ n ≤ 24. The input consists of n lines, each containing n characters. The j-th character of the i-th line represents the transition video between the i-th and j-th scenarios, where 'F' denotes a funny video, 'S' denotes a scary video, '?' denotes an undecided video, and '.' denotes the case where i = j. It is guaranteed that the input matrix is symmetric (i.e., the j-th character of the i-th line is the same as the i-th character of the j-th line) and that at most ⌊n/2⌋ videos are already decided (i.e., there are at most 2⌊n/2⌋ characters that are 'F' or 'S').