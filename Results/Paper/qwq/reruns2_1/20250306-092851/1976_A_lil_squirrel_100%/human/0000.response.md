Alright, I've got this problem to check if a given password is strong based on specific conditions. Let's break it down step by step.

First, the conditions for a strong password are:

1. It should consist only of lowercase Latin letters and digits.

2. There should be no digit that comes after a letter (so, after each letter, there should be another letter or the string ends).

3. All digits should be sorted in non-decreasing order.

4. All letters should be sorted in non-decreasing order.

The program needs to handle multiple test cases, each with a password of length n, where n is between 1 and 20, and the password consists only of lowercase letters and digits.

The program structure seems straightforward:

- Read the number of test cases, t.

- For each test case:

- Read the length of the password, n.

- Read the password string.

- Call a function, func_1, with n and the password, and print its result ("YES" or "NO").

Then, the function func_1 is defined to perform the checks.

Let's look into func_1 to see if it correctly implements the conditions.

In func_1:

- It initializes two lists: letters and digits.

- It iterates through each character in the password:

- If the character is a digit, it appends it to the digits list.

- Otherwise, it appends it to the letters list.

- It then checks if the letters list is sorted in non-decreasing order and if the digits list is sorted in non-decreasing order.

- Additionally, it checks that no digit comes after a letter in the password string.

- If all these conditions are met, it returns "YES"; otherwise, "NO".

Now, let's verify if this function correctly implements the conditions.

Condition 1: Consist only of lowercase Latin letters and digits.

- The problem states that the input passwords will only contain lowercase letters and digits, so we don't need to handle other characters.

Condition 2: No digit should come after a letter.

- The function checks this by iterating through the password string and ensuring that there is no letter followed by a digit.

- This is done with a loop that checks for each pair of consecutive characters: if the first is a letter and the second is a digit, return "NO".

Condition 3: Digits should be sorted in non-decreasing order.

- The function collects all digits into a list and checks if this list is sorted.

Condition 4: Letters should be sorted in non-decreasing order.

- Similarly, it collects all letters into a list and checks if this list is sorted.

Wait a minute, does this fully satisfy condition 2?

Let me think about condition 2 more carefully.

Condition 2 says: there should be no digit that comes after a letter.

In other words, all letters must appear before any digits in the password.

So, once a digit appears, no letters should follow.

The function's check seems to capture this by ensuring that no letter is followed by a digit.

But, to be more precise, another way to ensure this is to find the first digit and make sure that all characters after that are digits.

However, the current implementation checks that no letter is followed by a digit, which should be equivalent.

Let me consider some examples.

Example 1:

Input:

5

4

12ac

Output:

YES

Here, the password is "12ac".

- Digits are '1' and '2', which are sorted.

- Letters are 'a' and 'c', which are sorted.

- No digit comes after a letter.

So, it's correct.

Example 2:

Input:

5

123wa

Output:

NO

Here, the password is "123wa".

- Digits are '1', '2', '3', which are sorted.

- Letters are 'w' and 'a', which should be sorted in non-decreasing order, but 'w' comes before 'a', which is not sorted.

- Also, letters come after digits, but according to condition 2, it's allowed as long as no digit comes after a letter.

Wait, condition 2 says: there should be no digit that comes after a letter.

In "123wa", 'w' and 'a' are letters after digits, but there are no digits after letters.

So, why is it "NO"?

Oh, looking back at the example output, it's "NO" because the letters 'w' and 'a' are not sorted in non-decreasing order.

So, the function correctly identifies this as "NO" because the letters are not sorted.

Example 3:

Input:

9

allllmost

Output:

YES

Password is "allllmost".

- All letters: 'a', 'l', 'l', 'l', 'l', 'm', 's', 't'.

- Sorted in non-decreasing order.

- No digits present.

- So, it's "YES".

Example 4:

Input:

5

ac123

Output:

NO

Password is "ac123".

- Letters: 'a', 'c', which are sorted.

- Digits: '1', '2', '3', which are sorted.

- No digit comes after a letter.

- So, why is it "NO"?

Wait, maybe there's a misunderstanding.

Looking back at the problem statement, it says:

"there should be no digit that comes after a letter"

In "ac123", digits '1', '2', '3' come after letters 'a', 'c'.

But according to condition 2, it's forbidden to have a digit after a letter.

Wait, that seems contradictory to the earlier examples.

Wait, perhaps I misread condition 2.

Let me read condition 2 again:

"there should be no digit that comes after a letter (so, after each letter, there is either another letter or the string ends)"

So, in "ac123", after the letter 'c', there are digits '1', '2', '3'.

According to this condition, it should be allowed because after the letter, there are digits, but no digit comes after a letter.

Wait, perhaps there's confusion in the phrasing.

Let me rephrase:

- There should be no digit that comes after a letter.

- Which means, in the string, a digit should not follow a letter.

- In other words, all letters must come before any digits.

- And within the letters, they should be sorted, and within the digits, they should be sorted.

So, in "ac123", letters 'a', 'c' come before digits '1', '2', '3'.

Letters are sorted, digits are sorted, and no digit comes after a letter.

So, why is the output "NO"?

Wait, perhaps there's a mistake in the example output.

Looking back at the example output:

Input:

5

ac123

Output:

NO

But according to the conditions, it seems like it should be "YES".

Wait, maybe there's a misunderstanding in the condition.

Wait, the problem says:

"there should be no digit that comes after a letter (so, after each letter, there is either another letter or the string ends)"

In "ac123", after 'c', there are digits '1', '2', '3'.

According to the condition, after each letter, there should be another letter or the string should end.

In this case, after 'c', there are digits, which is allowed, as long as there are no digits after letters.

Wait, perhaps the function is incorrect.

Wait, in the function, it checks that no letter is followed by a digit.

In "ac123", 'c' is followed by '1', which is a digit after a letter, so it should return "NO".

But according to the problem statement, it seems like it should be allowed.

Wait, there's confusion here.

Let me read condition 2 again carefully:

"there should be no digit that comes after a letter (so, after each letter, there is either another letter or the string ends)"

So, it means that after any letter, the next character should either be another letter or the string should end; it should not be a digit.

Therefore, in "ac123", 'c' is followed by '1', which is a digit after a letter, which violates condition 2.

Hence, it should be "NO", which matches the example output.

So, the function correctly identifies this as "NO" because there is a digit after a letter.

Now, looking back at the function, it seems to correctly implement this condition by checking that no letter is followed by a digit.

Therefore, the function seems correct in this regard.

Another example:

Input:

6

011679

Output:

YES

Password is "011679".

- All digits: '0', '1', '1', '6', '7', '9', which are sorted in non-decreasing order.

- No letters present.

- So, it's "YES".

Now, let's consider some edge cases to verify the function.

Edge Case 1:

n = 1

password = "a"

- Letters: 'a', which is sorted.

- No digits.

- No digit after a letter.

- Should be "YES".

Edge Case 2:

n = 1

password = "1"

- Digits: '1', which is sorted.

- No letters.

- Should be "YES".

Edge Case 3:

n = 2

password = "a1"

- Letters: 'a', sorted.

- Digits: '1', sorted.

- No digit after a letter (since after 'a' is '1', which is allowed as per condition 2).

- Should be "YES".

Wait, according to condition 2, there should be no digit that comes after a letter.

In "a1", '1' comes after 'a', which is a digit after a letter.

According to condition 2, this should be "NO".

Wait, but intuitively, it seems like it should be allowed, but according to the condition as stated, it should be "NO".

Wait, perhaps condition 2 is misinterpreted.

Let me read condition 2 again:

"there should be no digit that comes after a letter (so, after each letter, there is either another letter or the string ends)"

So, in "a1", 'a' is followed by '1', which is a digit after a letter.

According to this condition, it should be "NO".

But intuitively, it seems like it should be allowed if letters are before digits and both are sorted.

Perhaps there's a misunderstanding in the condition.

Wait, maybe the condition means that all letters must come before any digits, and within letters and digits, they are sorted.

In "a1", 'a' comes before '1', which seems allowed.

But according to the exact wording of condition 2, it's not allowed because '1' comes after 'a'.

This is confusing.

Let me consider the intent of condition 2.

The intent seems to be that once a letter appears, no digits should follow it.

In other words, all letters must precede any digits in the string.

So, in "a1", 'a' is followed by '1', which violates this condition.

Hence, it should be "NO".

But in the earlier example, "12ac" is "YES", because letters come after digits, but in this case, digits come after letters.

Wait, no, in "12ac", digits come before letters, and in "ac123", letters come before digits.

Wait, I think I need to clarify this.

Let me look back at the first example:

Input:

4

12ac

Output:

YES

Here, "12ac" has digits '1','2' before letters 'a','c', and both are sorted.

So, it's "YES".

Input:

5

123wa

Output:

NO

Here, "123wa" has digits '1','2','3' before letters 'w','a', but letters 'w','a' are not sorted, so "NO".

Input:

9

allllmost

Output:

YES

Here, only letters, sorted, so "YES".

Input:

5

ac123

Output:

NO

Here, letters 'a','c' followed by digits '1','2','3'. According to condition 2, it's "NO" because digits come after letters.

Wait, but in the first example, "12ac" is "YES", with digits before letters.

So, the intent is that all letters must come before any digits, and within letters and digits, they are sorted.

Hence, the function correctly implements this by ensuring that no digit comes after a letter.

Therefore, in "a1", it should be "NO" because '1' comes after 'a'.

But intuitively, "a1" seems like it should be allowed, but according to the condition, it's not.

Hence, the function is correct in returning "NO" for such cases.

Another edge case:

n = 2

password = "1a"

- Digit '1' followed by letter 'a'.

- Letters: 'a', sorted.

- Digits: '1', sorted.

- No digit comes after a letter (since there is a letter after a digit, but condition 2 only prohibits digits after letters).

- According to condition 2, it's allowed because there are no digits after letters.

- So, it should be "YES".

But according to the function, it will see that '1' is followed by 'a', which is a digit followed by a letter, so it doesn't violate the condition checked in the function.

Wait, the function checks that no letter is followed by a digit.

In "1a", '1' is followed by 'a', which is allowed because '1' is a digit and 'a' is a letter.

Condition 2 only prohibits digits coming after letters, not letters coming after digits.

Hence, "1a" should be "YES", and the function correctly allows it because no letter is followed by a digit.

Wait, but according to condition 2, it's allowed as long as no digit comes after a letter.

In "1a", a letter comes after a digit, which is allowed.

Hence, it's correct.

Another edge case:

n = 3

password = "a1a"

- Letters: 'a', 'a', sorted.

- Digits: '1', sorted.

- But 'a' is followed by '1', which is a digit after a letter.

- Hence, it should be "NO".

The function will detect that 'a' is followed by '1' and return "NO", which is correct.

Another edge case:

n = 3

password = "abc"

- Only letters, sorted.

- Should be "YES".

n = 3

password = "cba"

- Only letters, but not sorted.

- Should be "NO".

The function will check if 'c', 'b', 'a' are sorted, which they are not, so it returns "NO", which is correct.

Similarly for digits:

n = 3

password = "123"

- Only digits, sorted.

- Should be "YES".

n = 3

password = "321"

- Only digits, not sorted.

- Should be "NO".

The function will check if '3', '2', '1' are sorted, which they are not, so it returns "NO", which is correct.

Mixed case:

n = 4

password = "a1c2"

- Letters: 'a', 'c', sorted.

- Digits: '1', '2', sorted.

- But 'a' is followed by '1', which is a digit after a letter.

- Hence, it should be "NO".

The function will detect 'a' followed by '1' and return "NO", which is correct.

Another mixed case:

n = 4

password = "1a2b"

- Letters: 'a', 'b', sorted.

- Digits: '1', '2', sorted.

- '1' followed by 'a', which is allowed.

- 'a' followed by '2', which is a digit after a letter.

- Hence, it should be "NO".

The function will detect 'a' followed by '2' and return "NO", which is correct.

Case with repeated characters:

n = 4

password = "aa11"

- Letters: 'a', 'a', sorted.

- Digits: '1', '1', sorted.

- No digit after a letter.

- Should be "YES".

The function will check that no letter is followed by a digit, which is true, so it returns "YES", which is correct.

Case with all letters:

n = 5

password = "abcde"

- Letters: 'a','b','c','d','e', sorted.

- No digits.

- Should be "YES".

The function will check that letters are sorted and there are no digits, so it returns "YES", which is correct.

Case with all digits:

n = 5

password = "12345"

- Digits: '1','2','3','4','5', sorted.

- No letters.

- Should be "YES".

The function will check that digits are sorted and there are no letters, so it returns "YES", which is correct.

Case with letters and digits mixed, but digits come before letters:

n = 4

password = "12ab"

- Letters: 'a','b', sorted.

- Digits: '1','2', sorted.

- No letter is followed by a digit.

- Should be "YES".

The function will check that no letter is followed by a digit, which is true, so it returns "YES", which is correct.

Case with letters and digits mixed, digits after letters:

n = 4

password = "ab12"

- Letters: 'a','b', sorted.

- Digits: '1','2', sorted.

- 'b' is followed by '1', which is a digit after a letter.

- Should be "NO".

The function will detect 'b' followed by '1' and return "NO", which is correct.

Seems like the function correctly handles various cases.

Now, let's look at the implementation details.

The function iterates through the password and separates letters and digits into two lists, then checks if these lists are sorted.

It also checks that no letter is followed by a digit in the password string.

This seems efficient and straightforward for the given constraints (n <= 20).

Possible improvements or edge cases to consider:

- All letters, sorted: "abc" -> "YES"

- All letters, not sorted: "acb" -> "NO"

- All digits, sorted: "123" -> "YES"

- All digits, not sorted: "321" -> "NO"

- Mixed letters and digits, letters before digits, both sorted: "abc123" -> "YES"

- Mixed letters and digits, digits before letters, both sorted: "123abc" -> "YES" (but according to condition 2, it should be "NO" if digits come before letters? Wait, no.

Wait, condition 2 says no digit should come after a letter, which implies that letters can come before digits, but digits cannot come after letters.

Wait, there's confusion again.

Wait, perhaps condition 2 means that in the entire string, there should be no digit that appears after any letter, which would mean that all digits must come before any letters.

Wait, that seems contradictory to the earlier interpretation.

Wait, perhaps I need to clarify the condition again.

Condition 2: "there should be no digit that comes after a letter (so, after each letter, there is either another letter or the string ends)"

So, in other words, once a letter appears, no digits can follow.

Hence, all letters must come before any digits in the string.

Wait, but in the first example, "12ac" is "YES", which has digits before letters.

Wait, perhaps I'm misinterpreting the condition.

Wait, perhaps it means that if there are any letters in the password, all digits must come before any letters.

If there are no letters, then digits can be anywhere.

Similarly, if there are no digits, letters can be anywhere.

But in the presence of both letters and digits, all letters must come after all digits.

Wait, but in "12ac", digits come before letters, which is allowed.

In "ac123", letters come before digits, which is not allowed.

Hence, the condition is that if there are both letters and digits, all digits must come before any letters.

If there are only letters or only digits, it's allowed as long as they are sorted.

Hence, the function needs to ensure that if there is at least one letter and at least one digit, then all digits come before any letters, and both letters and digits are sorted.

Otherwise, if there are only letters or only digits, they just need to be sorted.

Looking back at the function:

def func_1(n, password):

letters = []

digits = []

for ch in password:

if ch.isdigit():

digits.append(ch)

else:

letters.append(ch)

if letters != sorted(letters):

return 'NO'

if digits != sorted(digits):

return 'NO'

for i in range(len(password) - 1):

if password[i].isalpha() and password[i + 1].isdigit():

return 'NO'

return 'YES'

This function checks:

1. Letters are sorted.

2. Digits are sorted.

3. No letter is followed by a digit in the password string.

Which aligns with the condition that if there are both letters and digits, digits must come before letters, and both must be sorted.

Hence, the function seems correct.

Alternative implementation:

Alternatively, we could find the position where letters and digits should be separated.

- Find the first digit in the password.

- Ensure that all characters after that are digits.

- Ensure that letters are sorted among themselves.

- Ensure that digits are sorted among themselves.

But the current implementation seems sufficient and efficient for the given constraints.

Hence, I conclude that the given program is correct.

Correctness: **True**