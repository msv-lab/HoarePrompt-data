Alright, I've got this problem to solve. Let's see what it's about. There are three friends playing chess together. In each game, two of them play against each other. The winner gets 2 points, the loser gets 0, and in case of a draw, both get 1 point each. After all the games, their scores are p1, p2, and p3, with p1 ≤ p2 ≤ p3. I need to find the maximum number of draws that could have happened, or print -1 if such scores are impossible.

First, I need to understand the scoring system. Each game can result in either a win or a draw. In a win, the total points awarded are 2 (winner gets 2, loser gets 0). In a draw, both players get 1 point, so total points awarded are 2 again. So, regardless of the outcome, each game contributes 2 points to the total sum of points.

Given that, the total sum of points p1 + p2 + p3 must be even, because each game contributes 2 points. If the sum is odd, it's impossible, and I should return -1. That makes sense.

Now, I need to maximize the number of draws. Each draw involves two players, and both get 1 point. So, for each draw, I'm adding one draw to the count.

I need to think about how to distribute the points among the players in such a way that the number of draws is maximized, while still satisfying the given scores.

Let me consider the constraints:

1. p1 ≤ p2 ≤ p3

2. p1 + p2 + p3 is even

3. The points are achieved through a series of games where each game is either a win or a draw.

I need to find a combination of wins and draws that results in the given points.

Let me think about the maximum number of draws. To maximize draws, I should minimize the number of wins because each win doesn't contribute to draws.

Wait, but wins and draws are exclusive for each game. So, for each game, it's either a win (2 points to one player) or a draw (1 point to each player).

I need to maximize the number of draws, which means maximizing the number of games that ended in a draw.

Let me consider the total number of games played. Since each game contributes 2 points to the total sum, the total number of games is (p1 + p2 + p3) / 2.

Now, I need to distribute these games between wins and draws.

Let me denote:

- d = number of draws

- w = number of wins

Then, d + w = total number of games = (p1 + p2 + p3) / 2

And the total points would be:

- For draws: each draw contributes 2 points (1 to each player)

- For wins: each win contributes 2 points (all to the winner)

So, total points = 2d + 2w = p1 + p2 + p3

Wait, that's consistent with the earlier statement.

But I need to maximize d, the number of draws.

However, I also need to satisfy the individual scores p1, p2, p3.

Let me think about how points are distributed.

Each draw involves two specific players, and both get 1 point.

Each win involves two specific players, one gets 2 points, the other gets 0.

Given that, I need to find a combination of draws and wins that results in the given points.

To maximize draws, I should maximize the number of games that are draws, while still allowing the points to add up correctly.

Let me consider the minimal number of wins required to achieve the points, and the rest can be draws.

Because each win allows transferring 2 points from one player to another (the winner gets 2, the loser loses 0), while draws just add 1 point to each player involved.

Wait, no, in a draw, both players get 1 point each.

In a win, the winner gets 2 points, and the loser gets 0.

So, in terms of point transfer, a win transfers 2 points to the winner.

In a draw, both players get 1 point.

Given that, I need to model how points are distributed.

Let me consider the difference in points between the players.

Since p1 ≤ p2 ≤ p3, the highest scorer is p3, and the lowest is p1.

To maximize draws, I need to have as many games as possible end in draws, which means both players involved get 1 point each.

But I need to make sure that the points add up correctly.

Let me consider that in order to have p3 points for the third player, he must have gained those points through a combination of wins and draws.

Similarly for p1 and p2.

Let me think about the possible ways to achieve the points.

One approach is to consider that the total points are distributed through a certain number of draws and wins.

But I need to consider the pairwise interactions between the players.

Let me denote the players as A, B, and C, with pA ≤ pB ≤ pC.

Let me consider the games between A and B, A and C, and B and C.

Each pair can have multiple games between them.

I need to assign a certain number of games to each pair, with outcomes being either win or draw, such that the total points add up to pA, pB, and pC.

This seems a bit complicated. Maybe there's a better way.

Let me think about the total number of games.

Total games = (p1 + p2 + p3) / 2

Now, in these games, some are draws and some are wins.

Let me denote d as the number of draws.

Then, the number of wins is (p1 + p2 + p3)/2 - d

Now, in each draw, two players each get 1 point, so total points from draws are 2d.

In each win, one player gets 2 points, and the other gets 0, so total points from wins are 2w.

But total points are p1 + p2 + p3, which is equal to 2d + 2w.

Wait, that's the same as above.

But I need to maximize d, so I need to minimize w.

But I need to ensure that the distribution of points is possible with the given w and d.

Let me think about the minimal number of wins required.

Each win allows transferring 2 points from one player to another.

In other words, wins can be used to increase the point difference between players.

Draws, on the other hand, increase both players' points by 1, so they don't change the differences as much.

To maximize draws, I need to minimize the number of wins, which means minimizing the point differences that require wins.

Wait, perhaps I can think in terms of the total point differences.

Let me calculate the total point differences.

Sum of pairwise differences: (p2 - p1) + (p3 - p2) + (p3 - p1) = 2*(p3 - p1)

But since p1 ≤ p2 ≤ p3, the differences are p2 - p1 and p3 - p2.

To achieve these differences, I need a certain number of wins.

Each win can increase the difference by 2 points (one player gains 2, the other loses 0).

So, the minimal number of wins needed is ceil((p3 - p1)/2).

Wait, is that correct?

Let me see.

If p3 - p1 is even, then minimal number of wins is (p3 - p1)/2.

If p3 - p1 is odd, then it's (p3 - p1)/2 rounded up.

Wait, no, actually, since each win can increase the difference by 2, the minimal number of wins needed is ceil((p3 - p1)/2).

But I need to confirm this.

Let me consider an example.

Suppose p1=1, p2=1, p3=2.

Then, p3 - p1 = 1, which is odd.

Ceil(1/2) = 1.

So, minimal number of wins is 1.

Is that possible?

Yes, one win between player 3 and either player 1 or 2, and the rest can be draws.

Similarly, in p1=0, p2=0, p3=0, p3 - p1 = 0, so minimal wins is 0.

In p1=0, p2=1, p3=1, p3 - p1 =1, so minimal wins is 1.

Wait, but in that case, it's possible with one draw between p2 and p3, and p1 has 0.

But according to the earlier logic, minimal wins is ceil((p3 - p1)/2) = ceil(1/2) =1.

So, I need at least one win.

But in reality, one draw is sufficient.

Wait, maybe my earlier assumption is incorrect.

Let me think differently.

Perhaps the minimal number of wins is floor((p3 - p1)/2).

Wait, in the example above, floor(1/2)=0, but we need at least one win.

Wait, no, in that case, it's possible with one draw.

Wait, maybe I need to think in terms of the sum of points.

Wait, perhaps the minimal number of wins is the number needed to achieve the maximal point difference.

But maybe I'm overcomplicating this.

Let me look at the total points.

Total points = p1 + p2 + p3, which must be even.

Total games = (p1 + p2 + p3)/2.

Now, in these games, some are draws, contributing 2 points to the total, and some are wins, also contributing 2 points.

So, the number of draws can be up to total games, but I need to satisfy the individual points.

To maximize draws, I need to minimize wins.

Each win can be used to adjust the point differences.

So, the minimal number of wins needed is the number required to achieve the point differences.

Once I have that, the rest can be draws.

So, minimal wins = ceil((p3 - p1)/2).

Then, maximal draws = total games - minimal wins.

But in the earlier example, p1=1, p2=1, p3=2.

p3 - p1 =1, ceil(1/2)=1.

Total games = (1+1+2)/2=2.

Maximal draws =2-1=1.

But according to the sample input, it's possible to have 2 draws.

Wait, maybe my calculation is wrong.

Wait, in that case, with p1=1, p2=1, p3=2, is it possible to have 2 draws?

Let me see.

If there are 2 draws, each draw involves two players, and both get 1 point.

So, possible combinations:

- Two draws between different pairs.

For example, one draw between A and B, and one between A and C.

Then, A gets 1+1=2, B gets 1, C gets 1.

But p3=2, p2=1, p1=1, but p1 ≤ p2 ≤ p3, so p1=1, p2=1, p3=2.

Wait, that matches.

Alternatively, two draws between A and B.

Then A gets 2, B gets 2, C gets 0.

But p3=2, p2=2, p1=0, which doesn't match p1=1.

So, not possible.

Wait, but according to the sample input, for p1=1, p2=1, p3=2, the answer is 2.

But in my earlier thought, it seems that with two draws, I can achieve p1=2, p2=1, p3=1, which matches if A and B draw once, and A and C draw once.

Wait, but in that case, A plays with B and C, getting 1 point from each, so A has 2 points.

B plays with A, getting 1 point, and doesn't play with C, so B has 1 point.

C plays with A, getting 1 point, and doesn't play with B, so C has 1 point.

That matches p1=1, p2=1, p3=2 if we assign p3 to A, p2 to B, p1 to C.

Wait, but in the input, p1 ≤ p2 ≤ p3, so p3 is the highest.

But in this assignment, p3=2, p2=1, p1=1, which doesn't satisfy p1 ≤ p2 ≤ p3.

Wait, no, p1=1, p2=1, p3=2, which does satisfy p1 ≤ p2 ≤ p3.

So, it's possible with two draws.

Hence, the maximal number of draws is 2.

So, in this case, the minimal number of wins is 0, but according to my earlier formula, minimal wins = ceil((p3 - p1)/2) = ceil(1/2)=1.

But in reality, it's possible with zero wins.

Wait, perhaps my earlier assumption is incorrect.

Let me think differently.

Maybe the minimal number of wins is floor((p3 - p1)/2).

In this case, floor(1/2)=0.

Which matches the possibility of having zero wins.

Wait, but in the earlier example where p1=0, p2=1, p3=1, p3 - p1=1, floor(1/2)=0.

But in reality, you need at least one win or draw.

Wait, no, in that case, one draw between p2 and p3 can achieve p1=0, p2=1, p3=1.

So, zero wins is possible.

Wait, but according to the sample input, for p1=0, p2=1, p3=1, the output is 1.

Wait, no, looking back at the sample input, for p1=0, p2=1, p3=1, the output is 1.

Wait, in the sample input, it's:

7

0 0 0

0 1 1

1 1 1

1 1 2

3 3 3

3 4 5

1 1 10

Output:

0

1

-1

2

-1

6

2

So, for p1=1, p2=1, p3=2, output is 2.

Wait, in my earlier thought, I thought it was possible with two draws, but in the sample input, it's 2.

Wait, but in the sample input, for p1=0, p2=1, p3=1, output is 1.

Wait, but according to my earlier thought, with one draw between p2 and p3, p1 has 0, p2 has 1, p3 has 1, which matches.

Similarly, for p1=1, p2=1, p3=2, with two draws: one between p1 and p2, and one between p1 and p3.

Then p1 has 1+1=2, p2 has 1, p3 has 1.

Wait, but p3 should have 2, p2 has 1, p1 has 2, but p1 should be ≤ p2 ≤ p3, which is not satisfied here.

Wait, maybe I need to assign players differently.

Wait, perhaps I need to consider that p3 is the highest, so in this case, p3=2, p2=1, p1=1.

Is it possible?

Yes, with two draws: p3 vs p1 and p3 vs p2.

Then p3 gets 1+1=2, p1 gets 1, p2 gets 1.

That matches p1=1, p2=1, p3=2.

So, it's possible with two draws.

Hence, maximal draws is 2.

Similarly, in p1=0, p2=1, p3=1, maximal draws is 1.

Wait, but according to the sample input, for p1=1, p2=1, p3=1, output is -1.

Wait, but if p1=1, p2=1, p3=1, total points sum to 3, which is odd, so it's impossible.

Wait, but in my earlier thought, I considered that total points must be even, which is correct.

Wait, but in p1=1, p2=1, p3=1, sum is 3, which is odd, so it's impossible, hence output -1.

Wait, but in the sample input, it's output -1, which matches.

Wait, no, in the sample input, p1=1, p2=1, p3=1 is output -1, which matches my earlier thought.

Wait, but in p1=1, p2=1, p3=2, sum is 4, which is even, and it's possible with two draws.

Wait, but in p1=1, p2=1, p3=2, with two draws: p3 vs p1 and p3 vs p2, p3 gets 2, p1 gets 1, p2 gets 1.

That works.

Hence, maximal draws is 2.

Similarly, in p1=0, p2=1, p3=1, sum is 2, which is even.

One draw between p2 and p3: p2 gets 1, p3 gets 1, p1 gets 0.

Hence, maximal draws is 1.

So, in general, maximal draws is (p1 + p2 + p3)/2 - minimal_wins.

Now, I need to find minimal_wins.

Earlier, I thought minimal_wins = ceil((p3 - p1)/2).

But in p1=1, p2=1, p3=2, p3 - p1=1, ceil(1/2)=1, but it's possible with zero wins.

Wait, perhaps I need to adjust that.

Wait, maybe minimal_wins = max(0, ceil((p3 - p2)/2) + ceil((p3 - p1)/2)).

Wait, in p1=1, p2=1, p3=2, ceil((2-1)/2)=1, ceil((2-1)/2)=1, so minimal_wins=1+1=2.

But in reality, it's possible with zero wins.

Wait, that doesn't make sense.

Wait, perhaps I need to think differently.

Let me consider that to make p3 as high as possible, he needs to win some games.

But in the case where p3 is higher than p2 and p1, the minimal wins needed are to account for the difference between p3 and p2 and p3 and p1.

Wait, maybe minimal_wins = ceil((p3 - p2)/2) + ceil((p3 - p1)/2).

In p1=1, p2=1, p3=2, ceil((2-1)/2)=1, ceil((2-1)/2)=1, so minimal_wins=2.

But in reality, it's possible with zero wins, as shown earlier.

Hence, my assumption is incorrect.

Wait, perhaps I need to consider that draws can contribute to the points in such a way that differences are minimized.

Wait, maybe I need to think in terms of the sum of points and the differences.

Let me consider that the sum of points is even, which is already checked.

Now, to maximize draws, I need to minimize wins.

Each win increases the difference between players by 2 points.

So, the minimal number of wins needed is ceil((p3 - p2)/2) + ceil((p2 - p1)/2).

Wait, in p1=1, p2=1, p3=2:

ceil((2-1)/2)=1, ceil((1-1)/2)=0, so minimal_wins=1.

But in reality, it's possible with zero wins, as shown earlier.

Wait, perhaps not.

Wait, in that case, with two draws: p3 vs p1 and p3 vs p2, p3 gets 2, p1 gets 1, p2 gets 1, without any wins.

So, minimal_wins=0.

Hence, my previous formula is incorrect.

Wait, maybe I need to think in terms of the total differences.

Sum of differences: (p2 - p1) + (p3 - p2) = p3 - p1.

So, minimal_wins = ceil((p3 - p1)/2).

In this case, ceil((2-1)/2)=1, but it's possible with zero wins.

Hence, perhaps minimal_wins = max(0, (p3 - p1 + 1)//2).

But in this case, (2-1+1)//2=1, but it's possible with zero wins.

Wait, maybe I need to consider that if p3 - p1 <= d, where d is the number of draws involving p3 and the other players.

Wait, this is getting too complicated.

Let me look for another approach.

I recall that in some problems, to maximize draws, I need to minimize wins.

Each win affects the differences by 2 points.

So, the minimal number of wins needed is the number required to cover the maximal differences.

But perhaps I should look for a different approach.

Let me consider that the total points from draws is 2d, and from wins is 2w.

But total points is p1 + p2 + p3 = 2(d + w).

So, d + w = (p1 + p2 + p3)/2.

Now, I need to maximize d, so I need to minimize w.

The minimal w is the number of wins needed to adjust the differences.

Wait, perhaps I can model this as a system of equations.

Let me denote:

- d_ab: number of draws between A and B

- d_ac: number of draws between A and C

- d_bc: number of draws between B and C

- w_ab: number of wins between A and B (one wins, the other loses)

- w_ac: number of wins between A and C

- w_bc: number of wins between B and C

Then, the points for each player are:

pA = d_ab + d_ac + 2*w_ac

pB = d_ab + d_bc + 2*w_bc

pC = d_ac + d_bc + 2*w_ac

Wait, no, more precisely:

- For draws:

- Each draw between A and B gives 1 point to A and 1 to B

- Each draw between A and C gives 1 to A and 1 to C

- Each draw between B and C gives 1 to B and 1 to C

- For wins:

- Each win for A over B: A gets 2, B gets 0

- Each win for B over A: B gets 2, A gets 0

- Similarly for other pairs

This seems too complicated to handle directly.

Maybe I need a better approach.

Let me consider that the minimal number of wins is the number required to make p3 as high as it is.

Given that p3 is the highest, he must have won some games to achieve his score.

Wait, but in the earlier example, p3=2, p2=1, p1=1, and it's possible with zero wins.

Wait, but p3=2 could be achieved through one win and one draw.

Wait, no, in that case, p3=2, p2=1, p1=1, achievable with two draws.

Wait, perhaps p3=2 is achievable without any wins.

Hence, minimal_wins could be zero in this case.

Wait, but in another case, p3 might require some wins.

For example, p1=0, p2=0, p3=2.

Then, p3=2 can be achieved with one win for p3 against p1 and one win for p3 against p2.

Alternatively, with two wins, p3 gets 4, but p1 and p2 get 0, which doesn't match p3=2.

Wait, no, each win gives 2 points to the winner.

So, one win for p3 against p1: p3=2, p1=0.

One win for p3 against p2: p3=4, p2=0.

But p3=2 is required, so it's not possible with wins alone.

Alternatively, if p3=2, p2=0, p1=0, it's impossible because with two draws, p3 can get at most 2 points, but p2 and p1 would each have 1 point, which doesn't match.

Wait, no, with one draw between p3 and p1, and one draw between p3 and p2, p3 gets 2, p1 gets 1, p2 gets 1.

But in this case, p1 and p2 have 1 each, which matches p1=1, p2=1, p3=2.

But for p1=0, p2=0, p3=2, it's impossible with draws, because draws would give points to both players.

Hence, in that case, it's impossible, so output -1.

Wait, but p1=0, p2=0, p3=2, sum is 2, which is even.

But it's impossible because you can't have p3=2 without giving points to the other players through draws.

Wait, unless p3 plays only wins.

But if p3 plays a win against p1, p3 gets 2, p1 gets 0.

If p3 plays a win against p2, p3 gets 4, p2 gets 0, which doesn't match p3=2.

Alternatively, one win and one loss, but that wouldn't work.

Hence, it's impossible.

So, in this case, even though the sum is even, it's impossible due to the individual scores.

Hence, need to check not only the sum but also the individual scores.

Now, I need to find a general way to compute the maximal number of draws.

Let me consider that the maximal number of draws is when as many games as possible are draws, while still achieving the required points.

Hence, I need to minimize the number of wins.

Each win affects the differences by 2 points.

Hence, the minimal number of wins is ceil((p3 - p1)/2).

But in the earlier example, p3 - p1 =2, ceil(2/2)=1, but it's possible with one win.

Wait, but in p1=1, p2=1, p3=2, p3 - p1=1, ceil(1/2)=1, and it's possible with zero wins.

Wait, perhaps I need to adjust that.

Wait, maybe the minimal number of wins is floor((p3 - p2)/2) + floor((p2 - p1)/2).

In p1=1, p2=1, p3=2: floor((2-1)/2)=0, floor((1-1)/2)=0, so minimal_wins=0.

Which matches the possibility with two draws.

Similarly, in p1=0, p2=1, p3=1: floor((1-1)/2)=0, floor((1-0)/2)=0, so minimal_wins=0.

But in reality, you need at least one draw, which corresponds to one game.

Wait, but in p1=0, p2=1, p3=1, with one draw between p2 and p3, p2 gets 1, p3 gets 1, p1 gets 0.

Hence, total games =1, draws=1, wins=0.

Hence, minimal_wins can be zero.

Hence, perhaps minimal_wins = floor((p3 - p2)/2) + floor((p2 - p1)/2).

But in p1=0, p2=0, p3=2, floor((2-0)/2)=1, floor((0-0)/2)=0, so minimal_wins=1.

In this case, with one win for p3 against p1 or p2, and one draw between p2 and p3.

Wait, but in p1=0, p2=0, p3=2, with one win for p3 against p1: p3=2, p1=0.

Then, no game between p2 and p3: p2=0, p3=2.

Hence, total games=1, draws=0, wins=1.

Which matches minimal_wins=1.

Hence, in this case, maximal draws=0.

But according to the earlier thought, sum is even, but it's impossible to have p1=0, p2=0, p3=2 with draws only.

Hence, in this case, maximal draws=0.

But according to the sample input, p1=0, p2=0, p3=0 outputs 0, which is possible.

p1=0, p2=0, p3=0 means no games played, hence draws=0.

p1=0, p2=1, p3=1 outputs 1.

p1=1, p2=1, p3=1 outputs -1.

p1=1, p2=1, p3=2 outputs 2.

p1=3, p2=3, p3=3 outputs -1.

p1=3, p2=4, p3=5 outputs 6.

p1=1, p2=1, p3=10 outputs 2.

Wait, p1=1, p2=1, p3=10, sum is 12, which is even.

But how many draws can there be?

Let me see.

Total games=6.

To maximize draws, minimize wins.

But p3=10, p2=1, p1=1.

p3 needs to get 10 points.

If p3 plays with p1 and p2, and wins all games against them, he gets 2 points per win.

To get 10 points, he needs 5 wins.

Wait, 5 wins give 10 points.

But total games would be 5, since he plays 5 games against p1 or p2.

But p1 and p2 need to have p1=1 and p2=1.

But in 5 wins, p1 and p2 would have 0 points, which doesn't match p1=1, p2=1.

Hence, need to include some draws.

Wait, perhaps p3 plays some draws.

Wait, but p3=10, p2=1, p1=1.

Total games=6.

Let me try:

Suppose p3 plays 5 wins against p1 and p2, getting 10 points.

But p1 and p2 would have 0 points.

To give p1 and p2 each 1 point, maybe there is one draw between p1 and p2.

Then p1 gets 1, p2 gets 1, and p3 gets 10 from his wins.

Total games=6: 5 wins and 1 draw.

Hence, draws=1.

But according to the sample input, it's 2.

Wait, perhaps I'm miscalculating.

Wait, p1=1, p2=1, p3=10.

Total points=12, total games=6.

To maximize draws, minimize wins.

But p3 needs 10 points.

Each win gives him 2 points.

So, he needs at least 5 wins to get 10 points.

But in 5 wins, p1 and p2 would have 0 points.

But we need p1=1 and p2=1.

Hence, need to have some draws involving p1 and p2.

If p1 and p2 play one draw between them, p1 gets 1, p2 gets 1.

Then, p3 can have 5 wins against p1 and p2.

But p1 and p2 have 1 point each from their draw.

Hence, p3 has 10, p2 has 1, p1 has 1.

Total games: 5 wins +1 draw=6.

Hence, draws=1.

But according to the sample input, output is 2.

Wait, maybe there is another way.

Suppose p3 plays 4 wins (8 points) and one draw (1 point), total 9 points.

Then, p3 needs one more point.

Wait, but p3 needs 10 points.

Wait, perhaps p3 plays 5 wins (10 points) and p1 and p2 play one draw (each get 1 point).

Hence, p3=10, p2=1, p1=1.

Total games: 5 wins +1 draw=6.

Draws=1.

But according to the sample input, output is 2.

Wait, maybe I'm missing something.

Alternatively, perhaps p3 plays 4 wins (8 points) and one draw (1 point), total 9 points.

Then, need one more point for p3.

But that's not possible.

Wait, maybe p3 plays 3 wins (6 points) and 2 draws (2 points), total 8 points.

Still not enough.

Wait, perhaps p3 plays 4 wins (8 points) and one draw (1 point), total 9 points.

Then, p1 and p2 play one draw, getting 1 point each.

But p3 needs one more point.

Maybe p3 plays one more draw against p1 or p2.

But that would give p3 an additional point, and p1 or p2 an additional point.

But p1 and p2 already have 1 point each.

So, if p3 plays a draw against p1, p3 gets 1, p1 gets 1.

But p1 already has 1 from the earlier draw, so p1 would have 2, which is not desired.

Hence, it's not possible to have more than one draw.

Wait, but according to the sample input, output is 2.

Wait, perhaps there is a mistake in my reasoning.

Let me think differently.

Let me consider that the maximal number of draws is the minimal of p1, p2, p3.

But in the sample input, p1=1, p2=1, p3=10, output is 2.

But min(p1,p2,p3)=1, but output is 2.

Hence, that's not correct.

Wait, perhaps it's the minimal of p1 and p2.

But p1=1, p2=1, p3=10, min(p1,p2)=1, but output is 2.

Wait, doesn't match.

Wait, perhaps it's min(p1,p2,p3//2).

p3//2=5, min(1,1,5)=1, but output is 2.

Still not matching.

Wait, perhaps it's p1 + p2.

In this case, p1 + p2=2, which matches the output.

But in p1=1, p2=1, p3=2, output is 2, which is p1 + p2=2.

In p1=0, p2=1, p3=1, output is 1, which is p1 + p2=1.

In p1=0, p2=0, p3=0, output is 0, which is p1 + p2=0.

In p1=3, p2=3, p3=3, output is -1.

In p1=3, p2=4, p3=5, output is 6.

Wait, p1=3, p2=4, p3=5, sum is 12, which is even.

p1 + p2=7, but output is 6.

Doesn't match.

Wait, perhaps it's min(p1 + p2, p3).

In p1=1, p2=1, p3=10, min(2,10)=2, which matches the output.

In p1=1, p2=1, p3=2, min(2,2)=2, matches.

In p1=0, p2=1, p3=1, min(1,1)=1, matches.

In p1=0, p2=0, p3=0, min(0,0)=0, matches.

In p1=3, p2=3, p3=3, min(6,3)=3, but output is -1.

Wait, doesn't match.

Wait, perhaps it's min(p1 + p2, p3), but only if p3 <= p1 + p2.

Else, p3 >= p1 + p2, then it's p1 + p2.

Wait, in p1=3, p2=3, p3=3, p3 <= p1 + p2, min(6,3)=3, but output is -1.

Hence, it's not that.

Wait, perhaps it's p1 + p2, but only if p3 <= p1 + p2.

Else, it's p3.

Wait, in p1=1, p2=1, p3=2, p3 <= p1 + p2, so it's p1 + p2=2, matches output=2.

In p1=0, p2=1, p3=1, p3=1 <= p1 + p2=1, so it's p1 + p2=1, matches output=1.

In p1=0, p2=0, p3=0, p3=0 <= p1 + p2=0, so it's p1 + p2=0, matches output=0.

In p1=3, p2=3, p3=3, p3=3 <= p1 + p2=6, so it's p1 + p2=6, but output is -1.

Wait, doesn't match.

Wait, perhaps it's p1 + p2, but only if p3 <= p1 + p2 and some other conditions are met.

In p1=3, p2=3, p3=3, sum is 9, which is odd, but wait, sum is 9, which is odd, but in the sample input, sum is even.

Wait, p1=3, p2=3, p3=3, sum is 9, which is odd, but in the sample input, it's p1=3, p2=3, p3=3, sum is 9, which is odd, but in the sample input, it's p1=3, p2=4, p3=5, sum is 12, which is even, output is 6.

Wait, perhaps I need to consider p1 + p2 >= p3.

If p1 + p2 >= p3, then maximal draws is p1 + p2.

Else, it's p3.

But in p1=3, p2=3, p3=3, p1 + p2 =6 >= p3=3, so maximal draws would be p1 + p2=6.

But in the sample input, output is -1.

Wait, but in the sample input, p1=3, p2=3, p3=3 outputs -1.

Wait, perhaps there are additional constraints.

Let me check the sample input again.

Sample Input:

7

0 0 0

0 1 1

1 1 1

1 1 2

3 3 3

3 4 5

1 1 10

Output:

0

1

-1

2

-1

6

2

Looking at p1=3, p2=3, p3=3, sum is 9, which is odd, so it's impossible, output -1.

Wait, but in my earlier thought, sum is even, but in this case, sum is 9, which is odd.

Wait, perhaps I misread.

Wait, in the sample input, p1=3, p2=3, p3=3, sum is 9, which is odd, so it's impossible, output -1.

Similarly, p1=1, p2=1, p3=10, sum is 12, which is even, output=2.

Hence, the condition is:

If p1 + p2 + p3 is odd, output -1.

Else, if p3 <= p1 + p2, then maximal draws is p1 + p2.

Else, it's p3.

Wait, but in p1=3, p2=4, p3=5, sum is 12, which is even.

p3=5 <= p1 + p2=7, so maximal draws is p1 + p2=7.

But in the sample input, output is 6.

Wait, doesn't match.

Wait, perhaps it's p3.

In p1=3, p2=4, p3=5, p3=5 <= p1 + p2=7, so maximal draws is p3=5.

But sample output is 6.

Wait, doesn't match.

Wait, perhaps it's p1 + p2.

In p1=3, p2=4, p3=5, p1 + p2=7, but output is 6.

Wait, doesn't match.

Wait, perhaps it's min(p1 + p2, p3).

In p1=3, p2=4, p3=5, min(7,5)=5, but output is 6.

Doesn't match.

Wait, perhaps it's p1 + p2 - abs(p2 - p1).

Wait, p1=3, p2=4, p2 - p1=1, so p1 + p2 -1=6, matches output=6.

In p1=1, p2=1, p3=10, p1 + p2 - abs(p2 - p1)=1 +1 -0=2, matches output=2.

In p1=1, p2=1, p3=2, p1 + p2 - abs(p2 - p1)=1 +1 -0=2, matches output=2.

In p1=0, p2=1, p3=1, p1 + p2 - abs(p2 - p1)=0 +1 -1=0, but sample output=1.

Doesn't match.

Wait, perhaps it's p1 + p2.

In p1=0, p2=1, p3=