Functionality: **The function accepts multiple test cases, each containing four parameters: an integer `n` (1 ≤ n ≤ 2·10^5), a positive integer `m` (1 ≤ m ≤ 10^4), a list `a` of `n` integers where each integer `a_i` satisfies 1 ≤ a_i ≤ 10^4, and a string `s` of length `n` consisting only of the characters 'L' and 'R'. The function processes these parameters and returns a result for each test case. The total sum of `n` across all test cases does not exceed 2·10^5.**