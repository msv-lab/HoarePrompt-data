The function `func` accepts multiple test cases, each defined by the parameters `n`, `k`, `P_B`, `P_S`, `p`, and `a`. Here, `t` is an integer such that 1 ≤ t ≤ 10^4, indicating the number of test cases. For each test case:
- `n` is an integer such that 1 ≤ n ≤ 2 · 10^5, representing the length of the permutation `p` and the array `a`.
- `k` is an integer such that 1 ≤ k ≤ 10^9, representing a specific value used in the test case.
- `P_B` and `P_S` are integers such that 1 ≤ P_B, P_S ≤ n, representing specific positions in the permutation `p`.
- `p` is a permutation of length `n` consisting of integers from 1 to `n`.
- `a` is an array of length `n` consisting of integers such that 1 ≤ a_i ≤ 10^9.

The function processes each test case and returns a result based on the input parameters. The specific return values for each case are not provided, but the function is designed to handle multiple test cases efficiently, with the sum of values of `n` over all test cases not exceeding 2 · 10^5.

Functionality: **The function accepts multiple test cases, each defined by `n`, `k`, `P_B`, `P_S`, `p`, and `a`. It processes each test case and returns a result based on the input parameters.**