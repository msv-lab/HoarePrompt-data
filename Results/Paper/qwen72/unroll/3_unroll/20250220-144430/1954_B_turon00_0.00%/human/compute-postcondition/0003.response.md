The function `func` accepts multiple test cases, each consisting of an integer `n` and an array `a` of length `n`. Here, `n` is an integer within the range 1 ≤ n ≤ 3 · 10^5, and `a` is an array where each element `a_i` is a positive integer within the range 1 ≤ a_i ≤ n. The array `a` is guaranteed to be beautiful, meaning it is possible to make all elements the same by performing a specified operation. The function returns the minimum number of elements that need to be removed to make the array non-beautiful, or -1 if it is impossible to do so.

Functionality: **The function accepts multiple test cases, each with an integer `n` and an array `a` of length `n`. It returns the minimum number of elements to remove to make the array non-beautiful, or -1 if it is impossible.**