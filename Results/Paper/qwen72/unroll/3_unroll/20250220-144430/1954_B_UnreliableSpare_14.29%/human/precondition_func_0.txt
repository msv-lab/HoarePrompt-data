The function should take two parameters: a list of integers `a` representing the beautiful array, and an integer `n` representing the length of the array. The array `a` is guaranteed to be beautiful, and `n` satisfies 1 ≤ n ≤ 3 · 10^5. The function should also handle multiple test cases, indicated by an integer `t` (1 ≤ t ≤ 10^4) provided as an input parameter. The sum of `n` over all test cases does not exceed 3 · 10^5.