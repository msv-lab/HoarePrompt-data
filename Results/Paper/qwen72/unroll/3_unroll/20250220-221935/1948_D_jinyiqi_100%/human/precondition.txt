The function `solve` is expected to handle multiple test cases. Each test case contains a string `s` of length 1 to 5000, inclusive, consisting only of lowercase Latin letters and/or question marks. The total length of the strings over all test cases does not exceed 5000. The number of test cases `t` is an integer such that 1 ≤ t ≤ 1000.