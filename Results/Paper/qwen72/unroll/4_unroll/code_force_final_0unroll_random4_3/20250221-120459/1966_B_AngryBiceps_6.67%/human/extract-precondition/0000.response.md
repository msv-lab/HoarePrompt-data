Precondition: **The function `func` is intended to solve the problem described but lacks the necessary parameters. The correct function definition should include parameters for the grid and its dimensions, such as `def func(t, n, m, grid):`, where `t` is the number of test cases, `n` and `m` are the dimensions of the grid, and `grid` is a list of strings representing the rows of the grid, with each string containing 'W' and 'B' characters.**