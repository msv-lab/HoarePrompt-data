Precondition: **The function `func` is expected to take input parameters that are not provided in the function definition. Based on the problem description, the function should take three parameters: n (number of children), m (number of pairs of friends), and k (number of excursions). Additionally, it should take a list of m tuples, each containing three integers (a_i, b_i, f_i) representing the indices of the pair of children who are friends and their initial friendship value. The constraints are: 1 ≤ t ≤ 5 · 10^4 (number of test cases), 2 ≤ n ≤ 10^5, 0 ≤ m ≤ min(10^5, n(n-1)/2), 1 ≤ k ≤ 2 · 10^5, 1 ≤ a_i, b_i ≤ n, a_i ≠ b_i, and 1 ≤ f_i ≤ 10^9. The sum of n and m over all test cases does not exceed 10^5, and the sum of k over all test cases does not exceed 2 · 10^5.**