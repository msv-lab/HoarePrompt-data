The function `func` is designed to handle multiple test cases. Each test case contains two integers, `n` and `k`, where `2 ≤ n ≤ 5 · 10^4` and `1 ≤ k ≤ ⌊n/2⌋`. Additionally, each test case includes an array `a` of length `2n` that contains each integer from 1 to `n` exactly twice. The function should process these test cases and return a result for each one. The number of test cases, `t`, satisfies `1 ≤ t ≤ 5000`, and the sum of `n` over all test cases does not exceed `5 · 10^4`.

Functionality: **The function accepts multiple test cases, each containing two integers `n` and `k`, and an array `a` of length `2n` that contains each integer from 1 to `n` exactly twice. It returns a result for each test case based on the given parameters and constraints.**