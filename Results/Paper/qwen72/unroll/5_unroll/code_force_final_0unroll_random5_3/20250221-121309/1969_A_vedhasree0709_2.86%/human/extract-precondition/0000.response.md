Precondition: **The function `func` is expected to handle multiple test cases. Each test case includes an integer `n` (2 ≤ n ≤ 50) representing the number of friends, and a list of integers `p` of length `n` where each element `p_i` (1 ≤ p_i ≤ n, p_i ≠ i, all `p_i` are distinct) represents the best friend of the i-th friend. The function should be able to process these inputs to determine the minimum number of invitations required for at least 2 friends to attend the party.**