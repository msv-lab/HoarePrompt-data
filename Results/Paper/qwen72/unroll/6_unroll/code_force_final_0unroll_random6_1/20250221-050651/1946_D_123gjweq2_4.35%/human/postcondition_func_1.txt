The function `find_max` accepts a list of non-negative integers `cur_arr` and an integer `bit` (0 <= bit < 30). It returns the number of elements in `cur_arr` if `bit` is -1. Otherwise, it returns -1 if the bit-th bit of the cumulative XOR of all elements in `cur_arr` is 1. If the bit-th bit of the cumulative XOR is 0, it returns the maximum value between the result of `find_max(cur_arr, bit - 1)` and the length of a new list `new_arr`, which contains the cumulative XOR values up to the point where the bit-th bit of the cumulative XOR is 0.