The function `func` reads an integer `t` from the input, which represents the number of test cases. For each test case, it reads two integers `n` and `k`, followed by a list `l` of `n` integers. It calculates the maximum sum of a contiguous subarray of `l` that does not include any negative number which would cause the sum to reset. The function then computes and prints the result of the formula `(2