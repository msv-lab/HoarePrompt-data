The function `func` reads an integer `t` representing the number of test cases. For each test case, it reads two lines of input: the first line contains integers `n`, `m`, and `k`, representing the number of sale days, the maximum number of tickets purchasable each day, and the total number of tickets to be bought, respectively. The second line contains a list of `n` integers representing the ticket prices for each day. The function calculates and prints the minimum total cost to buy exactly `k` tickets over the `n` days, ensuring that no more than `m` tickets are bought on any single day. After processing all test cases, the function concludes, and the variables `t`, `n`, `m`, `k`, and `a` retain their initial values or are reset for each test case, while other variables used within the loop do not persist outside of each test case iteration.