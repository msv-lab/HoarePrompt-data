n is an integer such that 2 <= n <= 24. The input is a list of n strings, each of length n, representing the partial transition video plan. Each string consists of characters 'F', 'S', '?', or '.'. The character at the j-th position of the i-th string is the same as the character at the i-th position of the j-th string, and the i-th character of the i-th string is '.'. At most \lfloor \frac{n}{2} \rfloor transition videos are already decided, meaning at most 2\lfloor \frac{n}{2} \rfloor characters in the input are 'F' or 'S'.