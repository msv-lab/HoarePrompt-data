The function `func` reads multiple test cases from standard input, where each test case consists of an integer `n` (the number of houses) and a string `a` of length `n` (representing the preferences of residents for living on the left or right side of their houses). For each test case, it calculates and prints the smallest index (1-based) where the percentage of residents wanting to live on the left side and the percentage of residents wanting to live on the right side are both at least 50%. If no such index exists, it prints 0 if the overall percentage of residents wanting to live on the right side is at least 50%, otherwise it prints `n` (the total number of houses). The function processes each test case independently and prints the result for each one.