The function `func` processes multiple test cases, each defined by two integers `n` and `k`. For each test case, it constructs a list `nums` containing powers of 2 from \(2^0\) to \(2^{20}\), modifies this list by removing one element and adding three new elements based on the value of `k`, and then prints the length of the modified list followed by the elements of the list. The function handles up to 1000 test cases, with each `n` and `k` satisfying the constraints \(2 \leq n \leq 10^6\) and \(1 \leq k \leq n\). After processing all test cases, the function has printed the results for each case, and the final state of the program is that all test cases have been processed and their results have been output.