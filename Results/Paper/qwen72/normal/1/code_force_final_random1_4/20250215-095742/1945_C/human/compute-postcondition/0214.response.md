The function `func` processes multiple test cases. For each test case, it accepts two parameters: an integer `n` (where 3 ≤ n ≤ 3·10^5) representing the number of houses, and a string `a` of length `n` consisting only of '0' and '1'. Here, '0' indicates a resident who wants to live on the left side of the street, and '1' indicates a resident who wants to live on the right side. The function determines the optimal position `i` to lay the road such that at least half of the residents on each side of the street are satisfied with their side, and the road is as close to the middle of the village as possible. The function returns the position `i` for each test case.

Functionality: **The function accepts an integer `n` and a string `a` for each test case. It returns the optimal position `i` to lay the road such that at least half of the residents on each side of the street are satisfied, and the road is as close to the middle of the village as possible.**