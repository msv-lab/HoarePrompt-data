The `solve` function is expected to handle the processing of each set of input data, where each set includes the number of vertices `n` and the number of edges to remove `k`, with the constraints \(1 \le k < n \le 10^5\). Additionally, `n - 1` lines follow, each containing two integers `v` and `u` representing an edge in the tree, with \(1 \le v, u \le n\).