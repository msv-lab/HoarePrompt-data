Output State: **The loop has executed `t` times, where `t` is an integer such that 1 <= t <= 10^4. For each test case, `n` is an integer such that 1 <= n <= 2 * 10^5, and `a` is a list of `n` integers such that 1 <= a_i <= n. After processing each test case, the variables `l` and `r` are indices in the list `a` such that `l` is the largest index where `a[l] == a[l + 1]` for all `l < r`, and `r` is the smallest index where `a[r] != a[r - 1]` for all `r > l`. `st` is the number of consecutive elements from the start of the list `a` that are equal, and `end` is the number of consecutive elements from the end of the list `a` that are equal. The variable `ans` is the maximum number of elements in the list `a` that can be removed to make the remaining list have no consecutive equal elements, and it is calculated as follows: If `a[0]` is equal to `a[-1]`, then `ans` is `r - l - 1`. If `a[0]` is not equal to `a[-1]` and both `st` and `end` are 0, then `ans` is `len(a) - 1`. Otherwise, `ans` is `r - l`. The final output is the maximum of 0 and `ans` for each test case.**