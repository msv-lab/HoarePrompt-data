The function `func` processes multiple test cases, each defined by three integers `n`, `m`, and `k`. For each test case, it reads `m` lines of friendship data, where each line contains three integers representing a pair of children who are friends and their initial friendship value. The function calculates a value `s` based on the friendship values and the number of children, and prints the result modulo \(10^9 + 7\). The final state of the program after the function concludes is that the value `s` has been computed and printed for each test case, and the input has been fully processed.