### Reasoning:

The problem requires calculating the minimum possible penalty by optimally splitting the array `a` derived from the string `s` into non-empty subarrays. The penalty of a subarray is defined as the absolute value of its sum multiplied by its length.

Let's break down the logic in the provided program:

1. **Reading Input:**
   - The program reads an integer `t` which represents the number of test cases.
   - For each test case, it reads an integer `n` and a string `s` of length `n` consisting of characters "+" and "-".

2. **Calculating the Penalty:**
   - The function `func_1` calculates the number of "-" characters in the string `s` and stores it in the variable `neg`.
   - The program then prints `n - 2 * neg` if `n` is not equal to `neg`, otherwise it prints `n`.

### Analysis:

- **Understanding the Penalty Calculation:**
  - The penalty of a subarray is \( | \text{sum of elements} | \times \text{length of subarray} \).
  - To minimize the penalty, we should try to split the array in such a way that the sum of elements in each subarray is as close to zero as possible.

- **Optimal Splitting Strategy:**
  - If the string `s` contains an equal number of "+" and "-" characters, the optimal way to split the array is to pair each "+" with a "-", resulting in subarrays with a sum of zero. The penalty for each such subarray is zero, and the total penalty is zero.
  - If the string `s` does not contain an equal number of "+" and "-" characters, the optimal way to split the array is to create as many subarrays with a sum of zero as possible, and then handle the remaining characters. The remaining characters will form a subarray with a non-zero sum, and the penalty for this subarray will be the absolute value of its sum multiplied by its length.

- **Program Logic:**
  - The program calculates the number of "-" characters (`neg`).
  - If `n` (the length of the string) is not equal to `neg`, it prints `n - 2 * neg`.
  - If `n` is equal to `neg`, it prints `n`.

### Correctness Check:

- **Case 1: Equal Number of "+" and "-"**
  - If `n` is equal to `2 * neg`, it means there are an equal number of "+" and "-" characters. The optimal penalty is zero, and the program correctly prints `0`.

- **Case 2: Unequal Number of "+" and "-"**
  - If `n` is not equal to `2 * neg`, the program prints `n - 2 * neg`.
  - This calculation is based on the idea that the optimal way to split the array is to pair as many "+" and "-" as possible, and the remaining characters will form a subarray with a non-zero sum. The penalty for the remaining subarray is the absolute value of its sum multiplied by its length, which is `n - 2 * neg`.

- **Special Case: All Characters are "-"**
  - If all characters in `s` are "-", then `neg` will be equal to `n`. The program correctly prints `n` in this case, as the penalty for a single subarray containing all `-1` values is `n`.

### Conclusion:

The program correctly handles all the cases described in the problem and the execution summary. Therefore, the program is correct.

### Final Answer:
Correctness: **True**