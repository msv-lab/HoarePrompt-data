Functionality: ** The function `func` processes a series of test cases. It accepts an integer `t` (1 <= t <= 10^4) representing the number of test cases. For each test case, it reads an integer `n` (1 <= n <= 2 * 10^5) representing the size of an array, and then reads `n` integers from the input to form the array `num`. The function determines the maximum number of consecutive identical elements from the start of `num` (`cn`) and from the end of `num` (`ck`). If the first and last elements of `num` are the same, it adds `ck` to `cn`. Finally, it prints `n - max(cn, ck)` for each test case. After processing all test cases, the function concludes. **