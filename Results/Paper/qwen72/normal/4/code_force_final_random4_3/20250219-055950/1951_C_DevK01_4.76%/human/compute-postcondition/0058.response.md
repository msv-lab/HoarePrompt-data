The function `func` accepts multiple test cases, each with parameters `n`, `m`, `k`, and a list `a`. Here, `t` is an integer representing the number of test cases, with the constraint 1 ≤ t ≤ 10^4. For each test case, `n` is an integer representing the number of sale days (1 ≤ n ≤ 3 · 10^5), `m` is an integer representing the maximum amount of tickets purchasable each day (1 ≤ m ≤ 10^9), and `k` is an integer representing the number of tickets to be bought (1 ≤ k ≤ min(nm, 10^9)). The list `a` contains `n` integers, each representing the price per ticket for each of the upcoming `n` days (1 ≤ a_i ≤ 10^9). The sum of `n` over all test cases does not exceed 3 · 10^5.

The function returns the minimum total cost required to buy `k` tickets over the `n` days, considering the maximum number of tickets that can be bought each day is `m`.

Functionality: **The function accepts multiple test cases, each with parameters `n`, `m`, `k`, and a list `a`. It returns the minimum total cost required to buy `k` tickets over `n` days, with a daily ticket purchase limit of `m`.**