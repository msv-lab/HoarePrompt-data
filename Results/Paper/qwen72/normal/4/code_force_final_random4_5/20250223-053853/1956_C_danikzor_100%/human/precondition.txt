The function `solve` is called within a context where multiple test cases are provided. Each test case includes a single integer n (1 ≤ n ≤ 500) representing the size of an n×n matrix initially filled with zeroes. The function should handle up to 500 test cases, with the sum of n^2 over all test cases not exceeding 5 \cdot 10^5.