### Reasoning:

1. **Input Handling:**
   - The function correctly reads the number of test cases `t` and processes each test case by reading three integers `n`, `a`, and `b`.

2. **Condition Check:**
   - The function checks if `a` is greater than or equal to `b`. If true, it prints `n * a`, which is the correct profit if selling all buns at the usual price is more profitable than using the promotion. This is because if `a >= b`, the modified price will never be higher than the usual price, and thus selling all buns at the usual price is the optimal strategy.

3. **Promotion Calculation:**
   - If `a < b`, the function calculates the optimal number of buns `k` to sell at the modified price. The value `k` is set to `min(b - a + 1, n)`, which ensures that `k` does not exceed `n` and is the maximum number of buns that can be sold at a price higher than `a`.
   - The profit from selling the first `k` buns at the modified price is calculated using the formula for the sum of an arithmetic series: \(\text{ans} = \frac{(b + (b - k + 1))}{2} \times k\). This formula correctly computes the sum of the prices from `b` to `b - k + 1`.
   - The profit from selling the remaining `n - k` buns at the usual price `a` is calculated as `p2 = (n - k) * a`.

4. **Output:**
   - The function prints the total profit, which is the sum of `ans` and `p2`.

5. **Edge Cases:**
   - The function handles edge cases correctly, such as when `n` is 1 or when `a` is equal to `b`.

6. **Performance:**
   - The function is efficient and can handle the upper limits of the input constraints (1 ≤ n, a, b ≤ 10^9 and 1 ≤ t ≤ 10^4).

### Conclusion:
The program correctly implements the logic to determine the maximum profit Bob can obtain by selling all buns, taking into account the promotion and the usual price. The calculations and conditions are accurate, and the program handles all specified constraints and edge cases.

**Correctness: True**