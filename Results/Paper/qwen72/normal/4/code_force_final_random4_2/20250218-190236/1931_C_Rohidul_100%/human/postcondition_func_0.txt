The function `func` reads an integer `t` from the input, representing the number of test cases. For each test case, it reads an integer `n` and a list of integers `a` from the input. It then calculates the number of consecutive equal elements from the start (`st`) and the end (`end`) of the list `a`. The function computes the result `ans` as the length of the list `a` minus the maximum of `st` and `end`. If the first and last elements of `a` are equal, `ans` is adjusted to be the length of the list minus the sum of `st` and `end`, ensuring `ans` is non-negative. The function prints the result `ans` for each test case. After processing all test cases, the function completes without returning any value.