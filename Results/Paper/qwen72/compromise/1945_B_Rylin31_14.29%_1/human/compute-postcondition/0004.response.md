The function `func` accepts three parameters `a`, `b`, and `m`. `a` and `b` are the frequencies of launching fireworks for the first and second installations, respectively, and `m` is the duration for which each firework is visible. All parameters are integers within the range 1 ≤ a, b, m ≤ 10^18. The function returns the total number of distinct moments within the first `m` seconds when at least one firework is visible from either installation.

Functionality: **The function accepts three parameters `a`, `b`, and `m`, all integers within the range 1 to 10^18. It returns the total number of distinct moments within the first `m` seconds when at least one firework is visible from either installation.**