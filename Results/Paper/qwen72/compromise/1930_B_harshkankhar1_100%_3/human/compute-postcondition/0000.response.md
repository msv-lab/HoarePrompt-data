Output State: **The function should take a single integer `n` as input, where 3 ≤ n ≤ 10^5, and `n` is the length of the permutation `p`. `a` is a list of integers from 1 to `n` inclusive.**