Postcondition: ***`res` is a list with all elements that satisfy `l[a[j] - 1] == 1` for `j` from 0 to `n-1`, and `i` has iterated through all elements in `res`. If `ul` is not equal to `ur`, `i` is `2 * n - 1`, `n` is greater than 0, and for each element `a[k]` where `k` ranges from `n` to `2 * n - 1`, if `r[a[k] - 1]` was 2, then `r[a[k] - 1]` is now 0, and `ur` is increased by 2 for each such element. If `ul` becomes equal to `ur` at any point during the loop, the loop breaks and the final state is `i` is the value of `k` where `ul` became equal to `ur` minus 1. Otherwise, `i` remains `2 * n - 1`.***