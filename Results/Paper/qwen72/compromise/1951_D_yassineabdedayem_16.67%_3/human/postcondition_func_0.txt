The function `func` processes a series of test cases. It reads an integer `t` indicating the number of test cases. For each test case, it reads two positive integers `n` and `k`. The function then attempts to decompose `n` into a sum of products of integers, where each product is formed by a pair of integers whose values are determined by the current values of `n` and `k`. The function keeps track of these products in a list `tab`. If it successfully decomposes `n` such that `k` becomes 0, it prints 'YES', the length of `tab`, and the elements of `tab`. If it cannot decompose `n` to make `k` 0, it prints 'NO'. After processing all test cases, `t` is 0, and the state of `n`, `k`, `rep`, `tab`, `Min`, `Max`, and `number` is undefined for the next test case.