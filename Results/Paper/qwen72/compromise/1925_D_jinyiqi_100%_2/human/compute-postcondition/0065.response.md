Functionality: ** The function `func` processes multiple test cases, each defined by the number of nodes (`n`), the number of edges (`m`), and the number of queries (`k`). For each test case, it reads a list of edges, where each edge is represented by two nodes (`a_i`, `b_i`) and a value (`f_i`). It calculates a result based on these inputs and prints the result modulo \(10^9 + 7\). The final state of the program includes the printed results for each test case, and the variables `t`, `i`, `n`, `m`, `k`, `sum_f`, `j`, `a`, `b`, `f`, `cn2`, `p`, `q`, and `gcd` are updated accordingly for each iteration. **