The function `func` processes multiple test cases, each defined by the number of children `n`, the number of pairs of friends `m`, and the number of excursions `k`. For each test case, it reads `m` lines of input, each containing the indices of a pair of children who are friends and their initial friendship value. The function calculates a value `s` using modular arithmetic, where `s` is updated based on the sum of friendship values and the number of excursions. After processing all test cases, the function prints the final value of `s` for each test case, modulo `10^9 + 7`. The function does not return any value but prints the results directly.