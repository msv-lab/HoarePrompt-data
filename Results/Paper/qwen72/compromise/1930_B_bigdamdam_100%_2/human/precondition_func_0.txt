The function `func` is intended to solve the problem described, but the function definition provided does not include any parameters. For the problem to be correctly addressed, the function should accept an integer `n` as a parameter, where 3 ≤ n ≤ 10^5, and `n` is the length of the permutation to be generated.