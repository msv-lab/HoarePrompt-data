Precondition: **The function `func` is intended to interact with a predefined interactor that manages the graph and responses. The graph is a complete undirected graph with `n` vertices, from which exactly `(n - 2)` edges have been removed. The function must handle multiple test cases, where the number of test cases `t` satisfies \(1 \le t \le 1000\), and for each test case, `n` satisfies \(2 \le n \le 10^5\). The sum of `n` over all test cases does not exceed \(10^5\). The function can make up to `n` queries of the form "? d" to the interactor, where `d` is an integer such that \(0 \le d \le n - 1\). The interactor responds with two integers representing a vertex and another vertex not connected to it, or "0 0" if no such vertex exists. The function must output a Hamiltonian path in the form "! v_1 v_2 ... v_n" and flush the output buffer after each query and answer.**