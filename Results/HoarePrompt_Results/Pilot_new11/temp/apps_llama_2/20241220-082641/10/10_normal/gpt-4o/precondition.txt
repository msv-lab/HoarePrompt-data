d is an integer representing the number of sofas in the storehouse, n and m are integers representing the size of the storehouse, sofas is a list of 4-element lists or tuples representing the coordinates of the sofas, and cnt_l, cnt_r, cnt_t, cnt_b are integers representing the number of sofas to the left, right, top, and bottom of Grandpa Maks's sofa, respectively, such that 1 ≤ d ≤ 10^5, 1 ≤ n, m ≤ 10^5, 1 ≤ x_1, x_2 ≤ n, 1 ≤ y_1, y_2 ≤ m for each sofa, and 0 ≤ cnt_l, cnt_r, cnt_t, cnt_b ≤ d - 1.