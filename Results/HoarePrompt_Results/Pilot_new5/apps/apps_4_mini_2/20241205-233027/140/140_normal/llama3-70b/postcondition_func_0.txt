The function accepts an integer `node`, a list of lists `graph`, a list of boolean values `visited`, and a list of boolean values `rec_stack`. It performs a depth-first search to detect cycles in a directed graph. The function returns `True` if a cycle is detected (i.e., if a node is revisited while still in the recursion stack) or if there are unvisited neighbors. It returns `False` if all reachable nodes from `node` have been visited without detecting a cycle. Additionally, the function does not handle the case where the input `node` is out of bounds for the `graph`, which could lead to indexing errors.