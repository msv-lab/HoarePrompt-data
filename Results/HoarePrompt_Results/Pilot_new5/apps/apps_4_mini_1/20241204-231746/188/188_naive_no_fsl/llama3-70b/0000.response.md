To assess the correctness of the provided program against the problem description, let's analyze what the program is trying to achieve and how it operates.

### Problem Analysis
- Given `n` cards (even number), each with an integer.
- Petya and Vasya need to choose distinct integers such that:
  - All cards are taken.
  - The number of cards each player has must be equal.

### Conditions for a Fair Game
1. The counts of the integers they choose must be equal to `n/2`.
2. There must be exactly two distinct integers with this count.

### Program Functionality
The program follows these steps:
1. Reads the number of cards and the values on each card.
2. Uses a dictionary to count occurrences of each integer on the cards.
3. Looks for two distinct integers that each appear exactly `n // 2` times.
4. If both integers are found, it prints "YES" followed by the integers; otherwise, it prints "NO".

### Edge Cases
1. If all integers are the same (e.g., `6, 6`), it should return "NO".
2. If there are more than two distinct integers or if any of the integers do not occur exactly `n // 2` times, it should also return "NO".

### Example Case
Let's examine an edge case to find potential flaws:
- Input:
  ```
  4
  1
  1
  2
  2
  ```
- Expected Output: 
  ```
  YES
  1 2
  ```
  
- The values are distributed evenly.

### Another Case for Verification
- Input:
  ```
  4
  1
  1
  1
  2
  ```
- Expected Output:
  ```
  NO
  ```
- The count of `1` is `3`, and `2` is `1`. No two distinct integers have a count of `2`.

### Flaw Investigation
The program could fail for cases where it does not correctly handle scenarios where:
- Exactly two integers that appear an even number of times exist, but not both appear `n // 2` times.

### Conclusion
In summary, the program produces correct outputs for the examples provided and works within the constraints given, handling all specified and potential edge cases correctly.

Correctness: **True**