Postcondition: ***`n` is an integer (1 ≤ n ≤ 30), `i` is 30, `dp` is updated accordingly, `answer` is `max_cost`, `current_cost` is 0, and the current value of `L` is greater than or equal to 1 << 30.***