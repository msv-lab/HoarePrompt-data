The function accepts a string of digits `chars` and a non-empty string of digits `sub`, yielding all valid permutations of `chars` that satisfy the `is_valid_number` condition against `sub`. If `chars` is empty, no candidates are yielded.