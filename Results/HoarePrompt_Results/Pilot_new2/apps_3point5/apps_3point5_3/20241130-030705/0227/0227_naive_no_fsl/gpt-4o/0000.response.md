Correctness: False

The provided program does not correctly solve the problem. It does not follow the problem description for every potential case. Specifically, the logic in the `func_1` function does not accurately determine the minimum number of variables required to perform the described sequence of operations.

An example of the input where the program does not work as expected:
Input
3
3 6 5

Expected Output
-1

Actual Output
2

The program incorrectly outputs 2 instead of -1 for the given input. This shows that the program is incorrect and does not handle all potential cases as described in the problem statement.