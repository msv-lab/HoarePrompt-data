Correctness: False

The provided program does not correctly solve the problem as described. The logic in the `func_1` function does not correctly determine the minimum number of variables needed to perform the described sequence of operations.

An example where the program fails:
Input
3
3 6 5

Expected Output
-1

Actual Output
2

In this case, the program should output -1 as it is not possible to perform the sequence of operations with any number of variables.