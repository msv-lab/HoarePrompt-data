The function accepts a string of digits `chars` and a non-empty string `sub`, then generates all possible permutations of `chars`. For each permutation, it checks if the resulting string is valid according to the `is_valid_number` function with respect to `sub`. If valid, it yields the valid permutations one at a time. If `chars` is empty, no permutations are generated, resulting in no output. The function does not return a list but rather a generator yielding valid candidates.