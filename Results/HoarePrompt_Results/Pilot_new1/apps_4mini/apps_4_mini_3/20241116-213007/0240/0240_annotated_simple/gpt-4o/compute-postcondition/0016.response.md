Functionality: ** The function accepts a string of digits `chars` and a non-empty substring of digits `sub`, generating all possible permutations of `chars`. It yields a permutation as a valid candidate if it passes the `is_valid_number` check against `sub`. If `chars` is empty, no candidates are yielded. If none of the permutations are valid numbers based on the `is_valid_number` function, the function yields no candidates. It does not filter or validate the permutations based on the occurrences of `sub` in `chars`, which may be an implicit expectation based on the annotations. **