The function accepts a string `chars` containing digits and a non-empty substring `sub`. It generates and yields all valid permutations of `chars` that satisfy the condition defined by the `is_valid_number` function when checked against `sub`. If `chars` is empty or does not contain valid digits, the function does not yield any candidates. The function does not return a list but rather a generator that yields valid candidates one at a time.