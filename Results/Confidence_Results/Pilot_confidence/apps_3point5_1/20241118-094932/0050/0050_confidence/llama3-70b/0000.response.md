Correctness: True, Confidence: 100

Explanation: The program correctly follows the problem description by sorting the buy and sell opportunities, then iterates through them to maximize the number of shares bought and sold based on the available funds. The logic seems sound and covers all potential cases.