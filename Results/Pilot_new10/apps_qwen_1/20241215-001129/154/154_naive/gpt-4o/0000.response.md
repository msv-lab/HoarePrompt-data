Correctness: **True**

Explanation: The provided program correctly implements the logic to calculate the maximum number of points Polycarp can earn within the given time limit \( M \). Here's a breakdown of the key aspects:

1. **Initialization**: The program reads the input correctly and initializes the necessary variables.
2. **Complete Tasks Calculation**: It iterates over the number of complete tasks from 0 to \( n \), calculating the total time spent and checking if it exceeds \( M \).
3. **Partial Tasks Calculation**: For each combination of complete tasks, it calculates the remaining time and determines how many additional subtasks can be completed.
4. **Subtask Calculation**: The program ensures that the number of subtasks solved does not exceed the remaining time and the available partial tasks.

Given the structure and logic, the program appears to handle all edge cases correctly, such as when no tasks are completed, when all tasks are completed, and when intermediate subtasks are solved. The program accounts for both the points gained from fully completing tasks and the points from solving individual subtasks within the remaining time.

Since the program follows the problem description and handles all potential cases as expected, the correctness is **True**.