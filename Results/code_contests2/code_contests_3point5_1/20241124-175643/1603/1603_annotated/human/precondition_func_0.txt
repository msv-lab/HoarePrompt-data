**Precondition**: n and m are integers such that 1 <= n, m <= 10^3. Each segment defined by the visitors has a valid range within the number of flowers.