The function `func` reads an integer `n` as input and then reads `n` lines of space-separated integers. It calculates the maximum value in each line and stores it in `arr`. It also stores the size of each line in `arr2`. Then, it finds the maximum value in `arr` and calculates the sum of products of differences between the maximum value and each element in `arr` multiplied by the corresponding element in `arr2`. Finally, it prints the result. If `n` is 0, no calculations are performed and the function terminates without any output.