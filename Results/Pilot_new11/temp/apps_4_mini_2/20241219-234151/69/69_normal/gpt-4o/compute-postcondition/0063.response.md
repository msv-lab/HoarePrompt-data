Postcondition: ***`final_x` and `final_y` are the results of net movements, `n` is a positive integer (1 <= n <= 200000), `i` is 0, `target_pos` is `current_x + dx`, `current_y + dy`. The current value of `target_pos` is in `position_map`.***