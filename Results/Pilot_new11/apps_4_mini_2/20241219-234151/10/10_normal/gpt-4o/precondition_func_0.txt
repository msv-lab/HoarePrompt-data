d is a positive integer (1 ≤ d ≤ 10^5), n and m are positive integers (1 ≤ n, m ≤ 10^5), and each sofa is defined by two pairs of coordinates (x_1, y_1) and (x_2, y_2) such that 1 ≤ x_1, x_2 ≤ n and 1 ≤ y_1, y_2 ≤ m, fulfilling the conditions that they are neighboring cells and they are distinct. Finally, cnt_l, cnt_r, cnt_t, and cnt_b are non-negative integers (0 ≤ cnt_{l}, cnt_{r}, cnt_{t}, cnt_{b} ≤ d - 1).