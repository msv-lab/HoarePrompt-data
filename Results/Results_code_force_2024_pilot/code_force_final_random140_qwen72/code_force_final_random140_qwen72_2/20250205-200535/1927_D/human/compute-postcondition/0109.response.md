The function `func` accepts several parameters: `t`, `n`, `a`, `q`, and a list of queries, each consisting of two integers `l` and `r`. 

- `t` is an integer where 1 ≤ t ≤ 10^4.
- `n` is an integer where 2 ≤ n ≤ 2 · 10^5.
- `a` is a list of `n` integers where 1 ≤ a_i ≤ 10^6.
- `q` is an integer where 1 ≤ q ≤ 2 · 10^5.
- For each query, `l` and `r` are integers where 1 ≤ l < r ≤ n.

The function processes the queries on the list `a` and returns the results for each query.

Functionality: **The function accepts parameters `t`, `n`, `a`, `q`, and a list of queries, each containing two integers `l` and `r`. It processes the queries on the list `a` and returns the results for each query.**