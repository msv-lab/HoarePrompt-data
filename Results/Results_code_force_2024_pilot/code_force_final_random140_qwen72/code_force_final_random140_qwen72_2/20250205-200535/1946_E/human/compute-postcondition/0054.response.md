Postcondition: ***`i` is incremented by 1, `N`, `M1`, `M2`, `L`, `R`, and `nums_left` remain unchanged. If `i == R[cur]`, `cur` is incremented by 1 and `ans` remains unchanged. Otherwise, `ans` is updated to `ans * nums_left % MOD`.***