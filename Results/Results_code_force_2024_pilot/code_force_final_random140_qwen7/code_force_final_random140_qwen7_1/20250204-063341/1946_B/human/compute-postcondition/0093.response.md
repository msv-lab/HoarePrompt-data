Functionality: **The function processes multiple test cases, where each test case consists of a positive integer \(t\) (number of elements in the array), two positive integers \(n\) and \(k\), and an array \(a\) of \(n\) integers. For each test case, it calculates the maximum value of a running sum \(c\) that is reset under certain conditions involving negative elements in the array. It then computes and prints the result of the expression \(2^k \times \text{maxi} - \text{maxi} + \text{sum}(a)\) modulo \(10^9 + 7\), where \(\text{maxi}\) is the maximum value of \(c\) across the test case.**