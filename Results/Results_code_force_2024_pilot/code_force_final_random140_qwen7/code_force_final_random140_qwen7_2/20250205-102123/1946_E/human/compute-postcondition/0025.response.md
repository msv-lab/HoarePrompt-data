Postcondition: `cur` is an integer, `M1` is greater than 1, `nums_left` is `L[-1]` - 2, `i` is greater than 1. If `i` is equal to the value of `L[cur]`, then `cur` is set to `M1` - 3. Otherwise, `cur` remains as `M1` - 2, `ans` is updated to `ans` * (`nums_left`) % `MOD`.