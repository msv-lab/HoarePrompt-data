Postcondition: `len` must be at least 4, `s` is an iterable with at least 4 elements, `i` has taken on the first 4 elements of `s`. If `i` is '@', `thorn` is 0 and `ret` is 1. If `i` is not '@', `thorn` is 2 if `i` equals '*', otherwise `thorn` remains 0.