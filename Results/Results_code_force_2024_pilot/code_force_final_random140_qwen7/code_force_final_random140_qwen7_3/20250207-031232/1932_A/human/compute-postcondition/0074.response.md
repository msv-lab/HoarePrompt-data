Postcondition: `len` must be at least 4, `s` is an iterable with at least 4 elements, `i` has taken on the first 4 elements of `s`. If `i` is '@', `thorn` is 0 and `ret` is 1. If `i` is not '@' and equals '*', `thorn` is set to 2. If `i` is neither '@' nor '*', `thorn` remains 0.