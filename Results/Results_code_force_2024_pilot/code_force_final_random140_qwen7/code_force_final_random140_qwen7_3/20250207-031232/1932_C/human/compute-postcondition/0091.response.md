Postcondition: `s` is a non-empty string, `strr` is either 'R' or not 'R'. If `strr` is 'R', `p` is updated to `p * arr[1] % m`. If `strr` is not 'R', `l` is one less than its original value, and `p` is updated to `p * arr[l] % m`.