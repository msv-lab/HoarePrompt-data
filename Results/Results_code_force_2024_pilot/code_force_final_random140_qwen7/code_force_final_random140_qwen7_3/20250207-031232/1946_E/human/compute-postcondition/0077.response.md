Postcondition: **`nums_left` is equal to 0, `cur` is a value between 1 and `N - R[0]`, `i` is equal to `N`, `ans` is the result of `func_1(N - 1, L[-1] - 1) * (N - R[0] - 1) * (N - R[0] - 2) * ... * 1 % MOD` if `i` is not equal to any `R[cur]` during the loop, or a product of `func_1(N - 1, L[-1] - 1)` and some `nums_left` values if `i` equals any `R[cur]` during the loop, and the conditions `M1 > 1`, `M2 > 1`, `L[-2] != R[1]` are still valid.**