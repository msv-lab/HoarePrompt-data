Postcondition: `nums_left` is equal to `nums_left - 2`, `i` must be greater than 1, `cur` is decremented by 1 if `i` equals `L[cur]`; otherwise, `ans` is multiplied by `nums_left` modulo `MOD`.